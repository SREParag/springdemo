/* sabre-spark - v2.2.0 - 2017-4-25 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.Spark||(e.Spark={})).Tooltip=t()}}(function(){return function t(e,o,i){function n(s,l){if(!o[s]){if(!e[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=o[s]={exports:{}};e[s][0].call(c.exports,function(t){var o=e[s][1][t];return n(o||t)},c,c.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var n=t("../helpers/util/each"),r=function(t){return t&&t.__esModule?t:{default:t}}(n),s=function(){},l=function(){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),o.elRequired&&!e||(this.setParams(this.defaults||{},!0),this.setParams(o),(this._cacheElements||s).call(this,e,o),(this._parseParams||s).call(this))}return t.prototype.remove=function(t){return this._removeEventListeners&&this._removeEventListeners(),!t&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},t.prototype.update=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||s).call(this,t||this.el,e),(this._parseParams||s).call(this),this._addEventListeners&&this._addEventListeners(),this},t.prototype.setParams=function(t,e){var o=this;return(0,r.default)(t,function(t,i){(-1!==o._whitelistedParams.indexOf(t)||e)&&(o[t]=i)}),this},t.prototype.unsetParams=function(t,e){return t=t instanceof Array?t:Object.keys(t),e=e||this,(0,r.default)(t,function(t){delete e[t]}),this},t}();l.prototype._whitelistedParams=[],l.prototype.defaults={},o.default=l,e.exports=o.default},{"../helpers/util/each":14}],2:[function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(o,"__esModule",{value:!0});var l=t("./base"),a=i(l),u=t("../helpers/dom/add-class"),c=i(u),h=t("../helpers/dom/remove-class"),d=i(h),f=t("../helpers/dom/has-class"),p=i(f),v=t("../helpers/dom/toggle-class"),g=i(v),_=t("../helpers/traversal/has-parent"),m=i(_),y=t("../helpers/dom/parse-attribute"),E=t("../helpers/position/affix"),b=i(E),w=t("../helpers/dom/make-element"),x=i(w),L=function(t){function e(o){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),s.elRequired=!0,(i=r(this,t.call(this,o,s)))?(i._bindEventListenerCallbacks(),i._addEventListeners(),r(i)):r(i)}return s(e,t),e.prototype.open=function(){return this.affix?this:(this.affix=new b.default({el:this.contentEl,targetEl:this.toggleEl,caretEl:this.caretEl,anchorX:this.anchorX,anchorY:this.anchorY}),(0,c.default)(this.contentEl,"active"),this.isActive=!0,this)},e.prototype.close=function(){return this.affix?((0,d.default)(this.contentEl,"active"),this.el.appendChild(this.contentEl),this.affix.remove({keepEl:!0}),this.affix=null,this.isActive=!1,this):this},e.prototype.toggle=function(){return this[this.isActive?"close":"open"]()},e.prototype.update=function(t){return this.affix&&this.affix.update(),this._removeEventListeners(),this._cacheElements(t||this.el),this._addEventListeners(),this},e.prototype.remove=function(e){return this.close(),(0,d.default)(this.el,"tooltip-initialized"),t.prototype.remove.call(this,e)},e.prototype._cacheElements=function(t){this.el=t,this.toggleEl=this.el.querySelector('.spark-tooltip__toggle, [data-role="toggle"]')||this.el,this.contentEl=this.contentEl||this.el.querySelector('[class*="spark-tooltip__content--"]')||this._createContentEl(),this.caretEl=this.el.querySelector(".spark-tooltip__caret")||this._createCaretEl(),this.isActive=(0,p.default)(this.toggleEl,"tooltip-active"),(0,c.default)(this.el,"tooltip-initialized")},e.prototype._parseParams=function(){this.anchorY=null!==this.anchorY?this.anchorY:(0,y.string)(this.el,"data-anchor-y",null),this.anchorX=null!==this.anchorX?this.anchorX:(0,y.string)(this.el,"data-anchor-x",null),this.anchorY||this.anchorX||((0,p.default)(this.contentEl,"spark-tooltip__content--left")?(this.anchorY="middle",this.anchorX="left"):(0,p.default)(this.contentEl,"spark-tooltip__content--right")?(this.anchorY="middle",this.anchorX="right"):(0,p.default)(this.contentEl,"spark-tooltip__content--top")?(this.anchorY="top",this.anchorX="center"):(0,p.default)(this.contentEl,"spark-tooltip__content--bottom")&&(this.anchorY="bottom",this.anchorX="center"))},e.prototype._updateAttributes=function(){(0,g.default)(this.el,"tooltip-active",this.isActive),(0,g.default)(this.contentEl,"tooltip-active",this.isActive),(0,g.default)(this.toggleEl,"active",this.isActive)},e.prototype._bindEventListenerCallbacks=function(){this._onMouseoverBound=this._onMouseover.bind(this),this._onMouseoutBound=this._onMouseout.bind(this),this._onWindowMouseoverBound=this._onWindowMouseover.bind(this)},e.prototype._addEventListeners=function(){this.toggleEl.addEventListener("mouseover",this._onMouseoverBound),this.toggleEl.addEventListener("mouseout",this._onMouseoutBound)},e.prototype._removeEventListeners=function(){this.toggleEl.removeEventListener("mouseover",this._onMouseoverBound),this.toggleEl.removeEventListener("mouseout",this._onMouseoutBound)},e.prototype._addWindowEventListeners=function(){window.addEventListener("mouseover",this._onWindowMouseoverBound)},e.prototype._removeWindowEventListeners=function(){window.removeEventListener("mouseover",this._onWindowMouseoverBound)},e.prototype._createContentEl=function(){return(0,x.default)('<div class="spark-tooltip__content"></div>')},e.prototype._createCaretEl=function(){return(0,x.default)('<div class="spark-tooltip__caret"></div>')},e.prototype._onMouseover=function(){this._addWindowEventListeners(),this.open()},e.prototype._onMouseout=function(){this._removeWindowEventListeners(),this.close()},e.prototype._onWindowMouseover=function(t){t.target===this.el||(0,m.default)(t.target,this.el)||this._onMouseout()},e}(a.default);L.prototype._whitelistedParams=["anchorY","anchorX","contentEl","toggleEl"],L.prototype.defaults={el:null,toggleEl:null,contentEl:null,caretEl:null,isActive:!1,affix:null,anchorY:null,anchorX:null,_onMouseoverBound:null,_onMouseoutBound:null,_onWindowMouseoverBound:null},o.default=L,e.exports=o.default},{"../helpers/dom/add-class":3,"../helpers/dom/has-class":4,"../helpers/dom/make-element":5,"../helpers/dom/parse-attribute":7,"../helpers/dom/remove-class":8,"../helpers/dom/toggle-class":9,"../helpers/position/affix":10,"../helpers/traversal/has-parent":12,"./base":1}],3:[function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(e=2===arguments.length&&"string"==typeof e?(0,s.default)(e).split(u):e instanceof Array?e:Array.prototype.slice.call(arguments,1),1===e.length&&t.classList)return e[0]&&t.classList.add(e[0]),t;for(var o=[],i=0,n=e.length,r=void 0,l="string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"";i<n;i++)(r=e[i])&&!(0,a.default)(l,r)&&o.push(r);return o.length&&("string"==typeof t.className?t.className=(0,s.default)((l+" "+o.join(" ")).replace(c," ")):t.setAttribute&&t.setAttribute("class",(0,s.default)((l+" "+o.join(" ")).replace(c," ")))),t}Object.defineProperty(o,"__esModule",{value:!0});var r=t("../util/trim"),s=i(r),l=t("./has-class"),a=i(l),u=/\s+/,c=/\s{2,}/g;o.default=n,e.exports=o.default},{"../util/trim":15,"./has-class":4}],4:[function(t,e,o){"use strict";function i(t,e){return-1!==(" "+("object"===(void 0===t?"undefined":n(t))?t.className||t.getAttribute&&t.getAttribute("class")||"":t||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+e+" ")}Object.defineProperty(o,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o.default=i,e.exports=o.default},{}],5:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t){if(!t)throw new Error("Cannot create element with no HTML!");var e=document.createElement("div");e.innerHTML=t;var o=e.children[0];return o.parentNode.removeChild(o),o},e.exports=o.default},{}],6:[function(t,e,o){"use strict";function i(t,e){var o={top:0,left:0};if(t.getBoundingClientRect){var i=t.getBoundingClientRect();o.left=i.left,o.top=i.top,e||(o.left+=void 0!==window.scrollX?window.scrollX:window.pageXOffset,o.top+=void 0!==window.scrollY?window.scrollY:window.pageYOffset)}else{var n=0,r=0;do{n+=t.offsetLeft-(e?0:t.scrollLeft),r+=t.offsetTop-(e?0:t.scrollTop)}while(t=t.offsetParent);o.left=n,o.top=r}return o}Object.defineProperty(o,"__esModule",{value:!0}),o.default=i,e.exports=o.default},{}],7:[function(t,e,o){"use strict";function i(t,e,o){var i=t.getAttribute(e);return null===i?o:"true"===i||""===i}function n(t,e,o){var i=t.getAttribute(e);return null===i?o:parseInt(i,10)}function r(t,e,o){var i=t.getAttribute(e);return null===i?o:i}Object.defineProperty(o,"__esModule",{value:!0}),o.boolean=i,o.number=n,o.string=r},{}],8:[function(t,e,o){"use strict";function i(t,e){if(e=2===arguments.length&&"string"==typeof e?(0,r.default)(e).split(s):e instanceof Array?e:Array.prototype.slice.call(arguments,1),1===e.length&&t.classList)return e[0]&&t.classList.remove(e[0]),t;for(var o=" "+("string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"")+" ",i=o,n=void 0,a=void 0,u=0,c=e.length;u<c;u++)n=e[u],-1!==(a=n?i.indexOf(" "+n+" "):-1)&&(a+=1,i=i.slice(0,a)+i.slice(a+n.length));return o!==i&&("string"==typeof t.className?t.className=(0,r.default)(i.replace(l," ")):t.setAttribute&&t.setAttribute("class",(0,r.default)(i.replace(l," ")))),t}Object.defineProperty(o,"__esModule",{value:!0});var n=t("../util/trim"),r=function(t){return t&&t.__esModule?t:{default:t}}(n),s=/\s+/,l=/\s{2,}/g;o.default=i,e.exports=o.default},{"../util/trim":15}],9:[function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e,o){if(t){if(!(t instanceof NodeList||t instanceof Array)){var i=void 0;return void 0!==o?(o="function"==typeof o?o.call(null,t):o,i=o?"add":"remove"):i=(0,s.default)(t,e)?"remove":"add",("add"===i?a.default:c.default)(t,e)}for(var r=0,l=t.length;r<l;r++)n(t[r],e,o)}}Object.defineProperty(o,"__esModule",{value:!0});var r=t("./has-class"),s=i(r),l=t("./add-class"),a=i(l),u=t("./remove-class"),c=i(u);o.default=n,e.exports=o.default},{"./add-class":3,"./has-class":4,"./remove-class":8}],10:[function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var r=t("../dom/offset"),s=i(r),l=t("./box-position"),a=i(l),u=t("../util/debounce"),c=i(u),h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.el=e.el,this.targetEl=e.targetEl,this.caretEl=e.caretEl,this.anchorY=e.anchorY||"top",this.anchorX=e.anchorX||"center",this.isFixed=e.isFixed||!1,this._addEventListeners(),this._insertEl(),this._setPosition(),this._updateDebounced=(0,c.default)(this.update.bind(this),500)}return t.prototype.remove=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).keepEl||this._removeEl(),this._removeEventListeners(),this},t.prototype.update=function(){return this._setPosition(),this},t.prototype._addEventListeners=function(){this._onResizeBound=this._onResize.bind(this),this._onScrollBound=this._onScroll.bind(this),window.addEventListener("resize",this._onResizeBound),window.addEventListener("scroll",this._onScrollBound)},t.prototype._removeEventListeners=function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("scroll",this._onScrollBound)},t.prototype._insertEl=function(){this.el.setAttribute("data-affixed",""),this._getRootEl().appendChild(this.el)},t.prototype._removeEl=function(){this.el.parentNode.removeChild(this.el),this.el.removeAttribute("data-affixed")},t.prototype._setPosition=function(){this.el.style.setProperty("position",this.isFixed?"fixed":"absolute","important");var t=(0,s.default)(this.targetEl,this.isFixed),e=t.top,o=t.left,i=this.targetEl.offsetWidth,n=this.targetEl.offsetHeight,r=this.el.offsetWidth,l=this.el.offsetHeight,a=document.documentElement.offsetHeight,u=document.documentElement.offsetWidth,c=this._calculatePosition({anchorX:this.anchorX,anchorY:this.anchorY,targetTop:e,targetLeft:o,elHeight:l,elWidth:r,targetHeight:n,targetWidth:i,minX:0,minY:0,maxX:u-r,maxY:Math.max(a-l,0)}),h=c.elTop,d=c.elLeft,f=this._positionCaret({elLeft:d,elTop:h,elWidth:r,elHeight:l,targetHeight:n,targetWidth:i,targetLeft:o,targetTop:e}),p=f.extraLeft,v=f.extraTop;this.el.style.left=d+p+"px",this.el.style.top=h+v+"px"},t.prototype._calculatePosition=function(t){t.previousAttempts=(t.previousAttempts||0)+1,t.previousChecks=t.previousChecks||[];var e=t.previousAttempts>3,o=void 0,i=void 0;switch(t.anchorY){case"bottom":o=t.targetTop+t.targetHeight;break;case"middle":o=t.targetTop-(t.elHeight-t.targetHeight)/2;break;default:o=t.targetTop-t.elHeight}if(o<t.minY){if(!e&&-1===t.previousChecks.indexOf("overY"))return t.previousChecks.push("underY"),t.anchorY=this._getNewAnchorY(!0,t.anchorY,t.anchorX),this._calculatePosition(t);o=t.minY}switch(t.anchorX){case"right":i=t.targetLeft+("middle"===t.anchorY||t.isOverlapping?t.targetWidth:0);break;case"center":i=t.targetLeft-(t.elWidth-t.targetWidth)/2;break;default:i=t.targetLeft-t.elWidth+("middle"!==t.anchorY?t.targetWidth:0)}if(i<t.minX){if(!e&&-1===t.previousChecks.indexOf("overX"))return t.previousChecks.push("underX"),t.anchorX=this._getNewAnchorX(!0,t.anchorX,t.anchorY),this._calculatePosition(t);i=t.minX}if(i>t.maxX){if(!e&&-1===t.previousChecks.indexOf("underX"))return t.previousChecks.push("overX"),t.anchorX=this._getNewAnchorX(!1,t.anchorX,t.anchorY),this._calculatePosition(t);i=t.maxX}if("overlap"===(0,a.default)({width:t.elWidth,height:t.elHeight,left:i,top:o},{width:t.targetWidth,height:t.targetHeight,left:t.targetLeft,top:t.targetTop})){if(t.isOverlapping=!0,!1!==t.repositionY)return t.repositionY=!t.repositionY,t.anchorY=this._getNewAnchorY(t.repositionY,"middle",t.anchorX),t.previousAttempts--,this._calculatePosition(t);if(!1!==t.repositionX)return t.repositionX=!t.repositionX,t.anchorX=this._getNewAnchorX(t.repositionX,"center",t.anchorY),t.previousAttempts--,this._calculatePosition(t)}return{elTop:o,elLeft:i,anchorX:t.anchorX,anchorY:t.anchorY}},t.prototype._getNewAnchorY=function(t,e,o){return"center"===o||"middle"===e?t?"bottom":"top":"middle"},t.prototype._getNewAnchorX=function(t,e,o){return"middle"===o||"center"===e?t?"left":"right":"center"},t.prototype._positionCaret=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.caretEl){var e=(0,a.default)({width:t.elWidth,height:t.elHeight,left:t.elLeft,top:t.elTop},{width:t.targetWidth,height:t.targetHeight,left:t.targetLeft,top:t.targetTop}),o=this.caretEl.getBoundingClientRect(),i=o.width,n=o.height,r=Math.min(t.elWidth,Math.max(0,t.targetLeft-t.elLeft+t.targetWidth/2)),s=Math.min(t.elHeight,Math.max(0,t.targetTop-t.elTop+t.targetHeight/2));this.caretEl.style.left=Math.round(r)+"px",this.caretEl.style.top=Math.round(s)+"px";var l=0,u=0;switch(this.caretEl.setAttribute("data-position",e),e){case"above":u=-i/2;break;case"below":u=i/2;break;case"left":l=-n/2;break;default:l=n/2}return{extraLeft:l,extraTop:u}}},t.prototype._getRootEl=function(){var t=document.querySelector("body > form");return t&&null===t.getAttribute("data-affixed")?t:document.body},t.prototype._onResize=function(){this.update()},t.prototype._onScroll=function(){this._updateDebounced()},t}();o.default=h,e.exports=o.default},{"../dom/offset":6,"../util/debounce":13,"./box-position":11}],11:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(t,e){var o=t.left+t.width,i=t.top+t.height,n=e.left+e.width,r=e.top+e.height;return o<=e.left?"left":t.left>=n?"right":i<=e.top?"above":t.top>=r?"below":"overlap"},e.exports=o.default},{}],12:[function(t,e,o){"use strict";function i(t,e){for(var o=t.parentNode;o;){if(o===e)return!0;o=o.parentNode}return!1}Object.defineProperty(o,"__esModule",{value:!0}),o.default=i,e.exports=o.default},{}],13:[function(t,e,o){"use strict";function i(t,e){var o=void 0;return function(){var i=arguments;o&&window.clearTimeout(o),o=window.setTimeout(function(){t.apply(this,i)},e)}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=i,e.exports=o.default},{}],14:[function(t,e,o){"use strict";function i(t,e){if(t){if("function"!=typeof e)throw new Error("Cannot invoke `each` without a callback!");var o=0,i=t.length;if(void 0===i)for(o in t)"prototype"!==o&&t.hasOwnProperty(o)&&e(o,t[o]);else for(;o<i;o++)e(t[o])}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=i,e.exports=o.default},{}],15:[function(t,e,o){"use strict";function i(t){return t.replace(n,"")}Object.defineProperty(o,"__esModule",{value:!0});var n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;o.default=i,e.exports=o.default},{}]},{},[2])(2)});