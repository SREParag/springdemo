/* sabre-spark - v2.2.0 - 2017-4-25 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Spark=t()}}(function(){return function t(e,i,s){function n(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){var i=e[r][1][t];return n(i||t)},u,u.exports,t,e,i,s)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../helpers/util/each"),o=function(t){return t&&t.__esModule?t:{default:t}}(n),r=function(){},a=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),i.elRequired&&!e||(this.setParams(this.defaults||{},!0),this.setParams(i),(this._cacheElements||r).call(this,e,i),(this._parseParams||r).call(this))}return t.prototype.remove=function(t){return this._removeEventListeners&&this._removeEventListeners(),!t&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},t.prototype.update=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||r).call(this,t||this.el,e),(this._parseParams||r).call(this),this._addEventListeners&&this._addEventListeners(),this},t.prototype.setParams=function(t,e){var i=this;return(0,o.default)(t,function(t,s){(-1!==i._whitelistedParams.indexOf(t)||e)&&(i[t]=s)}),this},t.prototype.unsetParams=function(t,e){return t=t instanceof Array?t:Object.keys(t),e=e||this,(0,o.default)(t,function(t){delete e[t]}),this},t}();a.prototype._whitelistedParams=[],a.prototype.defaults={},i.default=a,e.exports=i.default},{"../helpers/util/each":65}],2:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){var t=document.createElement("span");return t.className="spark-input spark-date",t.innerHTML='<input class="spark-input__field" type="date"><span class="spark-label"></span>',t}function l(t,e){return t&&t.hasOwnProperty("length")?e.els=t:t instanceof HTMLElement?e.els=[t]:(e=t||{},e.els=[a()]),e.visibleCounts=e.visibleCounts||(e.visibleCount?[e.visibleCount]:null),e.mins=e.mins||(e.min?[e.min]:[]),e.maxes=e.maxes||(e.max?[e.max]:[]),e.values=e.values||(e.value?[e.value]:[]),e}Object.defineProperty(i,"__esModule",{value:!0});var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=t("./base"),d=s(u),c=t("./popover"),p=s(c),f=t("../helpers/date/parse-format"),_=s(f),m=t("../helpers/date/date"),v=s(m),y=t("../helpers/form/build-select"),g=s(y),b=t("../helpers/dom/add-class"),E=s(b),w=t("../helpers/dom/remove-class"),k=s(w),C=t("../helpers/dom/has-class"),x=s(C),B=t("../helpers/manipulation/append-children"),S=s(B),L=t("../helpers/traversal/get-parent"),M=s(L),T=t("../helpers/dom/trigger-event"),A=s(T),I=t("../helpers/dom/breakpoint"),D=t("../helpers/animation/scroll-to"),O=s(D),P=t("../helpers/traversal/get-sibling-before"),F=s(P),V=t("../helpers/traversal/get-sibling-after"),R=s(V),z=t("../helpers/util/range"),q=s(z),j=t("../helpers/dom/parse-attribute"),N=function(){},H=(0,_.default)("YYYY-MM-DD"),W=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r=l(i,r),(s=o(this,t.call(this,i,r)))?((s.calendarEl?N:s._createCalendar).call(s),s._cacheCalendarElements(),s._bindEventListenerCallbacks(),s._addEventListeners(),s._initDatesToShow(),o(s)):o(s)}return r(e,t),e.prototype.update=function(t){return t&&(this._removeEventListeners(),this.els=t instanceof Array?t:[t],this._cacheElements(),this._addEventListeners()),this._initDatesToShow(),null!==this.activeIndex&&(this.render(),this._checkSize()),this},e.prototype.open=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._isDisabled[t]?this:(this._unfillToggle(),"object"===(void 0===t?"undefined":h(t))&&(e=t,t=0),this.activeIndex===t?this:(null!==this.activeIndex&&this._deactivateElement(this.activeIndex),clearTimeout(this._openCloseTimer),this.activeIndex=t,this.popover||this._createPopover(),this._initDatesToShow(),this.updateValues(),this.render({clearCache:!0}),this._openCloseTimer=setTimeout(function(){this.popover.open({affixTo:this.els[t].querySelector(".spark-date__calendar-toggle")})}.bind(this),e.delay||0),this._activateElement(t),this))},e.prototype.close=function(t){if(this._unfillToggle(),t=t||{},null===this.activeIndex||!this.popover)return this;this._deactivateElement(this.activeIndex),clearTimeout(this._openCloseTimer),this.activeIndex=null,this._openCloseTimer=setTimeout(function(){this.popover.close()}.bind(this),t.delay||0)},e.prototype.getValue=function(t){return this.values[t||0]},e.prototype.setValue=function(t,e,i){var s="object"===(void 0===t?"undefined":h(t))?t:H.getValues(t),n=void 0;if(e instanceof HTMLElement?(n=e,e=this.inputEls.indexOf(n)):(e=e||0,n=this.inputEls[e]),this.values[e]=s,t&&this._checkValues(e,i),n.value=t&&s===t?H.getString(t):t||"",this._inputsChanging=this._inputsChanging||[],-1===this._inputsChanging.indexOf(e)){this._inputsChanging.push(e),(0,A.default)(n,"change"),(this.onChange||N)(n,n.value,this);var o=this._inputsChanging.indexOf(e);this._inputsChanging.splice(o,1)}return this.render({clearCache:!0}),this},e.prototype.clearValues=function(){for(var t=this.inputEls,e=0,i=t.length;e<i;e++)this.clearValue(e);return this},e.prototype.clearValue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.values=this.values||[],!this.inputEls[t])throw new Error("Cannot clear value at index "+t+". No input element exists with that index!");return this.values[t]=this.inputEls[t].value=null,this},e.prototype.updateValues=function(){for(var t=this.inputEls,e=0,i=t.length;e<i;e++)this.updateValue(e);return this},e.prototype.updateValue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.values=this.values||[],!this.inputEls[t])throw new Error("Cannot update value at index "+t+". No input element exists with that index!");return this.values[t]=this.inputEls[t].value?H.getValues(this.inputEls[t].value):null,this},e.prototype.disable=function(t){for(var e=t||0,i=void 0!==t?t+1:this.els.length,s=void 0;e<i;e++)this._isDisabled[e]=!0,this.els[e].setAttribute("disabled",""),(s=this.els[e].querySelector(".spark-date__calendar-toggle"))&&s.setAttribute("disabled","");return this.close(),this},e.prototype.enable=function(t){for(var e=t||0,i=void 0!==t?t+1:this.els.length,s=void 0;e<i;e++)this._isDisabled[e]=!1,this.els[e].removeAttribute("disabled",""),(s=this.els[e].querySelector(".spark-date__calendar-toggle"))&&s.removeAttribute("disabled");return this},e.prototype.render=function(t){t=t||{},this.popover||this._createPopover();var e=void 0;return t.clearCache&&(this._renderCache={}),e="year"===this.viewRange?this._renderYears():"week"===this.viewRange?this._renderWeeks():"day"===this.viewRange?this._renderDays():this._renderMonths(),this._insertContent(e,t),this._updateAttributes(),this},e.prototype.remove=function(e){return this.popover.remove(),t.prototype.remove.call(this,e)},e.prototype.next=function(){return this._atMax?this:(this._setDatesToShow(1),this.render({append:1}),this)},e.prototype.previous=function(){return this._atMin?this:(this._setDatesToShow(-1),this.render({prepend:1}),this)},e.prototype.showDate=function(t){null===this.activeIndex&&this.open();var e=t.month||null,i=t.year||null,s=t.day||null;if(!e&&!i&&!s)return this;var n=this._datesToShow[this.activeIndex].clone(),o=this.viewRange.charAt(0).toUpperCase()+this.viewRange.slice(1);i&&(n.year=i),e&&(n.month=e),s&&(n.day=s);var r=this.mins[this.activeIndex];r&&n["before"+o](r)&&(n=r.clone());var a=this.maxes[this.activeIndex];return a&&n["after"+o](a)&&(n=a.clone()),this._datesToShow[this.activeIndex]=n,this._setDatesToShow(),this.render()},e.prototype._renderYears=function(){throw new Error("Displaying years in the calendar is not yet supported!")},e.prototype._renderWeeks=function(){throw new Error("Displaying weeks in the calendar is not yet supported!")},e.prototype._renderDays=function(){throw new Error("Displaying days in the calendar is not yet supported!")},e.prototype._renderMonths=function(){for(var t=[],e=0,i=this._datesToShow.length,s=v.default.now();e<i;e++)t.push(this._renderMonth(this._datesToShow[e],s));return t},e.prototype._renderMonth=function(t,e){var i=t.year+"-"+t.month;if(this._renderCache=this._renderCache||{},this._renderCache[i])return this._renderCache[i];var s=document.createElement("div"),n="";return s.className="spark-calendar__month "+this._getMonthClassNames(t),n+='<div class="spark-calendar__month-title">',this.quickJump&&1===this.visibleCounts[this.activeIndex]?n+=this._renderMonthQuickJump(t):n+=t.monthName+" "+t.year,n+="</div>",n+=this._renderMonthDaysOfWeek(),n+=this._renderMonthDays(t,e),s.innerHTML=n,this._renderCache[i]=s},e.prototype._renderMonthQuickJump=function(t){var e=document.createElement("div"),i=void 0,s=void 0,n=this.mins[this.activeIndex]?this.mins[this.activeIndex].clone():null,o=this.maxes[this.activeIndex]?this.maxes[this.activeIndex].clone():null;n||(n=t.clone(),n.year=n.year-50),o||(o=t.clone(),o.year=o.year+50);var r=v.default.getMonthNames().map(function(t,e){return n.year===o.year&&(e+1<n.month||e+1>o.month)?null:{value:e+1,text:t}}).filter(function(t){return t});return r.length&&1!==r.length?(s=document.createElement("label"),(0,E.default)(s,"spark-select spark-calendar__select"),s.appendChild((0,g.default)({selected:t.month,attributes:{class:"spark-select__input",name:"month"},options:r}))):(s=document.createElement("span"),s.innerHTML=t.monthName+" "),n.year===o.year?(i=document.createElement("span"),i.innerHTML=t.year):(i=document.createElement("label"),(0,E.default)(i,"spark-select spark-calendar__select"),i.appendChild((0,g.default)({selected:t.year,attributes:{class:"spark-select__input",name:"year"},options:(0,q.default)(o.year,n.year-1)}))),(0,S.default)(e,[s,i]),e.innerHTML},e.prototype._renderMonthDaysOfWeek=function(){for(var t=v.default.getDayNames(),e=0,i=t.length,s='<div class="spark-calendar__days-of-week">';e<i;e++)s+='<span class="spark-calendar__day-of-week">'+t[e][0]+"</span>";return s+="</div>"},e.prototype._renderMonthDays=function(t,e){for(var i=t.monthStart.dayOfWeek,s=i>1?t.monthStart.weekStart:null,n=t.monthEnd,o=0,r=0,a='<div class="spark-calendar__days">',l=0,h=s?s.month:t.month,u=s?s.year:t.year,d=e.year===t.year&&e.month===t.month,c=s?1:null;o<6;o++){for(;r<7;r++)l=s?s.day+r:l+1,a+=this._renderMonthDay(l,h,u,d,e,c),s&&r+1>=i-1?(s=null,c=null,l=0,h=t.month,u=t.year,d=e.year===t.year&&e.month===t.month):l>=n.day&&o>0&&(c=2,d=!1,l=0,++h>12&&(u++,h=1));r=0}return a+="</div>"},e.prototype._renderMonthDay=function(t,e,i,s,n,o){var r=v.default.create({year:i,month:e,day:t}),a="<a",l=o||this._isDayDisabled(r);return a+=l?"":' data-date="'+H.getString(r)+'"',a+=o?' data-direction="'+(2===o?"next":"previous")+'"':"",a+=' class="spark-calendar__day',a+=s&&n.day===t&&n.month===e&&n.year===i?" spark-calendar__day--today":"",a+=o?" spark-calendar__day--inactive":"",a+=l?" spark-calendar__day--disabled":"",a+=this._isDaySelected(r)?" spark-calendar__day--selected":"",a+=this._isDayRangeStart(r)?" spark-calendar__range-start":"",a+=this._isDayRangeMiddle(r)?" spark-calendar__range-middle":"",a+=this._isDayRangeEnd(r)?" spark-calendar__range-end":"",a+=this._isDayRangeLast(r)?" spark-calendar__range-last":"",a+='"',a+=' href="#"><span>',a+=t,a+=this._getDayInfo(r),a+="</span></a>"},e.prototype._insertContent=function(t,e){this._currentContent=this._currentContent||[],e=e||{};var i=void 0,s=0,n=void 0;if(this.animate)if(e.prepend){for(i=this._currentContent.slice(-e.prepend),n=i.length;s<n;s++)t.push(i[s]);this.calendarEl.setAttribute("data-prepend-count",n),this._animateContent(function(){this.calendarEl.removeAttribute("data-prepend-count"),this._animateContent(function(){t=t.slice(0,-e.prepend),this._insertContent(t)},this.animationDuration)},10)}else if(e.append){for(i=this._currentContent.slice(0,e.append),n=i.length;s<n;s++)t.unshift(i[s]);this.calendarEl.setAttribute("data-append-count",n),this._animateContent(function(){(0,E.default)(this.calendarEl,"no-animate"),t=t.slice(e.append),this._insertContent(t),this.calendarEl.removeAttribute("data-append-count"),this._animateContent(function(){(0,k.default)(this.calendarEl,"no-animate")},10)},this.animationDuration)}(0,S.default)(this.calendarContentEl,this._currentContent=t,!0)},e.prototype._isDaySelected=function(t){return this.values&&t.equal(this.values)},e.prototype._isDayRangeStart=function(t){return this.inputEls.length>1&&this.values&&t.equal(this.values[0])},e.prototype._isDayRangeMiddle=function(t){return this.inputEls.length>1&&this.values&&this.values.length>1&&t.equal(this.values.slice(1,-1))},e.prototype._isDayRangeEnd=function(t){return this.inputEls.length>1&&this.values&&this.values.length>1&&t.equal(this.values[this.values.length-1])},e.prototype._isDayRangeLast=function(t){for(var e=this.values.length-1;e>0;e--)if(this.values[e]){if(!t.equal(this.values[e]))return!1;break}return!0},e.prototype._isDayDisabled=function(t){return this.daysDisabled&&this.daysDisabled[t.year]&&this.daysDisabled[t.year][t.month]&&-1!==this.daysDisabled[t.year][t.month].indexOf(t.day)||this.mins[this.activeIndex]&&t.before(this.mins[this.activeIndex],!0)||this.maxes[this.activeIndex]&&t.after(this.maxes[this.activeIndex],!0)},e.prototype._getDayInfo=function(t){return this.daysInfo&&this.daysInfo[t.year]&&this.daysInfo[t.year][t.month]&&this.daysInfo[t.year][t.month][t.day]?'<span class="spark-calendar__day-note">'+this.daysInfo[t.year][t.month][t.day]+"</span>":""},e.prototype._getMonthClassNames=function(t){var e=[];if(t.equalMonth(this.values)&&e.push("has-value"),this._isRange&&this.els.length>1){var i=t.equalMonth(this.values[0]),s=t.equalMonth(this.values[this.values.length-1]),n=t.equalMonth(this.values.slice(1,-1)),o=t.afterMonth(this.values),r=t.beforeMonth(this.values),a=this.values[this.values.length-1]&&t.after(this.values[this.values.length-1]);i&&e.push("range-start"),s&&e.push("range-end"),n&&e.push("range-middle"),o&&e.push("value-before"),r&&e.push("value-after"),a&&e.push("after-range-end")}return e.join(" ")},e.prototype._createCalendar=function(){var t=document.createElement("div");(0,E.default)(t,"spark-calendar"),t.innerHTML='<nav class="spark-calendar__nav"><button class="spark-calendar__previous spark-icon-chevron-left" title="Previous"></button><button class="spark-calendar__next spark-icon-chevron-right" title="Next"></button></nav><div class="spark-calendar__overflow"><div class="spark-calendar__content"></div></div>',this.calendarEl=t,this.calendarContentEl=t.querySelector(".spark-calendar__content"),this.calendarOverflowEl=t.querySelector(".spark-calendar_overflow")},e.prototype._createPopover=function(){this.popover=new p.default(document.createElement("div"),{anchorX:"center",anchorY:"bottom",contentEl:this.calendarEl,onClose:this._onPopoverClose.bind(this),onOpen:this._onPopoverOpen.bind(this)})},e.prototype._cacheElements=function(){this.inputEls=[];for(var t=0,e=this.els.length,i=void 0;t<e;t++)i="input"===this.els[t].nodeName.toLowerCase()?this.els[t]:this.els[t].querySelector('input[type="date"]'),this.inputEls[t]=i},e.prototype._cacheCalendarElements=function(){this.nextButtonEl=this.calendarEl.querySelector(".spark-calendar__next"),this.previousButtonEl=this.calendarEl.querySelector(".spark-calendar__previous")},e.prototype._parseParams=function(){this._parseInputElsParams(),this._isRange=this.els.length>1,this.autoAdvance=null!==this.autoAdvance?this.autoAdvance:(0,j.boolean)(this.els[0],"data-auto-advance",!0),this.autoClose=null!==this.autoClose?this.autoClose:(0,j.boolean)(this.els[0],"data-auto-close",!0),this.closeDelay=null!==this.closeDelay?this.closeDelay:(0,j.number)(this.els[0],"data-close-delay",500),this.quickJump=null!==this.quickJump?this.quickJump:(0,j.boolean)(this.els[0],"data-quick-jump",!1),this.viewRange=null!==this.viewRange?this.viewRange:(0,j.string)(this.els[0],"data-view-range","month"),this.animate=null!==this.animate?this.animate:(0,j.boolean)(this.els[0],"data-animate",!0),this.animationDuration=null!==this.animationDuration?this.animationDuration:(0,j.number)(this.els[0],"data-animation-duration",100),this.showOnFocus=null!==this.showOnFocus?this.showOnFocus:(0,j.boolean)(this.els[0],"data-show-on-focus",!1)},e.prototype._parseInputElsParams=function(){var t=this.inputEls;if(t){for(var e=0,i=t.length,s=[],n=[],o=[],r=[],a=[];e<i;e++)t[e]&&(this.mins&&this.mins[e]?s[e]="object"===h(this.mins[e])?this.mins[e]:H.getValues(this.mins[e]):t[e].getAttribute("min")&&(s[e]=H.getValues(t[e].getAttribute("min"))),this.maxes&&this.maxes[e]?n[e]="object"===h(this.maxes[e])?this.maxes[e]:H.getValues(this.maxes[e]):t[e].getAttribute("max")&&(n[e]=H.getValues(t[e].getAttribute("max"))),this.values&&this.values[e]?o[e]="object"===h(this.values[e])?this.values[e]:H.getValues(this.values[e]):t[e].value&&(o[e]=H.getValues(t[e].value)),a[e]=(0,j.boolean)(t[e],"disabled",!1),this.visibleCounts||(r[e]=parseInt(t[e].getAttribute("data-visible-count"),10)||1));this.mins=s,this.minVisible=v.default.earliest(s),this.maxes=n,this.maxVisible=v.default.latest(n),this.values=o,this._isDisabled=a,r.length&&(this.visibleCounts=r)}},e.prototype._initDatesToShow=function(){var t=[],e=0,i=this.values.length;for(this.values[this.activeIndex]&&t.push(this.values[this.activeIndex].clone());e<i&&!t.length;e++)this.values[e]&&t.push(this.values[e].clone());for(e=0,i=this.mins.length;e<i&&!t.length;e++)this.mins[e]&&t.push(this.mins[e].clone());t.length||t.push(v.default.now()),this._datesToShow=t,this._setDatesToShow()},e.prototype._setDatesToShow=function(t){var e=this._datesToShow,i="xs"===this._currentBreakpoint||"sm"===this._currentBreakpoint?1:this.visibleCounts[this.activeIndex]||this.visibleCounts[0]||1,s=0,n=this.viewRange.charAt(0).toUpperCase()+this.viewRange.slice(1);if(e.length>i&&e.splice(i),t)if(e=this._datesToShow=e.splice(0,1),t<0)for(;s>t;s--)e[0]=e[0]["previous"+n];else for(;s<t;s++)e[0]=e[0]["next"+n];this._atMin=this._checkMinDateVisible(n,e),this._atMax=this._checkMaxDateVisible(n,e);var o=void 0,r=void 0,a=void 0;for(s=0;e.length<i;)r=!t&&this.activeIndex===this.values.length-1&&this.values[this.values.length-1]&&this.values[0]&&!this.values[this.values.length-1]["equal"+n](this.values,!0),this._atMax||r?(o=e[s]["previous"+n],a="unshift",o["before"+n](this.minVisible)&&(o=e[s]["next"+n],a="push")):(o=e[s]["next"+n],a="push",o["after"+n](this.maxVisible)&&(o=e[s]["previous"+n],a="unshift")),"push"===a?(e.push(o),s=e.length-1):(e.unshift(o),s=0);this._atMin=this._checkMinDateVisible(n,e),this._atMax=this._checkMaxDateVisible(n,e),this._updateNav()},e.prototype._checkMinDateVisible=function(t,e){if(this.minVisible){var i=this.minVisible;return!(!i||!e[0]["equal"+t](i)&&!e[0]["before"+t](i))&&(e[0]=i,!0)}},e.prototype._checkMaxDateVisible=function(t,e){if(this.maxVisible){var i=this.maxVisible;return!(!i||!e[e.length-1]||!e[e.length-1]["equal"+t](i)&&!e[e.length-1]["after"+t](i))&&(e[e.length-1]=i,!0)}},e.prototype._checkValues=function(t,e){var i=this._checkMinMaxValues();if(this._isRange&&!e)for(var s=this.values.length-1;s>=0;s--)this.values[s]&&this.values[s-1]&&this.values[s].beforeDay(this.values[s-1],!0)&&(s===t?this.setValue(null,s-1,!0):this.setValue(null,s,!0),i=!0);return i},e.prototype._checkMinMaxValues=function(){for(var t=0,e=this.values.length,i=!1;t<e;t++)this.maxes&&this.maxes[t]&&this.values[t]&&this.values[t].after(this.maxes[t],!0)?(this.values[t]=this.maxes[t].clone(),i=!0):this.mins&&this.mins[t]&&this.values[t]&&this.values[t].before(this.mins[t],!0)&&(this.values[t]=this.mins[t].clone(),i=!0);return i},e.prototype._animateContent=function(t,e){this._animationQueue=this._animationQueue||[],this._animationQueue.push({cb:t,d:e}),this._runAnimation()},e.prototype._runAnimation=function(){if(!this._animationTimer){var t=this._animationQueue.shift();t&&(this._animationTimer=setTimeout(function(){t.cb.call(this),this._animationTimer=null,this._runAnimation()}.bind(this),t.d))}},e.prototype._updateAttributes=function(){this.calendarEl.setAttribute("data-visible-count","xs"===this._currentBreakpoint?1:this.visibleCounts[this.activeIndex]||this.visibleCounts[0]||1),this._updateNav()},e.prototype._updateNav=function(){this.previousButtonEl&&(this._atMin?this.previousButtonEl.setAttribute("disabled",!0):this.previousButtonEl.removeAttribute("disabled")),this.nextButtonEl&&(this._atMax?this.nextButtonEl.setAttribute("disabled",!0):this.nextButtonEl.removeAttribute("disabled"))},e.prototype._bindEventListenerCallbacks=function(){this._onInputChangeBound=this._onInputChange.bind(this),this._onSelectChangeBound=this._onSelectChange.bind(this),this._onInputFocusBound=this._onInputFocus.bind(this),this._onClickBound=this._onClick.bind(this),this._onCalendarClickBound=this._onCalendarClick.bind(this),this._onCalendarMouseOverBound=this._onCalendarMouseOver.bind(this),this._onCalendarMouseOutBound=this._onCalendarMouseOut.bind(this),this._onResizeBound=this._onResize.bind(this)},e.prototype._addEventListeners=function(){for(var t=0,e=this.els.length;t<e;t++)this.els[t].addEventListener("click",this._onClickBound),this.inputEls[t].addEventListener("change",this._onInputChangeBound),this.inputEls[t].addEventListener("focus",this._onInputFocusBound);this.calendarEl.addEventListener("mouseover",this._onCalendarMouseOverBound),this.calendarEl.addEventListener("mouseout",this._onCalendarMouseOutBound),this.calendarEl.addEventListener("click",this._onCalendarClickBound),this.calendarEl.addEventListener("change",this._onSelectChangeBound),window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound)},e.prototype._removeEventListeners=function(){for(var t=0,e=this.els.length;t<e;t++)this.els[t].removeEventListener("click",this._onClickBound),this.inputEls[t].removeEventListener("change",this._onInputChangeBound),this.inputEls[t].removeEventListener("focus",this._onInputFocusBound);this.calendarEl.removeEventListener("mouseover",this._onCalendarMouseOverBound),this.calendarEl.removeEventListener("mouseout",this._onCalendarMouseOutBound),this.calendarEl.removeEventListener("click",this._onCalendarClickBound),this.calendarEl.removeEventListener("change",this._onSelectChangeBound),window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound)},e.prototype._focusNext=function(){var t=void 0;-1!==(t=this.values.indexOf(null))&&(this.activeIndex<this.els.length-1?this.open(this.activeIndex+1):this.open(t))},e.prototype._closeOnLast=function(){-1===this.values.indexOf(null)&&this.close({delay:this.closeDelay})},e.prototype._fillToggle=function(){var t=void 0;this.els[this.activeIndex]&&(t=this.els[this.activeIndex].querySelector('.spark-date__calendar-toggle [class*="spark-icon"]'))&&(0,E.default)(t,"spark-icon--fill")},e.prototype._unfillToggle=function(){var t=void 0;this.els[this.activeIndex]&&(t=this.els[this.activeIndex].querySelector('.spark-date__calendar-toggle [class*="spark-icon"]'))&&(0,k.default)(t,"spark-icon--fill")},e.prototype._activateElement=function(t){var e=this.els[t];e&&(0,E.default)(e,"active")},e.prototype._deactivateElement=function(t){var e=this.els[t];!e||this.values[t]||(0,x.default)(e,"focus")||(0,x.default)(e,"has-partial-value")||(0,k.default)(e,"active")},e.prototype._checkSize=function(){var t=(0,I.get)(window.outerWidth);this._currentBreakpoint!==t&&(this._currentBreakpoint=t,this._setDatesToShow(),this.render(!0),this.popover.update())},e.prototype._scrollToInput=function(){var t=this.els[this.activeIndex];t&&(0,O.default)(t)},e.prototype._updateHoverClasses=function(t,e){this._hoverStarts=this._hoverStarts||[],this._hoverEnds=this._hoverEnds||[],t=t instanceof Array?t:t?[t]:[],e=e instanceof Array?e:e?[e]:[];var i=[],s=[],n=[],o=[],r=[],a=[];t.forEach(function(t){-1!==this._hoverStarts.indexOf(t)?s.push(t):t&&(n.push(t),(0,E.default)(t,"hover-start"))},this),i=Array.prototype.concat.call([],s,n),this._hoverStarts.forEach(function(t){-1===i.indexOf(t)&&(0,k.default)(t,"hover-start")},this),e.forEach(function(t){-1!==this._hoverEnds.indexOf(t)?r.push(t):t&&(a.push(t),(0,E.default)(t,"hover-end"))},this),o=Array.prototype.concat.call([],r,a),this._hoverEnds.forEach(function(t){-1===o.indexOf(t)&&(0,k.default)(t,"hover-end")},this),this._hoverStarts=i,this._hoverEnds=o},e.prototype._onClick=function(t){if((0,M.default)(t.target,".spark-date__calendar-toggle",this.els)){var e=(0,M.default)(t.target,".spark-date",this.els),i=this.els.indexOf(e);t.preventDefault(),this.open(i,{delay:1})}},e.prototype._onCalendarMouseOver=function(t){"month"===this.viewRange&&this._onCalendarMouseOverMonths(t.target)},e.prototype._onCalendarMouseOverMonths=function(t){if(this._isRange){var e=(0,M.default)(t,".spark-calendar__day");if(!e)return void this._updateHoverClasses();var i=(0,M.default)(t,".spark-calendar__month"),s=function(t){return(0,x.default)(i,t)}.bind(this),n=[],o=[],r=void 0;if(!this.values[this.activeIndex])if(!s("value-before")||s("after-range-end")||s("has-value")||s("value-after"))!s("has-value")||s("value-before")||s("value-after")||!(n=(0,F.default)(e,".spark-calendar__day--selected"))&&!(o=(0,R.default)(e,".spark-calendar__day--selected"))?s("has-value")&&s("range-middle")&&s("value-before")&&(r=(0,F.default)(e,".spark-calendar__day--selected"))&&(n=[r],o=[e]):(n?(n=[n],o=[e]):(o=[o],n=[e]),((0,x.default)(o[0],"spark-calendar__range-start")||(0,x.default)(n[0],"spark-calendar__range-end"))&&(n=[],o=[]));else{n.push(i.querySelector(".spark-calendar__day:not(.spark-calendar__day--inactive):not(.spark-calendar__day--disabled)")),o.push(e);for(var a=i;(a=(0,F.default)(a,".spark-calendar__month"))&&!(0,x.default)(a,"value-after")&&((0,x.default)(a,"has-value")||(0,x.default)(a,"value-before"));)r=a.querySelectorAll(".spark-calendar__day--selected"),r=r[r.length-1],(r=r||a.querySelector(".spark-calendar__day"))&&(n.push(r),r=a.querySelectorAll(".spark-calendar__day"),r=r[r.length-1],o.push(r))}this._updateHoverClasses(n,o)}},e.prototype._onCalendarMouseOut=function(t){"month"===this.viewRange&&this._onCalendarMouseOutMonths(t.target)},e.prototype._onCalendarMouseOutMonths=function(t){var e=(0,M.default)(t,".spark-calendar__day"),i=(0,M.default)(t,".spark-calendar__days"),s=(0,M.default)(t,".spark-calendar__month");(0,k.default)(e,"hover"),(0,k.default)(i,"hover"),(0,k.default)(s,"hover"),(0,k.default)(this.calendarEl,"hover")},e.prototype._onCalendarClick=function(t){var e=(0,M.default)(t.target,".spark-calendar__nav",this.calendarEl),i=void 0,s=void 0;e?(0,M.default)(t.target,".spark-calendar__previous",e)?this.previous():(0,M.default)(t.target,".spark-calendar__next",e)&&this.next():(i=(0,M.default)(t.target,".spark-calendar__day"))&&(t.preventDefault(),t.stopPropagation(),(0,x.default)(i,"spark-calendar__day--disabled")?(s=i.getAttribute("data-direction"),"next"===s?this.next():"previous"===s&&this.previous()):(this.setValue(i.getAttribute("data-date"),this.activeIndex),this.autoAdvance&&this._focusNext(),this.autoClose&&this._closeOnLast()))},e.prototype._onPopoverOpen=function(){this._fillToggle(),this._checkSize(),"xs"===this._currentBreakpoint&&this._scrollToInput()},e.prototype._onPopoverClose=function(){this._unfillToggle(),this._updateHoverClasses(),this._deactivateElement(this.activeIndex),this.activeIndex=null},e.prototype._onInputChange=function(t){var e=this.inputEls.indexOf(t.target);this._inputsChanging&&-1!==this._inputsChanging.indexOf(e)||this.setValue(t.target.value,e)},e.prototype._onInputFocus=function(t){if(this.showOnFocus){var e=this.inputEls.indexOf(t.target);-1!==e&&this.open(e)}},e.prototype._onSelectChange=function(t){var e=t.target.name,i=t.target.value,s=this._datesToShow[this.activeIndex][e],n={};n[e]=i,this.showDate(n),t.target.value=s},e.prototype._onResize=function(){null!==this.activeIndex&&this._checkSize()},e}(d.default);W.prototype._whitelistedParams=["els","visibleCounts","autoAdvance","autoClose","closeDelay","mins","maxes","values","daysDisabled","daysInfo","quickJump","calendarEl","viewRange","animate","animationDuration","showOnFocus","onChange"],W.prototype.defaults={els:null,inputEls:null,calendarEl:null,calendarContentEl:null,calendarOverflowEl:null,visibleCounts:null,activeIndex:null,mins:null,minVisible:null,maxes:null,maxVisible:null,values:null,daysDisabled:null,daysInfo:null,viewRange:null,autoAdvance:null,autoClose:null,quickJump:null,closeDelay:null,nextButtonEl:null,previousButtonEl:null,animate:null,animationDuration:null,showOnFocus:null,onChange:null,_isDisabled:!1,_isRange:null,_hoverStarts:null,_hoverEnds:null,_currentBreakpoint:null,_animationQueue:null,_currentContent:null,_datesToShow:null,_monthsShowing:null,_atMin:!1,_atMax:!1,_inputsChanging:!1,_openCloseTimer:null,_renderCache:null,_onClickBound:null,_onCalendarMouseOverBound:null,_onCalendarMouseOutBound:null,_onCalendarClickBound:null,_onSelectChangeBound:null,_onInputChangeBound:null,_onInputFocusBound:null,_onResizeBound:null},i.default=W,e.exports=i.default},{"../helpers/animation/scroll-to":31,"../helpers/date/date":34,"../helpers/date/parse-format":35,"../helpers/dom/add-class":36,"../helpers/dom/breakpoint":37,"../helpers/dom/has-class":38,"../helpers/dom/parse-attribute":42,"../helpers/dom/remove-class":43,"../helpers/dom/trigger-event":45,"../helpers/form/build-select":46,"../helpers/manipulation/append-children":49,"../helpers/traversal/get-parent":58,"../helpers/traversal/get-sibling-after":60,"../helpers/traversal/get-sibling-before":61,"../helpers/util/range":68,"./base":1,"./popover":15}],3:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){
return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=t("./base"),h=s(l),u=t("../helpers/util/debounce"),d=s(u),c=t("../helpers/css/transform"),p=s(c),f=t("../helpers/dom/add-class"),_=s(f),m=t("../helpers/dom/remove-class"),v=s(m),y=function(t){function e(i,s){n(this,e);var r=o(this,t.call(this,i,s));return s=s||{},i?(r._init(i),r):o(r)}return r(e,t),e.prototype._carouselItem=function(t,e,i,s){var n={};return n.el=t,n.parent=e,n.dot=i,n.order=s,n.addTransform=function(t){n.setTransform(n.transform.x+t)},n.setTransform=function(t){t=t||0,n.transform={x:t},n.el.setAttribute("style",(0,p.default)("translate3d",n.transform.x+"px, 0px, 0px"))},n.setSelected=function(t){n.setSelected.selected===t&&void 0!==n.setSelected.selected||(t?((0,_.default)(n.el,"selected"),(0,_.default)(n.dot,"selected"),n.setSelected.selected=!0):((0,v.default)(n.el,"selected"),(0,v.default)(n.dot,"selected"),n.setSelected.selected=!1))},n.currentPosition=function(){return e.transform.x+n.transform.x+n.dims.left+n.width/2-e.dims.left},n.setTransform(),n.dims=t.getBoundingClientRect(),n.width=n.dims.width,n.el.sparkcarouselitem=n,n.dot.sparkcarouselitemdot=n,n},e.prototype._init=function(t){this.el=t,this.el.sparkcarousel=this,this.backe=this.el.querySelector(".spark-carousel__back"),this.forwarde=this.el.querySelector(".spark-carousel__forward"),this.outerContainer=this.el.querySelector(".spark-carousel__outer-container"),this.containerMask=this.el.querySelector(".spark-carousel__container-mask"),this.container=this.el.querySelector(".spark-carousel__container"),this.dots=this.el.querySelector(".spark-carousel__dots"),this.pauseEl=this.el.querySelector(".spark-carousel__pause"),this.opts={},this.opts.wrapItems=!!this.el.attributes["data-spark-carousel-wrap-items"],this.opts.startingVelocity=this.el.attributes["data-spark-carousel-scroll-velocity"]?this.el.attributes["data-spark-carousel-scroll-velocity"].value:10,this.opts.smoothScroll=!!this.el.attributes["data-spark-carousel-smooth-scroll"],this.opts.smoothScrollCenterItems=!!this.el.attributes["data-spark-carousel-smooth-scroll-center"],this.opts.panelScroll=!!this.el.attributes["data-spark-carousel-panel"],this.opts.edgeScroll=!(!this.opts.panelScroll&&!this.el.attributes["data-spark-carousel-edge"]),this.opts.autoAdvance=!!this.el.attributes["data-spark-carousel-auto-advance"]&&this.el.attributes["data-spark-carousel-auto-advance"].value,!this.opts.autoAdvance||this.autoAdvance||this.pause||(this.autoAdvance=window.setTimeout(function(){this._autoAdvance()}.bind(this),1e3*this.opts.autoAdvance)),this.opts.autoAdvance&&!this.pauseH&&(this.pauseH=this._pause.bind(this),this.pauseEl.addEventListener("click",this.pauseH));var e=this.el.querySelectorAll(".spark-carousel__item");this.items=[],this.totalItemWidth=0,this.dims=this.containerMask.getBoundingClientRect(),this.width=this.dims.width,this.height=this.dims.height;for(var i,s=document.createDocumentFragment(),n=0;n<e.length;n++)i=document.createElement("div"),s.appendChild(i),this.items.push(new this._carouselItem(e[n],this,i,n)),this.totalItemWidth+=this.items[n].width;for(;this.dots.firstChild;)this.dots.removeChild(this.dots.firstChild);this.dots.appendChild(s),void 0!==this.container.style.msFlexAlign&&this._transformItems(-(this.totalItemWidth-this.width)/2),this._setTransform(),this._handleVisibleChildren=this._handleVisibleChildrenH.bind(this),document.addEventListener("spark.visible-children",this._handleVisibleChildren,!0),this._rafHandler||(this._rafHandler=this._rafHandlerH.bind(this)),this.resizeH||(this.resizeH=(0,d.default)(this._resize.bind(this),100),window.addEventListener("resize",this.resizeH)),this.totalItemWidth>this.width?this.touchstartH||((0,v.default)(this.el,"noscroll"),this._setupListeners(),this._addTransform(-this.items[0].currentPosition()+this.width/2)):((0,_.default)(this.el,"noscroll"),this._removeListeners()),this._updateSelected(),(0,_.default)(this.el,"ready")},e.prototype.remove=function(e){window.removeEventListener("resize",this.resizeH),delete this.resizeH,document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0),delete this._handleVisibleChildren,t.prototype.remove.call(this,e)},e.prototype._pause=function(){this.pause?(delete this.moves,this.autoAdvance=window.setTimeout(function(){this._autoAdvance()}.bind(this),1e3*this.opts.autoAdvance)):(this._rafCancel(),this.opts.smoothScroll&&!this.opts.smoothScrollCenterItems||this._scrollTo(this._selectedItem()),window.clearTimeout(this.autoAdvance),delete this.autoAdvance),this._setPause(!this.pause)},e.prototype._setPause=function(t){return void 0===t?(this.pause=void 0!==this.pause&&this.pause,this.pause):(t?(0,_.default)(this.el,"pause"):(0,v.default)(this.el,"pause"),this.pause=t,this.pause)},e.prototype._autoAdvance=function(){if(!this.moves&&!this._laststart&&!this.paused){this._rafCancel();var t=this.items.indexOf(this._selectedItem());this._scrollToItem=!0,this._scrollTo(this.items[t===this.items.length-1?0:t+1]),this.autoAdvance=window.setTimeout(function(){this._autoAdvance()}.bind(this),1e3*this.opts.autoAdvance)}},e.prototype._setupListeners=function(){this.touchstartH=this._touchstart.bind(this),this.container.addEventListener("touchstart",this.touchstartH),this.touchmoveH=this._touchmove.bind(this),window.addEventListener("touchmove",this.touchmoveH),this.touchendH=this._touchend.bind(this),window.addEventListener("touchend",this.touchendH),this.mousedownH=this._mousedown.bind(this),this.container.addEventListener("mousedown",this.mousedownH),this.mousemoveH=this._mousemove.bind(this),window.addEventListener("mousemove",this.mousemoveH),this.mouseupH=this._mouseup.bind(this),window.addEventListener("mouseup",this.mouseupH),this.forwardH=this._forward.bind(this),this.forwarde.addEventListener("click",this.forwardH),this.backH=this._back.bind(this),this.backe.addEventListener("click",this.backH),this.clickH=this._click.bind(this),this.el.addEventListener("click",this.clickH),this._focusHandler=this._scrollToClicked.bind(this),this.container.addEventListener("focus",this._focusHandler,!0)},e.prototype._removeListeners=function(){this.el.removeEventListener("touchstart",this.touchstartH),delete this.touchstartH,window.removeEventListener("touchmove",this.touchmoveH),delete this.touchmoveH,window.removeEventListener("touchend",this.touchendH),delete this.touchendH,this.el.removeEventListener("mousedown",this.mousedownH),delete this.mousedownH,window.removeEventListener("mousemove",this.mousemoveH),delete this.mousemoveH,window.removeEventListener("mouseup",this.mouseupH),delete this.mouseupH,this.forwarde.removeEventListener("click",this.forwardH),delete this.forwardH,this.backe.removeEventListener("click",this.backH),delete this.backH,this.el.removeEventListener("click",this.clickH),delete this.clickH,this.container.removeEventListener("focus",this._focusHandler,!0),delete this._focusHandler,this.pauseEl&&(this.pauseEl.removeEventListener("click",this.pauseH),delete this.pauseH)},e.prototype._handleVisibleChildrenH=function(t){t.target.contains(this.el)&&window.setTimeout(function(){this.change()}.bind(this),0)},e.prototype._forward=function(t){var e=this.items.indexOf(this._selectedItem());e++,e>this.items.length-1&&(this.opts.wrapItems?e=0:e--),delete this.moves;var i=this._startingVelocity;i=i<-this.opts.startingVelocity?i:-this.opts.startingVelocity,this._rafCancel(),this._scrollToItem=!0,this._scrollTo(this.items[e],i),t&&t.preventDefault()},e.prototype._back=function(t){var e=this.items.indexOf(this._selectedItem());e--,e<0&&(this.opts.wrapItems?e=this.items.length-1:e++),delete this.moves;var i=this._startingVelocity;i=i>this.opts.startingVelocity?i:this.opts.startingVelocity,this._rafCancel(),this._scrollToItem=!0,this._scrollTo(this.items[e],i),t&&t.preventDefault()},e.prototype._movestart=function(t){this._rafCancel(),this.moves=[],this.moves.push(t)},e.prototype._move=function(t){this.moves&&this.moves.length>1?(this._addTransform(t.pageX-this.moves[this.moves.length-1].pageX),this.moves.push(t),t.preventDefault=!0):(this.moves&&this.moves[0]&&(Math.abs(this.moves[0].pageX-t.pageX)>Math.abs(this.moves[0].pageY-t.pageY)&&Math.abs(this.moves[0].pageX-t.pageX)>5&&t.cancelable?(this._addTransform(t.pageX-this.moves[0].pageX),this.moves.push(t),t.preventDefault=!0):Math.abs(this.moves[0].pageX-t.pageX)>5&&(this.moves[0]=t)),"touchend"!==t.type&&"mouseup"!==t.type||delete this.moves)},e.prototype._moveend=function(t){return this._move(t),this.opts.smoothScroll?this._interiaScroll(this.moves):this._settle(this.moves),t},e.prototype._resize=function(){this.change()},e.prototype.change=function(){var t=this.el.getBoundingClientRect();if(t.width!==this.width||t.height!==this.height){this.autoAdvance&&(window.clearTimeout(this.autoAdvance),delete this.autoAdvance),this._rafCancel();var e=this._selectedItem();this._setTransform(0),this._setTransformItems(0),this._init(this.el),this.items.indexOf(e.el.sparkcarouselitem)>-1&&this.totalItemWidth>this.width&&(this.opts.wrapItems?this._addTransform(-this.totalItemWidth+(-e.el.sparkcarouselitem.currentPosition()+this.width/2)):this._addTransform(-e.el.sparkcarouselitem.currentPosition()+this.width/2))}},e.prototype.update=function(t){return t=t||this.el,this._removeListeners(),window.removeEventListener("resize",this.resizeH),delete this.resizeH,document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0),delete this._handleVisibleChildren,this._init(t),this.change(),this},e.prototype._touchstart=function(t){var e={type:t.type,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,timeStamp:t.timeStamp};this._movestart(e)},e.prototype._touchmove=function(t){var e={type:t.type,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,timeStamp:t.timeStamp,cancelable:t.cancelable};this._move(e),e.preventDefault&&t.preventDefault()},e.prototype._touchend=function(t){if(this.moves&&this.moves.length>2&&t.cancelable){var e={type:t.type,pageX:this.moves[this.moves.length-1].pageX,pageY:this.moves[this.moves.length-1].pageY,timeStamp:t.timeStamp};this._moveend(e)}else delete this.moves},e.prototype._mousedown=function(t){if(0!==t.button)return t;this.isMouseDown=!0;var e={type:t.type,pageX:t.pageX,pageY:t.pageY,timeStamp:t.timeStamp};this._movestart(e),t.preventDefault()},e.prototype._mousemove=function(t){if(this.isMouseDown){var e={type:t.type,pageX:t.clientX,pageY:t.clientY,timeStamp:t.timeStamp,cancelable:!0};this._move(e),e.preventDefault&&t.preventDefault()}},e.prototype._mouseup=function(t){if(this.moves&&this.moves.length>2){var e={type:t.type,pageX:t.pageX,pageY:t.pageY,timeStamp:t.timeStamp};this._moveend(e),this.mouseUpHandled=!0}else delete this.moves,this._scrollToClicked(t);this.isMouseDown=!1},e.prototype._click=function(t){this.moves&&t.preventDefault(),this.mouseUpHandled&&t.preventDefault(),delete this.mouseUpHandled},e.prototype._velocity=function(t){for(var e=0,i=Math.min(6,t.length-1),s=1;s<i;s++)t[t.length-s].timeStamp===t[t.length-s-1].timeStamp?e+=e/s:e+=10*(t[t.length-s].pageX-t[t.length-s-1].pageX)/(t[t.length-s].timeStamp-t[t.length-s-1].timeStamp)/i;return e},e.prototype._scrollToClicked=function(t){var e=t.target;if(this.el.contains(e))for(;!e.sparkcarousel;){if(e.sparkcarouselitem){this.containerMask.scrollLeft=0,delete this.moves,this._rafCancel(),this._scrollTo(e.sparkcarouselitem),t.preventDefault();break}if(e.sparkcarouselitemdot){this.containerMask.scrollLeft=0,delete this.moves,this._rafCancel();var i=e.sparkcarouselitemdot.order<this._selectedItem().order?this.opts.startingVelocity:-this.opts.startingVelocity;this._scrollTo(e.sparkcarouselitemdot,i),t.preventDefault();break}e=e.parentNode}},e.prototype._scrollTo=function(t,e){var i=this.width/2,s=t.currentPosition();e||(e=i-t.currentPosition()>0?this.opts.startingVelocity:-this.opts.startingVelocity),this.opts.wrapItems?this._totalDistance=e>0?s>i?i+this.totalItemWidth-s:i-s:s<i?-(this.totalItemWidth+s-i):i-s:this._totalDistance=i-s,this._startingVelocity=e,delete this.moves,this._scrollToItem=!0,this._raf=window.requestAnimationFrame(this._rafHandler)},e.prototype._rafHandlerH=function(t){this.opts.autoAdvance&&this.autoAdvance&&(window.clearTimeout(this.autoAdvance),delete this.autoAdvance);var e;if(this.moves||!this._startingVelocity)return void this._rafCancel();this._laststart||(this._laststart=t),this._remainingDistance||(this._remainingDistance=this._totalDistance),this._lastframe?e=(t-this._lastframe)/(1/60*1e3):(this._lastframe=t,e=1);var i=this._startingVelocity*e;this.opts.smoothScroll&&!this._scrollToItem?(this._addTransform(i),this._startingVelocity*=Math.pow(.97,e),this.opts.smoothScrollCenterItems&&Math.abs(this._startingVelocity)<1&&this._scrollTo(this._selectedItem()),Math.abs(this._startingVelocity)<.5?this._startingVelocity>0&&this.transform.x>this.totalItemWidth/2-this.items[0].width/2||this._startingVelocity<0&&this.transform.x<-(this.totalItemWidth/2-this.items[this.items.length-1].width/2)?(this._scrollToItem=!0,this._scrollTo(this._selectedItem())):this._rafCancel():this._raf=window.requestAnimationFrame(this._rafHandler)):this._startingVelocity>0?i<this._remainingDistance?(this._addTransform(i),this._remainingDistance-=i,this._remainingDistance>this._totalDistance/2?this._startingVelocity*=Math.pow(1.15,e):(this._startingVelocity*=Math.pow(.9,e),this._startingVelocity=this._startingVelocity>2?this._startingVelocity:2),this._raf=window.requestAnimationFrame(this._rafHandler)):(this._addTransform(this._remainingDistance),this._rafCancel()):i>this._remainingDistance?(this._addTransform(i),this._remainingDistance-=i,this._remainingDistance<this._totalDistance/2?this._startingVelocity*=Math.pow(1.15,e):(this._startingVelocity*=Math.pow(.9,e),this._startingVelocity=this._startingVelocity<-2?this._startingVelocity:-2),this._raf=window.requestAnimationFrame(this._rafHandler)):(this._addTransform(this._remainingDistance),this._rafCancel()),this._lastframe=t},e.prototype._rafCancel=function(){!this.opts.autoAdvance||this.autoAdvance||this.pause||(this.autoAdvance=window.setTimeout(function(){this._autoAdvance()}.bind(this),1e3*this.opts.autoAdvance)),window.cancelAnimationFrame(this._raf),delete this._scrollToItem,delete this._laststart,delete this._startingVelocity,delete this._remainingDistance,delete this._totalDistance,delete this._lastframe},e.prototype._interiaScroll=function(t){if(t[t.length-1].timeStamp-t[t.length-2].timeStamp>100||t.length<3){if(this.opts.smoothScrollCenterItems)return this._scrollTo(this._selectedItem())}else this._startingVelocity=this._velocity(t),delete this.moves,this._raf=window.requestAnimationFrame(this._rafHandler)},e.prototype._settle=function(t){if(t&&t.length>3){if(t[t.length-1].timeStamp-t[t.length-2].timeStamp>80)return this._scrollTo(this._selectedItem());var e=10*(t[t.length-3].pageX-t[t.length-4].pageX)/(t[t.length-3].timeStamp-t[t.length-4].timeStamp),i=10*(t[t.length-2].pageX-t[t.length-3].pageX)/(t[t.length-2].timeStamp-t[t.length-3].timeStamp);if(Math.abs(e)<Math.abs(i)||Math.abs(i)>.5&&Math.abs(i)>.5){var s=this.items.indexOf(this._selectedItem());i>0?s>0?this._scrollTo(this.items[s-1],i):this.opts.wrapItems?this._scrollTo(this.items[this.items.length-1],i):this._scrollTo(this.items[0]):s<this.items.length-1?this._scrollTo(this.items[s+1],i):this.opts.wrapItems?this._scrollTo(this.items[0],i):this._scrollTo(this.items[this.items.length-1])}else this._selectedItem().currentPosition()>this.width/2?this._scrollTo(this._selectedItem(),-this.opts.startingVelocity):this._scrollTo(this._selectedItem(),this.opts.startingVelocity)}},e.prototype._transformItems=function(t){for(var e=0;e<this.items.length;e++)this.items[e].addTransform(t)},e.prototype._setTransformItems=function(t){for(var e=0;e<this.items.length;e++)this.items[e].setTransform(t)},e.prototype._addTransform=function(t){var e;if(!this.opts.smoothScrollCenterItems&&this.opts.smoothScroll||this.opts.wrapItems||this.opts.edgeScroll)this._leftbound(!1),this._rightbound(!1);else{var i=this.items.indexOf(this.selectedItem);i===this.items.length-1?this._leftbound(!0):this._leftbound(!1),0===i?this._rightbound(!0):this._rightbound(!1)}if(this.transform.x+t<0&&t<0){if(this.opts.wrapItems)for(;this.transform.x+t<-(this.totalItemWidth-this.width)/2&&(!(this.totalItemWidth<this.width)||this.transform.x+t<-this.totalItemWidth/2);)e=this.items.shift(),this.items.push(e),e.addTransform(this.totalItemWidth),this._transformItems(-e.width),t+=e.width;else{if(this.opts.edgeScroll&&t<0&&this.transform.x+t-1<=-(this.totalItemWidth-this.width)/2)return this._leftbound(!0),this._setTransform(-(this.totalItemWidth-this.width)/2);t<0&&this.transform.x+t<-(this.totalItemWidth/2-this.items[this.items.length-1].width/2)&&(t*=(this.totalItemWidth/2+this.items[this.items.length-1].width/2+(this.transform.x+t))/this.items[this.items.length-1].width,t=t>0?0:t)}return this._setTransform(this.transform.x+t)}if(this.transform.x+t>0&&t>0)if(this.opts.wrapItems)for(;this.transform.x+t>-(this.width-this.totalItemWidth)/2&&(!(this.totalItemWidth<this.width)||this.transform.x+t>this.totalItemWidth/2);)e=this.items.pop(),this.items.unshift(e),e.addTransform(-this.totalItemWidth),this._transformItems(e.width),t-=e.width;else{if(this.opts.edgeScroll&&t>0&&this.transform.x+t+1>=(this.totalItemWidth-this.width)/2)return this._rightbound(!0),this._setTransform((this.totalItemWidth-this.width)/2);t>0&&this.transform.x+t>this.totalItemWidth/2-this.items[0].width/2&&(t*=(this.totalItemWidth/2+this.items[0].width/2-(this.transform.x+t))/this.items[0].width,t=t<0?0:t)}return this._setTransform(this.transform.x+t)},e.prototype._leftbound=function(t){return void 0===t?(this.leftbound=void 0!==this.leftbound&&this.leftbound,this.leftbound):(t?(0,_.default)(this.el,"leftbound"):(0,v.default)(this.el,"leftbound"),this.leftbound=t,this.leftbound)},e.prototype._rightbound=function(t){return void 0===t?(this.rightbound=void 0!==this.rightbound&&this.rightbound,this.rightbound):(t?(0,_.default)(this.el,"rightbound"):(0,v.default)(this.el,"rightbound"),this.rightbound=t,this.rightbound)},e.prototype._updateSelected=function(){for(var t=this.width/2,e=-1,i=1,s=0;i>s&&!(++e>this.items.length-2);)i=Math.abs(t-this.items[e].currentPosition()),s=Math.abs(t-this.items[e+1].currentPosition());return this._selectedItem(this.items[e])},e.prototype._selectedItem=function(t){if("object"!==(void 0===t?"undefined":a(t)))return this.selectedItem?this.selectedItem:this._updateSelected();if(this.selectedItem&&this.selectedItem.setSelected(!1),this.selectedItem=t,(this.opts.smoothScrollCenterItems||!this.opts.smoothScroll)&&!this.opts.wrapItems&&!this.opts.edgeScroll){var e=this.items.indexOf(this.selectedItem);e===this.items.length-1?this._leftbound(!0):this._leftbound(!1),0===e?this._rightbound(!0):this._rightbound(!1)}this.selectedItem.setSelected(!0)},e.prototype._setTransform=function(t){return t=t||0,this.transform={x:t},this.container.setAttribute("style",(0,p.default)("translate3d",t+"px, 0px, 0px")),this._updateSelected(),t},e}(h.default);y.prototype.defaults={el:null},y.prototype._whitelistedParams=[],i.default=y,e.exports=i.default},{"../helpers/css/transform":33,"../helpers/dom/add-class":36,"../helpers/dom/remove-class":43,"../helpers/util/debounce":64,"./base":1}],4:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("./date-typeahead"),u=s(h),d=t("./date-select"),c=s(d),p=t("../helpers/date/parse-format"),f=s(p),_=t("../helpers/util/pad"),m=s(_),v=t("../helpers/dom/toggle-class"),y=s(v),g=t("../helpers/dom/remove-class"),b=s(g),E=t("../helpers/dom/add-class"),w=s(E),k=t("../helpers/dom/has-class"),C=s(k),x=t("../helpers/manipulation/append-children"),B=s(x),S=t("../helpers/dom/trigger-event"),L=s(S),M=t("../helpers/manipulation/copy-attributes"),T=s(M),A=t("../helpers/date/date"),I=s(A),D=t("../helpers/util/each"),O=s(D),P=t("../helpers/dom/parse-attribute"),F=t("../helpers/util/mixin"),V=s(F),R=t("../mixins/messaging"),z=s(R),q=t("../helpers/dom/make-element"),j=s(q),N=t("../mixins/validation"),H=s(N),W=(0,f.default)("YYYY-MM-DD"),X=function(){},Y=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._convertLabel(),s._initializeInputs(),s._updateClass(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.show=function(){return this.isActive||(this._runTypeaheads(),this.isActive=!0,this._updateClass()),this},e.prototype.hide=function(){return this.isActive?(this.isActive=!1,this._updateClass(),this):this},e.prototype.remove=function(e){return this._removeTypeaheads(e),this._removeSelects(e),this._removeInputPieces(),t.prototype.remove.call(this,e),this},e.prototype.setValue=function(t){t=t||{day:"",month:"",year:""};var e=void 0,i=void 0;for(e in this.typeaheads)void 0!==t[e]&&(this.typeaheads[e].setValue(t[e]),i=i||!!t[e]);for(e in this.selects)void 0!==t[e]&&(this.selects[e].setValue(t[e]),i=i||!!t[e]);return!this.isActive&&i&&(this.isActive=!0),this._padTypeaheads(),this._updateClass(),this.updateInput(),this},e.prototype.getValue=function(){return this.inputEl.value},e.prototype.clearValue=function(){return(0,O.default)(this.isTypeahead?this.typeaheads:this.selects,function(t,e){e.clearValue()}),this.inputEl.value="",this},e.prototype.setErrorState=function(t){t?this.el.setAttribute("data-error",""):this.el.removeAttribute("data-error")},e.prototype.enable=function(){return(0,O.default)(this.isTypeahead?this.typeaheads:this.selects,function(t,e){e.enable()}),this.inputEl.removeAttribute("disabled"),(0,y.default)(this.el,"disabled",!1),this},e.prototype.disable=function(){return(0,O.default)(this.isTypeahead?this.typeaheads:this.selects,function(t,e){e.disable()}),this.inputEl.setAttribute("disabled",""),(0,y.default)(this.el,"disabled",!0),this},e.prototype.updateInput=function(){var t=void 0;if(this.isTypeahead&&this.typeaheads?t=this.typeaheads:this.isSelect&&(t=this.selects),t){var e=t.day&&t.day.getValue(!0)||0,i=t.month&&t.month.getValue(!0)||0,s=t.year&&t.year.getValue(!0)||0,n=this.inputEl.value;this.inputEl.value=-1===[e,i,s].indexOf(0)?(0,m.default)(s,4)+"-"+(0,m.default)(i,2)+"-"+(0,m.default)(e,2):"",n!==this.inputEl.value&&(this._pauseInputChange=!0,(0,L.default)(this.inputEl,"change"),(this.onChange||X)(this.inputEl.value,this),this._pauseInputChange=!1)}return this},e.prototype.getTypingValue=function(){var t=void 0,e="";if(this.isTypeahead&&this.typeaheads?t=this.typeaheads:this.isSelect&&(t=this.selects),t){var i=t.day&&t.day.getValue(!0),s=t.month&&t.month.getValue(!0),n=t.year&&t.year.getValue(!0);e=s.toString()+i.toString()+n.toString()}return e},e.prototype.focus=function(t,e){if(!this.isActive||!this.inFocus)return this;var i=this.typeaheadEls.indexOf(this.inFocus.typeahead.el),s=this.typeaheadEls[i+t],n=void 0;if(e&&(n=this._getTypeaheadByElement(s))&&n.typeahead.addCharacterAtIndex(e,0),!s)return!1;var o=s.querySelector("input");return o&&(o.focus(),n&&n.typeahead.moveCaret(1)),this},e.prototype.focusNext=function(t){return this.focus(1,t)&&this.inFocus&&!t&&this.inFocus.typeahead.moveCaretToStart(),this},e.prototype.focusPrevious=function(t){return this.focus(-1,t)&&this.inFocus&&this.inFocus.typeahead.moveCaretToEnd(),this},e.prototype.hasPartialValue=function(){var t=void 0;for(t in this.typeaheads)if(this.typeaheads[t].getValue())return!0;for(t in this.selects)if(this.selects[t].getValue())return!0;return!1},e.prototype.update=function(t){return t?(this._removeTypeaheads(),this._removeSelects(),this._removeInputPieces(),this._removeEventListeners(),this._cacheElements(t),this._convertLabel(),this._initializeInputs(),this._updateClass(),this._addEventListeners()):this._runTypeaheads(),this},e.prototype._cacheElements=function(t){if(this.el=t,this.inputEl=this.el.querySelector('[type="date"]'),!this.inputEl)throw new Error('No <input type="date"> element present in date input container!',this.el);this.toggleEl=this.el.querySelector(".spark-date__toggle"),this.messageEl=this.el.querySelector(".spark-input__message")||(0,j.default)('<span class="spark-input__message"></span>')},e.prototype._parseParams=function(){this.isActive=null!==this.isActive?this.isActive:!!this.inputEl.value,this.isSelect=null!==this.isSelect?this.isSelect:!!(0,C.default)(this.el,"spark-date--select"),this.isTypeahead=null!==this.isTypeahead?this.isTypeahead:!this.isSelect,this.format=null!==this.format?this.format:(0,P.string)(this.inputEl,"data-format","MM-DD-YYYY"),this.textFormat=null!==this.textFormat?this.textFormat:(0,P.string)(this.inputEl,"data-text-format","MM DD YYYY"),this.showDateAsText=null!==this.showDateAsText?this.showDateAsText:(0,P.boolean)(this.inputEl,"data-show-date-as-text",!1),this.parsedFormat=(0,f.default)(this.format),this.parsedTextFormat=(0,f.default)(this.textFormat),this.min=null!==this.min?this.min:this.inputEl.getAttribute("min"),this.max=null!==this.max?this.max:this.inputEl.getAttribute("max"),this.min=this.min&&W.getValues(this.min),this.max=this.max&&W.getValues(this.max)},e.prototype._initializeInputs=function(){this.isTypeahead?(this._initializeInputPieces(),this._runTypeaheads()):this.isSelect&&((0,b.default)(this.el,"spark-input"),this._initializeInputPieces())},e.prototype._initializeInputPieces=function(){this.inputEl.style.display="none";var t=[],e=void 0;this.parsedFormat.parts.forEach(function(e){(this.isTypeahead?this._initializeTypeaheadPiece:this._initializeSelectPiece).call(this,t,e)}.bind(this)),this.piecesEl=document.createElement("span"),this.piecesEl.className=this.isTypeahead?"spark-input__fields":"spark-select-group",(0,B.default)(this.piecesEl,t),this.isSelect&&(e=this.el.querySelector(".spark-label"))&&this.piecesEl.appendChild(e),this.el.insertBefore(this.piecesEl,this.inputEl),this.inputEl.value&&(this.setValue(W.getValues(this.inputEl.value)),this.isActive=!0)},e.prototype._removeInputPieces=function(){this.inputEl.style.display="",this.piecesEl&&this.piecesEl.parentNode.removeChild(this.piecesEl)},e.prototype._removeTypeaheads=function(t){if(this.typeaheads)for(var e in this.typeaheads)this.typeaheads[e].remove(t)},e.prototype._removeSelects=function(t){var e=void 0;if(this.selects){for(var i in this.selects)this.selects[i].remove(t);(e=this.piecesEl.querySelector(".spark-label"))&&this.el.appendChild(e),(0,w.default)(this.el,"spark-input")}},e.prototype._initializeTypeaheadPiece=function(t,e){this.typeaheads=this.typeaheads||{},this.typeaheadEls=this.typeaheadEls||[];var i=void 0;switch(e.name){case"day":case"month":case"year":this.typeaheads[e.name]=new u.default({type:e.name,len:e.length,placeholder:e.value,onFocus:this._onTypeaheadFocusBound,onBlur:this._onTypeaheadBlurBound,onChange:this._onPieceChangeBound,onInput:this._onTypeaheadInputBound,onBackspace:this._onTypeaheadBackspaceBound,onEnd:this._onTypeaheadEndBound}),i=this.typeaheads[e.name].typeahead.el,this.typeaheadEls.push(i);break;default:i=document.createElement("span"),i.innerHTML=e.value,i.className="spark-input__divider"}t.push(i)},e.prototype._initializeSelectPiece=function(t,e){if(this.selects=this.selects||{},this.selectEls=this.selectEls||[],-1!==["day","month","year"].indexOf(e.name)){var i=void 0;switch(e.name){case"day":case"month":this.selects[e.name]=new c.default({type:e.name,onChange:this._onPieceChangeBound}),i=this.selects[e.name].select.el;break;case"year":var s=this.inputEl.min?W.getValues(this.inputEl.min).year:null,n=this.inputEl.max?W.getValues(this.inputEl.max).year:null;this.selects[e.name]=new c.default({min:s,max:n,type:e.name,onChange:this._onPieceChangeBound}),i=this.selects[e.name].select.el}t.push(i),this.selectEls.push(i)}},e.prototype._convertLabel=function(){if(!this.isTypeahead&&"label"===this.el.nodeName.toLowerCase()){var t=document.createElement("fieldset");(0,T.default)(this.el,t),(0,B.default)(t,this.el.children),this.el.parentNode&&this.el.parentNode.replaceChild(t,this.el),this.el=t}},e.prototype._validate=function(){this.isTypeahead?this._validateTypeaheads():this.isSelect&&this._validateSelects()},e.prototype._validateTypeaheads=function(){if(this.typeaheads){var t=this.typeaheads.month?this.typeaheads.month.getValue(!0):null,e=this.typeaheads.year?this.typeaheads.year.getValue(!0):null,i=t&&new Date(null!==e?e:(new Date).getFullYear(),t,0).getDate()||this._getMaxDaysInMonth(t);i<(this.typeaheads.day?this.typeaheads.day.getValue(!0):null)&&(this.typeaheads.day.setValue(i),this.updateInput())}},e.prototype._validateTypeaheadBounds=function(){var t=this.typeaheads.year?this.typeaheads.year.getValue(!0):null,e=this.typeaheads.month?this.typeaheads.month.getValue(!0):null,i=this.typeaheads.day?this.typeaheads.day.getValue(!0):null;if(t&&e&&i){var s=new Date(t,e-1,i),n="";this.min&&s<new Date(this.min.year,this.min.month-1,this.min.day)?n="min":this.max&&s>new Date(this.max.year,this.max.month-1,this.max.day)&&(n="max"),n&&(this.typeaheads.year.setValue((0,m.default)(this[n].year,this.typeaheads.year.typeahead.format.length)),this.typeaheads.month.setValue((0,m.default)(this[n].month,this.typeaheads.month.typeahead.format.length)),this.typeaheads.day.setValue((0,m.default)(this[n].day,this.typeaheads.day.typeahead.format.length)),this.updateInput())}},e.prototype._padTypeaheads=function(){if(!this._pauseInputChange){this._pauseInputChange=!0;for(var t in this.typeaheads)this._padTypeahead(this.typeaheads[t]);this._pauseInputChange=!1}},e.prototype._padTypeahead=function(t){var e=t.getValue();if(e){e!==(0,m.default)(e,t.typeahead.format.length)&&t.setValue((0,m.default)(e,t.typeahead.format.length))}},e.prototype._hasTypeaheadValue=function(){for(var t in this.typeaheads)if(this.typeaheads[t].getValue(!0))return!0;return!1},e.prototype._validateSelects=function(){if(this.selects){var t=this.selects.month?this.selects.month.getValue(!0):null,e=this.selects.year?this.selects.year.getValue(!0):null,i=t&&new Date(null!==e?e:(new Date).getFullYear(),t,0).getDate()||this._getMaxDaysInMonth(t),s=this.selects.day?this.selects.day.getValue(!0):null;this.selects.day.setOptions({max:i}),i<s&&this.selects.day.setValue(i),this.updateInput()}},e.prototype._getMaxDaysInMonth=function(t){return 2===t?29:-1!==[4,6,9,11].indexOf(t)?30:31},e.prototype._bindEventListenerCallbacks=function(){this._onTypeaheadBlurBound=this._onTypeaheadBlur.bind(this),this._onTypeaheadInputBound=this._onTypeaheadInput.bind(this),this._onTypeaheadFocusBound=this._onTypeaheadFocus.bind(this),this._onPieceChangeBound=this._onPieceChange.bind(this),this._onTypeaheadBackspaceBound=this._onTypeaheadBackspace.bind(this),this._onTypeaheadEndBound=this._onTypeaheadEnd.bind(this),this._onInputChangeBound=this._onInputChange.bind(this),this._onVisibleChildrenBound=this._onVisibleChildren.bind(this)},e.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.inputEl.addEventListener("change",this._onInputChangeBound),document.addEventListener("spark.visible-children",this._onVisibleChildrenBound,!0)},e.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.inputEl.removeEventListener("change",this._onInputChangeBound),
document.removeEventListener("spark.visible-children",this._onVisibleChildrenBound,!0)},e.prototype._onVisibleChildren=function(t){t.target.contains(this.el)&&window.setTimeout(function(){this.update()}.bind(this),0)},e.prototype._runTypeaheads=function(){if(!this.runningTypeaheads){this.runningTypeaheads=!0,this.inFocus&&this.inFocus.pause();for(var t in this.typeaheads)this.typeaheads[t]!==this.inFocus&&this.typeaheads[t].run();this.inFocus&&(this.inFocus.resume(),this.inFocus.run()),this.runningTypeaheads=!1}},e.prototype._updateClass=function(){(0,y.default)(this.el,"active",this.isActive),(0,y.default)(this.el,"has-partial-value",this.hasPartialValue()),(0,y.default)(this.el,"focus",!!this.inFocus)},e.prototype._getTypeaheadByElement=function(t){for(var e in this.typeaheads)if(this.typeaheads[e].typeahead.el===t)return this.typeaheads[e]},e.prototype._showDateText=function(){var t=this._getDateText();t&&this.showDateAsText&&(this.dateTextEl||this._createDateTextEl(),this.dateTextEl.innerHTML=t,this.dateTextEl.style.display="")},e.prototype._hideDateText=function(){this.showDateAsText&&this.dateTextEl&&(this.dateTextEl.style.display="none")},e.prototype._createDateTextEl=function(){var t=document.createElement("div");t.className="spark-input__overlay",t.style.display="none",this.el.appendChild(t),this.dateTextEl=t},e.prototype._getDateText=function(){for(var t,e=this.parsedTextFormat.parts,i=0,s=e.length,n="",o=!0;i<s;i++)switch(t=this.typeaheads[e[i].name]&&this.typeaheads[e[i].name].getValue(),e[i].name){case"month":if(n+=I.default.getMonthNameShort(t),!t){o=!1;break}break;case"day":case"year":if(n+=t,!t){o=!1;break}break;default:n+=e[i].value}return!!o&&n},e.prototype._onPieceChange=function(){this._validate(),this.isTypeahead&&this.showDateAsText&&!this._hasFocus&&(this._showTextTimer&&clearTimeout(this._showTextTimer),this._showTextTimer=setTimeout(function(){this._showDateText()}.bind(this),0))},e.prototype._onTypeaheadFocus=function(t,e){this.runningTypeaheads||(this._hideDateText(),this._hasFocus||(this._hasFocus=!0,(this.onFocus||X)(this.inputEl.value,this)),(0,L.default)(this.inputEl,"focus"),this.inFocus=e,this.show(),this._updateClass(),this._blurTimer&&(clearTimeout(this._blurTimer),this._blurTimer=null))},e.prototype._onTypeaheadBlur=function(t,e){this.runningTypeaheads||(this.inFocus=null,this._padTypeahead(e),this.updateInput(),this._updateClass(),this.inputEl.value||this._hasTypeaheadValue()?this._validateTypeaheadBounds():this.hide(),this._blurTimer=setTimeout(function(){this._hasFocus=!1,(this.onBlur||X)(this.inputEl.value,this),this._showDateText()}.bind(this),1))},e.prototype._onTypeaheadInput=function(){(this.onInput||X)(this.getTypingValue(),this)},e.prototype._onTypeaheadBackspace=function(){this.focusPrevious()},e.prototype._onTypeaheadEnd=function(t,e){this.focusNext(e)},e.prototype._onInputChange=function(t){this.isTypeahead&&(this.isActive=!!t.target.value,this._updateClass()),this._pauseInputChange||(this.setValue(W.getValues(t.target.value)),(this.onChange||X)(this.inputEl.value,this))},e.prototype._onClick=function(){},e}(l.default);Y.prototype._whitelistedParams=["validate","onValidate","onChange","onInput","onFocus","onBlur","isTypeahead","isSelect","format","textFormat","showDateAsText","min","max"],Y.prototype.defaults={el:null,inputEl:null,messageEl:null,piecesEl:null,toggleEl:null,inFocus:null,isActive:null,isSelect:null,isTypeahead:null,typeaheads:null,typeaheadEls:null,selects:null,selectEls:null,format:null,parsedFormat:null,showDateAsText:null,textFormat:null,runningTypeaheads:!1,onValidate:null,onChange:null,onInput:null,onFocus:null,onBlur:null,_hasFocus:!1,_pauseInputChange:!1,_onClickBound:null,_onPieceChangeBound:null,_onTypeaheadFocusBound:null,_onTypeaheadBlurBound:null,_onTypeaheadInputBound:null,_onTypeaheadBackspaceBound:null,_onTypeaheadEndBound:null,_onInputChangeBound:null},(0,V.default)(Y.prototype,z.default,H.default),i.default=Y,e.exports=i.default},{"../helpers/date/date":34,"../helpers/date/parse-format":35,"../helpers/dom/add-class":36,"../helpers/dom/has-class":38,"../helpers/dom/make-element":39,"../helpers/dom/parse-attribute":42,"../helpers/dom/remove-class":43,"../helpers/dom/toggle-class":44,"../helpers/dom/trigger-event":45,"../helpers/manipulation/append-children":49,"../helpers/manipulation/copy-attributes":50,"../helpers/util/each":65,"../helpers/util/mixin":66,"../helpers/util/pad":67,"../mixins/messaging":71,"../mixins/validation":72,"./base":1,"./date-select":5,"./date-typeahead":6}],5:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){var t=document.createElement("span");return t.className="spark-select",t.innerHTML='<select class="spark-select__input"></select><span class="spark-label"></span>',t}Object.defineProperty(i,"__esModule",{value:!0});var l=t("./base"),h=s(l),u=t("./select-input"),d=s(u),c=t("../helpers/date/date"),p=s(c),f=t("../helpers/dom/parse-attribute"),_=function(){},m=function(t){function e(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),i instanceof HTMLElement||(s=i||{},i=a());var r=o(this,t.call(this,i,s));return r._bindEventListenerCallbacks(),r._createSelect(i),r}return r(e,t),e.prototype.getValue=function(t){return t?parseInt(this.select.getValue(),10):this.select.getValue()},e.prototype.setValue=function(t){return this.select.setValue(t)},e.prototype.clearValue=function(){return this.select.clearValue()},e.prototype.enable=function(){return this.select.enable()},e.prototype.disable=function(){return this.select.disable()},e.prototype.setOptions=function(t){t=t||{},this.min=t.min||this.min,this.max=t.max||this.max,this.monthNames=t.monthNames||this.monthNames,this.numericMonth=t.numericMonth||this.numericMonth,"year"===this.type&&(t.min&&!t.max?this.max=this.min+100:t.max&&!t.min&&(this.min=this.max-100));for(var e=this.min?this.min-1:0,i=this.max||this.monthNames.length,s=[{}];e<i;e++)s.push({value:e+1,text:this.monthNames?this.monthNames[e]:e+1});return this.select.setOptions(s),this},e.prototype.setLabel=function(t){return this.select.setLabel(void 0!==t?t:this._getTypeText()),this},e.prototype._createSelect=function(t){this.select=new d.default(t,{onChange:this._onSelectChangeBound,onFocus:this._onSelectFocusBound,onBlur:this._onSelectBlurBound}),this.setOptions(),this.setLabel()},e.prototype._cacheElements=function(t){this.el=t,this.selectEl=this.el.querySelector("select")},e.prototype._parseParams=function(){if(this.type=null!==this.type?this.type:(0,f.string)(this.selectEl,"data-type","day"),"year"===this.type){var t=new Date;this.min=null!==this.min?this.min:(0,f.number)(this.selectEl,"min",t.getFullYear()-100),this.max=null!==this.max?this.max:(0,f.number)(this.selectEl,"max",(this.min||t.getFullYear())+100)}else"month"===this.type?(this.monthNames=null!==this.monthNames?this.monthNames:(0,f.string)(this.selectEl,"data-month-names",null),this.numericMonth=null!==this.numericMonth?this.numericMonth:(0,f.boolean)(this.selectEl,"data-numeric-month",!1),this.min=null!==this.min?this.min:(0,f.number)(this.selectEl,"min",null),this.max=null!==this.max?this.max:(0,f.number)(this.selectEl,"max",null),this.monthNames||this.numericMonth||this.min||this.max?this.min||this.max||(this.min=1,this.max=12):this.monthNames=this._getDefaultMonthNames(),"string"==typeof this.monthNames&&(this.monthNames=this.monthNames.split(","))):(this.min=null!==this.min?this.min:(0,f.number)(this.selectEl,"min",1),this.max=null!==this.max?this.max:(0,f.number)(this.selectEl,"max",31))},e.prototype._getDefaultMonthNames=function(){return p.default.getMonthNamesShort()},e.prototype._getTypeText=function(){return this.type.charAt(0).toUpperCase()+this.type.slice(1)},e.prototype._bindEventListenerCallbacks=function(){this._onSelectChangeBound=this._onSelectChange.bind(this),this._onSelectFocusBound=this._onSelectFocus.bind(this),this._onSelectBlurBound=this._onSelectBlur.bind(this)},e.prototype._onSelectChange=function(t){(this.onChange||_)(t,this)},e.prototype._onSelectFocus=function(t){(this.onFocus||_)(t,this)},e.prototype._onSelectBlur=function(t){(this.onBlur||_)(t,this)},e}(h.default);m.prototype._whitelistedParams=["type","monthNames","numericMonth","min","max","onChange","onFocus","onBlur"],m.prototype.defaults={el:null,selectEl:null,type:null,monthNames:null,min:null,max:null,select:null,numericMonth:null,onChange:null,onFocus:null,onBlur:null,_onChangeBound:null,_onFocusBound:null,_onBlurBound:null},i.default=m,e.exports=i.default},{"../helpers/date/date":34,"../helpers/dom/parse-attribute":42,"./base":1,"./select-input":19}],6:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){var t=document.createElement("span");return t.className="spark-input",t}Object.defineProperty(i,"__esModule",{value:!0});var l=t("./base"),h=s(l),u=t("./typeahead"),d=s(u),c=t("../helpers/dom/parse-attribute"),p=function(){},f=function(t){function e(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),arguments.length<2&&(s=i||{},i=a());var r=o(this,t.call(this,i,s));return r._bindEventListenerCallbacks(),r._createTypeahead(i,s),r}return r(e,t),e.prototype.getValue=function(t){return this.typeahead.getValue(t)},e.prototype.setValue=function(t){return this.typeahead.setValue(t)},e.prototype.clearValue=function(){return this.typeahead.clearValue()},e.prototype.enable=function(){return this.typeahead.enable()},e.prototype.disable=function(){return this.typeahead.disable()},e.prototype.run=function(){return this.typeahead.run()},e.prototype.pause=function(){return this.typeahead.pause()},e.prototype.resume=function(){return this.typeahead.resume()},e.prototype.remove=function(e){return this.typeahead.remove(e),t.prototype.remove.call(this,e),this},e.prototype._cacheElements=function(t){this.el=t},e.prototype._parseParams=function(){if(this.type=null!==this.type?this.type:(0,c.string)(this.el,"data-type","day"),this.format=null!==this.format?this.format:(0,c.string)(this.el,"data-format",null),this.placeholder=null!==this.placeholder?this.placeholder:(0,c.string)(this.el,"data-placeholder",null),this.len=null!==this.len?this.len:(0,c.number)(this.el,"length",null),!this.placeholder)throw new Error("You must provide a placeholder value for a DateTypeahead.");if(null!==this.len&&(this.format=this._lengthToFormat(this.len)),!this.format)throw new Error("You must provide a format value for a DateTypeahead.")},e.prototype._createTypeahead=function(t){this.typeahead=new d.default(t,{placeholder:this.placeholder,format:this.format,matchPlaceholderSize:!0,onChange:this._onTypeaheadChangeBound,onInput:this._onTypeaheadInputBound,onFocus:this._onTypeaheadFocusBound,onBlur:this._onTypeaheadBlurBound,onBackspace:this._onTypeaheadBackspaceBound,onEnd:this._onTypeaheadEndBound});var e=t.querySelector("input");e&&!e.getAttribute("aria-label")&&e.setAttribute("aria-label",this.type)},e.prototype._bindEventListenerCallbacks=function(){this._onTypeaheadChangeBound=this._onTypeaheadChange.bind(this),this._onTypeaheadInputBound=this._onTypeaheadInput.bind(this),this._onTypeaheadFocusBound=this._onTypeaheadFocus.bind(this),this._onTypeaheadBlurBound=this._onTypeaheadBlur.bind(this),this._onTypeaheadBackspaceBound=this._onTypeaheadBackspace.bind(this),this._onTypeaheadEndBound=this._onTypeaheadEnd.bind(this)},e.prototype._lengthToFormat=function(t){for(var e=0,i="";e<t;e++)i+="\\d";return i},e.prototype._checkValidity=function(t,e){t=parseInt(t,10);var i=t,s=!isNaN(t);return s&&(t="year"===this.type?0===t?e?"":0:Math.max(t,0):"month"===this.type?t?Math.min(Math.max(t,1),12):e?"":0:t?Math.min(Math.max(t,1),31):e?"":0),!s||t===i||(this.typeahead.setValue(t+""),!1)},e.prototype._onTypeaheadChange=function(t){this._checkValidity(t)&&(this.onChange||p)(t,this)},e.prototype._onTypeaheadInput=function(t){(this.onInput||p)(t,this)},e.prototype._onTypeaheadFocus=function(t){(this.onFocus||p)(t,this)},e.prototype._onTypeaheadBlur=function(t){this._checkValidity(t,!0),(this.onBlur||p)(t,this)},e.prototype._onTypeaheadBackspace=function(t){(this.onBackspace||p)(t,this)},e.prototype._onTypeaheadEnd=function(t,e){(this.onEnd||p)(this,e)},e}(h.default);f.prototype._whitelistedParams=["type","format","placeholder","len","onChange","onInput","onFocus","onBlur","onBackspace","onEnd"],f.prototype.defaults={el:null,type:null,typeahead:null,format:null,placeholder:null,len:null,onChange:null,onInput:null,onFocus:null,onBlur:null,onBackspace:null,onEnd:null,_onTypeaheadChangeBound:null,_onTypeaheadInputBound:null,_onTypeaheadFocusBound:null,_onTypeaheadBlurBound:null,_onTypeaheadBackspaceBound:null,_onTypeaheadEndBound:null},i.default=f,e.exports=i.default},{"../helpers/dom/parse-attribute":42,"./base":1,"./typeahead":28}],7:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/animation/height"),u=s(h),d=t("../helpers/dom/toggle-class"),c=s(d),p=t("../helpers/dom/has-class"),f=s(p),_=t("../helpers/traversal/get-parent"),m=s(_),v=function(){},y=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.expand=function(){(this.onBeforeExpand||v)(),(0,u.default)({el:this.el,toggleClass:"expanded",toggleEl:".spark-expand__content, .spark-panel__content"}),this.isExpanded=!0,this._updateClasses();var t=document.createEvent("Event");return t.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(t),this.el.querySelector("input")&&this.el.querySelector("input").focus(),(this.onAfterExpand||v)(),this},e.prototype.collapse=function(){return(this.onBeforeCollapse||v)(),(0,u.default)({el:this.el,toggleEl:".spark-expand__content, .spark-panel__content",toggleValue:"none",action:"collapse"}),this.isExpanded=!1,this._updateClasses(),(this.onAfterCollapse||v)(),this},e.prototype.toggle=function(){return this[this.isExpanded?"collapse":"expand"]()},e.prototype._cacheElements=function(t){this.el=t,this.isExpanded=(0,f.default)(this.el,"expanded")},e.prototype._updateClasses=function(){(0,c.default)(this.el,"expanded",this.isExpanded)},e.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onKeydownBound=this._onKeydown.bind(this)},e.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("keydown",this._onKeydownBound)},e.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("keydown",this._onKeydownBound)},e.prototype._onClick=function(t){(0,m.default)(t.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)&&(t.preventDefault(),this.toggle())},e.prototype._onKeydown=function(t){if((0,m.default)(t.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)){var e=t.keyCode||t.which;32!==e&&13!==e||(t.preventDefault(),this.toggle())}},e}(l.default);y.prototype._whitelistedParams=["onBeforeExpand","onAfterExpand","onBeforeCollapse","onAfterCollapse"],y.prototype.defaults={el:null,isExpanded:!1,onBeforeExpand:null,onAfterExpand:null,onBeforeCollapse:null,onAfterCollapse:null,_onClickBound:null,_onKeydownBound:null},i.default=y,e.exports=i.default},{"../helpers/animation/height":29,"../helpers/dom/has-class":38,"../helpers/dom/toggle-class":44,"../helpers/traversal/get-parent":58,"./base":1}],8:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/toggle-class"),u=s(h),d=t("../helpers/dom/remove-class"),c=s(d),p=t("../helpers/dom/add-class"),f=s(p),_=t("../helpers/dom/has-class"),m=s(_),v=t("./expand"),y=s(v),g=t("./modal"),b=s(g),E=function(){},w=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype._cacheElements=function(t){this.el=t,this._showAllEl=this.el.querySelector(".spark-filter-module__show-all"),this._showAllEl&&(this._showAllToggleable=this._showAllEl.querySelector("span")),this._clearEls=this.el.querySelectorAll(".spark-filter-module__clear"),this._hiddenEls=Array.prototype.slice.call(this.el.querySelectorAll(".spark-filter-module--hide")),this._headerEl=this.el.querySelector(".spark-filter-module__header"),this._bodyEl=this.el.querySelector(".spark-filter-module__body"),this._modalEl=this.el.querySelector(".spark-modal"),this._modalSaveBtn=this.el.querySelector(".spark-filter-module__show-all__modal-button"),this._modalClasses=[],"modal"===this.onShowAll&&(this.modalInst=new b.default(this._modalEl))},e.prototype._bindEventListenerCallbacks=function(){this._onShowAllBound=this._onShowAll.bind(this),this._onClearBound=this._onClear.bind(this),this._onCloseModalBound=this._onCloseModal.bind(this)},e.prototype._addEventListeners=function(){!this._showAllEl||this._showAllEl.addEventListener("click",this._onShowAllBound),!this._modalSaveBtn||this._modalSaveBtn.addEventListener("click",this._onCloseModalBound);for(var t=0;t<this._clearEls.length;t++)!this._clearEls[t]||this._clearEls[t].addEventListener("click",this._onClearBound)},e.prototype._removeEventListeners=function(){if(this._showAllEl){this._showAllEl.removeEventListener("click",this._onShowAllBound),this._modalSaveBtn.removeEventListener("click",this._onCloseModalBound);for(var t=0;t<this._clearEls.length;t++)!this._clearEls[t]||this._clearEls[t].removeEventListener("click",this._onClearBound)}},e.prototype._onShowAll=function(){"function"==typeof this.onShowAll?(this.onShowAll||E)(this):("toggle"===this.onShowAll||"modal"===this.onShowAll&&this._isExpand?(this._toggleShowAllLabel(),this.toggleHiddenContent()):"modal"!==this.onShowAll||this._isExpand||this.modalInst.open(),(this.onShowAllComplete||E)())},e.prototype._toggleShowAllLabel=function(){this._showAllToggleable.innerHTML="more"===this._showAllToggleable.innerHTML?"fewer":"more"},e.prototype._onClear=function(){(this.onClear||E)(this)},e.prototype._onCloseModal=function(){(this.onModalClose||E)(),this.modalInst.close()},e.prototype.enableClearBtn=function(){for(var t=0;t<this._clearEls.length;t++)(0,c.default)(this._clearEls[t],"spark-filter-module__clear--disabled"),(0,c.default)(this._clearEls[t],"spark-filter-module__clear--hidden")},e.prototype.disableClearBtn=function(){for(var t=0;t<this._clearEls.length;t++)(0,f.default)(this._clearEls[t],"spark-filter-module__clear--disabled")},e.prototype.hideClearBtn=function(){for(var t=0;t<this._clearEls.length;t++)(0,f.default)(this._clearEls[t],"spark-filter-module__clear--hidden")},e.prototype.getClearButtonStatus=function(){for(var t=!1,e=0;e<this._clearEls.length;e++)t=!(0,m.default)(this._clearEls[e],"spark-filter-module__clear--hidden")&&!(0,m.default)(this._clearEls[e],"spark-filter-module__clear--disabled");return t},e.prototype.toggleHiddenContent=function(){for(var t=0;t<this._hiddenEls.length;t++)(0,u.default)(this._hiddenEls[t],"show")},e.prototype._applyExpand=function(){if(this._modalEl){var t=["spark-filter-module--hide","","",""];this._hiddenEls.push(this._modalEl);for(var e=this._modalEl,i=0;i<t.length;i++)this._modalClasses[i]=e.className,e.className=t[i],e=e.firstElementChild;(0,m.default)(document.body,"spark-modal-open")&&(0,c.default)(document.body,"spark-modal-open"),this.modalInst.remove(!0)}(0,f.default)(this.el,"spark-panel","spark-panel--expand"),(0,f.default)(this._headerEl,"spark-panel__header"),this._headerEl.setAttribute("role","heading"),this._headerEl.setAttribute("tabindex","0"),(0,f.default)(this._bodyEl,"spark-panel__content"),this._expandInst=new y.default(this.el,{onAfterExpand:this.onAfterExpand,onAfterCollapse:this.onAfterCollapse}),this._isExpand=!0},e.prototype._disapplyExpand=function(){if(this._modalEl){(0,m.default)(this._modalEl,"show")&&this._toggleShowAllLabel(),this._hiddenEls.pop();for(var t=this._modalEl,e=0;e<this._modalClasses.length;e++)t.className=this._modalClasses[e],t=t.firstElementChild;this.modalInst=new b.default(this._modalEl)}(0,c.default)(this.el,"spark-panel","spark-panel--expand"),(0,c.default)(this._headerEl,"spark-panel__header"),this._headerEl.removeAttribute("role"),this._headerEl.removeAttribute("tabindex"),(0,c.default)(this._bodyEl,"spark-panel__content"),this._expandInst.remove(!0),this._isExpand=!1},e}(l.default);w.prototype._whitelistedParams=["onShowAll","onShowAllComplete","onModalClose","onClear","onAfterExpand","onAfterCollapse"],w.prototype.defaults={el:null,onShowAll:E,onShowAllComplete:E,onModalClose:E,onClear:E,onAfterExpand:E,onAfterCollapse:E,modalInst:null,_onShowAllBound:null,_onClearBound:null,_showAllEl:null,_clearEl:null,_hiddenEls:[],_headerEl:null,_bodyEl:null,_modalEl:null,_expandInst:null,_isExpand:!1,dataSet:{}},i.default=w,e.exports=i.default},{"../helpers/dom/add-class":36,"../helpers/dom/has-class":38,"../helpers/dom/remove-class":43,"../helpers/dom/toggle-class":44,"./base":1,"./expand":7,"./modal":12}],9:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/add-class"),u=s(h),d=t("../helpers/dom/has-class"),c=s(d),p=t("../helpers/dom/toggle-class"),f=s(p),_=t("../helpers/dom/remove-class"),m=s(_),v=t("./filter-module"),y=s(v),g=t("../helpers/animation/height"),b=s(g),E=t("../helpers/dom/breakpoint"),w=function(){},k=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._initFilterDisplay(),o(s)):o(s)}return r(e,t),e.prototype._cacheElements=function(t){this.el=t,this.moduleEls=this.el.querySelectorAll(".spark-filter-module");var e={onAfterExpand:this._onAfterExpand.bind(this),onAfterCollapse:this._onAfterCollapse.bind(this)};if(this.moduleEls.length>0)for(var i=0;i<this.moduleEls.length;i++)if(void 0!==this.moduleOptions[i]){for(var s in e)this.moduleOptions[i][s]=e[s];this.moduleInsts[i]=new y.default(this.moduleEls[i],this.moduleOptions[i])}else this.moduleInsts[i]=new y.default(this.moduleEls[i],e);this._filterToggleContainer=this.el.querySelector(".spark-filter__toggle-container"),this._toggleFilterButton=this.el.querySelector(".spark-filter__toggle-button"),this._toggleFilterLabel=this.el.querySelector(".spark-filter__toggle-button span"),this._tagsContainer=this.el.querySelector(".spark-filter__tags-container"),this._tagsCounter=this.el.querySelector(".spark-filter__applied-filters-counter"),this._clearAllButton=this.el.querySelector(".spark-filter__clear-all"),this._filterContent=this.el.querySelector(".spark-filter__content"),this._modulesContainer=this.el.querySelector(".spark-filter__modules-container"),this._viewMoreButton=this.el.querySelector(".spark-filter__view-more-filters"),this._viewLessButton=this.el.querySelector(".spark-filter__view-less-filters"),this._filterFooter=this.el.querySelector(".spark-filter__footer"),this._buttonGroupEl=this.el.querySelector(".spark-filter__apply-btn-container"),this._applyFiltersButton=this.el.querySelector(".spark-filter__btn-apply")},e.prototype._bindEventListenerCallbacks=function(){this._onResizeBound=this._onResize.bind(this),this._toggleViewBound=this._toggleView.bind(this),this._toggleFilterClickBound=this.toggleFilterClick.bind(this),this._onClearAllBound=this._onClearAll.bind(this),this._onScrollBound=this._onScroll.bind(this)},e.prototype._addEventListeners=function(){window.addEventListener("resize",this._onResizeBound),window.addEventListener("scroll",this._onScrollBound),!this._viewMoreButton||this._viewMoreButton.addEventListener("click",this._toggleViewBound),!this._viewLessButton||this._viewLessButton.addEventListener("click",this._toggleViewBound),!this._toggleFilterButton||this._toggleFilterButton.addEventListener("click",this._toggleFilterClickBound),!this._clearAllButton||this._clearAllButton.addEventListener("click",this._onClearAllBound)},e.prototype._removeEventListeners=function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("scroll",this._onScrollBound),!this._viewMoreButton||this._viewMoreButton.removeEventListener("click",this._toggleViewBound),!this._viewLessButton||this._viewLessButton.removeEventListener("click",this._toggleViewBound),!this._toggleFilterButton||this._toggleFilterButton.removeEventListener("click",this._toggleFilterClickBound),!this._clearAllButton||this._clearAllButton.removeEventListener("click",this._onClearAllBound)},e.prototype._initFilterDisplay=function(){this.initializingFilter=!0,this.moduleEls.length>0&&(this.extraModulesExpanded=!1),(0,u.default)(this.el,"spark-filter--initializing"),this._determineFilterLayout()},e.prototype._determineFilterLayout=function(){switch(this.currentBreakpoint=(0,E.get)(window.innerWidth),this.currentBreakpoint){case"xs":this._curCol=1;break;case"sm":this._curCol=2;break;case"md":this._curCol=3;break;default:this._curCol=4}this._curCol<=1?this._isDropdownState||(this._applyExpandCollapseLayout(),this._showModule()):(this._expandCollapseState&&this._removeExpandCollapseLayout(),(0,c.default)(this._buttonGroupEl,"is-fixed")&&(clearTimeout(this._timeout),this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,m.default)(this._buttonGroupEl,"is-fixed")),this._showModule(),this.extraModulesExpanded||this._hideModule(this._curCol,this._maxCol-1))},e.prototype._updateFilterLayout=function(){this._determineFilterLayout()},e.prototype._toggleView=function(){this._isFilterExpanded&&!this.extraModulesExpanded?this._showModule():this._isFilterExpanded&&this.extraModulesExpanded&&this._hideModule(this._curCol,this._maxCol-1),this.extraModulesExpanded=!this.extraModulesExpanded,(0,f.default)(this._viewMoreButton,"hide"),(0,f.default)(this._viewLessButton,"hide")},e.prototype.toggleFilterClick=function(){this.initializingFilter&&(this.initializingFilter=!1),this.toggleFilter()},e.prototype.toggleFilter=function(t,e){(0,c.default)(this.el,"spark-filter--initializing")&&!this.initializingFilter&&((0,m.default)(this.el,"spark-filter--initializing"),(0,u.default)(this.el,"spark-filter--initialized")),"expand"===t?(this.initializingFilter?(0,m.default)(this._filterContent,"hide"):((0,m.default)(this._filterContent,"hide"),(0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"expand"}),this._toggleFilterLabel.innerHTML="Hide"),e||(this._isFilterExpanded=!0)):"collapse"===t?(this.initializingFilter?(0,u.default)(this._filterContent,"hide"):((0,u.default)(this._filterContent,"hide"),(0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"collapse"}),this._toggleFilterLabel.innerHTML="Show"),e||(this._isFilterExpanded=!1)):((0,f.default)(this._filterContent,"hide"),(0,c.default)(this.el,"filter-expanded")?((0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"collapse"}),this._toggleFilterLabel.innerHTML="Show"):((0,b.default)({el:this.el,toggleEl:".spark-filter__content",toggleClass:"filter-expanded",action:"expand"}),this._toggleFilterLabel.innerHTML="Hide"),e||(this._isFilterExpanded=!this._isFilterExpanded,(0,c.default)(this.el,"spark-filter--dropdown")&&!(0,c.default)(this._filterContent,"hide")&&this._calculateApplyBtnPosition())),!(0,c.default)(this.el,"spark-filter--dropdown")&&(0,c.default)(this._buttonGroupEl,"is-fixed")&&(clearTimeout(this._timeout),this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,m.default)(this._buttonGroupEl,"is-fixed"))},e.prototype._onResize=function(){this._updateFilterLayout()},e.prototype._onScroll=function(){this._isDropdownState&&(this._timeout=setTimeout(this._calculateApplyBtnPosition.bind(this),300))},e.prototype._onAfterExpand=function(){(0,c.default)(this._buttonGroupEl,"is-fixed")||(this._timeout=setTimeout(this._calculateApplyBtnPosition.bind(this),300))},e.prototype._onAfterCollapse=function(){this._timeout=setTimeout(this._calculateApplyBtnPosition.bind(this),300)},e.prototype._calculateApplyBtnPosition=function(){var t=this.el.getBoundingClientRect();if(t.height>255){var e=window.innerHeight,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s=i-(t.top+document.body.scrollTop),n=t.top+document.body.scrollTop+t.height-(i+e);if(!(i>t.top+document.body.scrollTop+t.height||t.top+document.body.scrollTop>i+window.innerHeight)){var o,r=100,a=0,l=0;s>0&&(r-=100*s/t.height,a=s),n>0&&(r-=100*n/t.height,l=n),o=(t.height-(l+a))/e*100}if(t.bottom>(window.innerHeight||document.documentElement.clientHeight)&&(r>45||o>50)){
var h=this._buttonGroupEl.offsetHeight,d=t.width;this._filterFooter.style.height=h+"px",(0,u.default)(this._buttonGroupEl,"is-fixed"),this._buttonGroupEl.style.width=d-2+"px",this._buttonGroupEl.style.left=t.left+1+"px",this._applyBtnPositionFixed()}else this._applyBtnPositionRelative()}},e.prototype._applyBtnPositionRelative=function(){var t=parseInt(getComputedStyle(this._buttonGroupEl).bottom),e=this._modulesContainer.getBoundingClientRect().bottom,i=window.innerHeight||document.documentElement.clientHeight,s=this._buttonGroupEl.getBoundingClientRect().height,n=i-(e+s);if(!isNaN(t)){var o=function t(){this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,m.default)(this._buttonGroupEl,"is-fixed"),(0,m.default)(this._buttonGroupEl,"spark-filter__apply-btn-container--animate"),this._buttonGroupEl.removeEventListener("animationend",t)};this._buttonGroupEl.addEventListener("animationend",o.bind(this),!1);var r="-webkit-transform: translateY(-"+n+"px); transform: translateY(-"+n+"px);";this._buttonGroupEl.setAttribute("style",this._buttonGroupEl.getAttribute("style")+" "+r),(0,u.default)(this._buttonGroupEl,"spark-filter__apply-btn-container--animate")}},e.prototype._applyBtnPositionFixed=function(){function t(){i+=.01;var s=parseInt(getComputedStyle(this._buttonGroupEl).bottom),n=parseInt(getComputedStyle(this._buttonGroupEl).height);s<-1*n&&(s=-1*n),s>-1?(this._buttonGroupEl.style.bottom="0px",cancelAnimationFrame(e)):s<0&&(s+=1/i,this._buttonGroupEl.style.bottom=s+"px",requestAnimationFrame(t.bind(this)))}var e=requestAnimationFrame(t.bind(this)),i=.1},e.prototype._onClearAll=function(){(this.onClearAll||w)()},e.prototype._showModule=function(){for(var t=0;t<this.moduleEls.length;t++)(0,m.default)(this.moduleEls[t],"hide")},e.prototype._hideModule=function(t,e){e=e||this.moduleEls.length-1;for(var i=t;i<=e;i++)(0,u.default)(this.moduleEls[i],"hide")},e.prototype._applyExpandCollapseLayout=function(){(0,u.default)(this.el,"spark-filter--dropdown"),this._expandCollapseState=!0;var t=this._tagsContainer.querySelectorAll(".spark-filter__tag");if(t.length>0){for(var e=0;e<t.length;e++)(0,u.default)(t[e],"hide");(0,m.default)(this._tagsCounter,"hide")}(0,u.default)(this._viewMoreButton,"hide"),(0,u.default)(this._viewLessButton,"hide"),this._applyFiltersButton&&((0,m.default)(this._applyFiltersButton,"spark-btn--sm"),(0,u.default)(this._applyFiltersButton,"spark-btn--block"));for(var i=0;i<this.moduleInsts.length;i++)this.moduleInsts[i]._applyExpand();this._isDropdownState=!0,this._timeout=setTimeout(this._calculateApplyBtnPosition.bind(this),300)},e.prototype._removeExpandCollapseLayout=function(){(0,m.default)(this.el,"spark-filter--dropdown"),this._expandCollapseState=!1,this._filterFooter.removeAttribute("style"),this._buttonGroupEl.removeAttribute("style"),(0,m.default)(this._buttonGroupEl,"is-fixed");var t=this._tagsContainer.querySelectorAll(".spark-filter__tag");if(t.length>0){for(var e=0;e<t.length;e++)(0,m.default)(t[e],"hide");(0,u.default)(this._tagsCounter,"hide")}this.extraModulesExpanded?(0,m.default)(this._viewLessButton,"hide"):(0,m.default)(this._viewMoreButton,"hide"),this._applyFiltersButton&&((0,u.default)(this._applyFiltersButton,"spark-btn--sm"),(0,m.default)(this._applyFiltersButton,"spark-btn--block"));for(var i=0;i<this.moduleInsts.length;i++)this.moduleInsts[i]._disapplyExpand();this._isDropdownState=!1},e.prototype.createTagEl=function(t,e,i){var s=document.createElement("div");s.className=(0,c.default)(this.el,"spark-filter--dropdown")?"spark-filter__tag hide":"spark-filter__tag",s.setAttribute("data-filter-name",t),s.innerHTML='<span class="spark-filter__tag__label">'+e+'</span><i class="spark-icon spark-filter__tag__close"></i>',this._tagsContainer.insertBefore(s,this._clearAllButton),s.querySelector(".spark-filter__tag__close").addEventListener("click",i||w),(0,m.default)(this._clearAllButton,"hide"),(0,c.default)(this.el,"spark-filter--dropdown")&&(0,m.default)(this._tagsCounter,"hide")},e.prototype.clearAllTagEls=function(){for(var t=this._tagsContainer.querySelectorAll(".spark-filter__tag"),e=0;e<t.length;e++)this._tagsContainer.removeChild(t[e]);this._tagsContainer.querySelector("span").innerHTML="0",(0,u.default)(this._clearAllButton,"hide"),(0,u.default)(this._tagsCounter,"hide")},e.prototype.showModuleClearButton=function(t){for(var e=0;e<this.moduleInsts.length;e++)this.moduleInsts[e].el.getAttribute("data-filter-module")===t&&this.moduleInsts[e].enableClearBtn()},e.prototype.disableModuleClearButton=function(t){for(var e=0;e<this.moduleInsts.length;e++)this.moduleInsts[e].el.getAttribute("data-filter-module")===t&&this.moduleInsts[e].disableClearBtn()},e.prototype.hideModuleClearButton=function(t){for(var e=0;e<this.moduleInsts.length;e++)this.moduleInsts[e].el.getAttribute("data-filter-module")===t&&this.moduleInsts[e].hideClearBtn()},e.prototype.moduleClearButtonStatus=function(t){for(var e=0;e<this.moduleInsts.length;e++)if(this.moduleInsts[e].el.getAttribute("data-filter-module")===t)return this.moduleInsts[e].getClearButtonStatus()},e}(l.default);k.prototype._whitelistedParams=["onClearAll","moduleOptions"],k.prototype.defaults={el:null,moduleEls:[],_filterToggleContainer:null,_toggleFilterButton:null,_toggleFilterLabel:null,_tagsContainer:null,_tagsCounter:null,_clearAllButton:null,_filterContent:null,_modulesContainer:null,_viewMoreButton:null,_viewLessButton:null,_filterFooter:null,_buttonGroupEl:null,_applyFiltersButton:null,moduleInsts:[],moduleOptions:[],maxCol:4,onClearAll:w,extraModulesExpanded:!1,_isFilterExpanded:!1,_isDropdownState:!1,_isModuleExpand:!0,_curCol:4,_onResizeBound:null,_toggleViewBound:null,_toggleFilterClickBound:null,_onClearAllBound:null,_onScrollBound:null},i.default=k,e.exports=i.default},{"../helpers/animation/height":29,"../helpers/dom/add-class":36,"../helpers/dom/breakpoint":37,"../helpers/dom/has-class":38,"../helpers/dom/remove-class":43,"../helpers/dom/toggle-class":44,"./base":1,"./filter-module":8}],10:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("./menu"),u=s(h),d=t("../helpers/dom/toggle-class"),c=s(d),p=t("../helpers/dom/add-class"),f=s(p),_=t("../helpers/dom/remove-class"),m=s(_),v=t("../helpers/dom/has-class"),y=s(v),g=t("../helpers/traversal/get-index"),b=s(g),E=t("../helpers/manipulation/append-children"),w=s(E),k=t("../helpers/manipulation/insert-before"),C=s(k),x=t("../helpers/dom/breakpoint"),B=t("../helpers/traversal/get-parent"),S=s(B),L=t("../helpers/traversal/get-parents"),M=s(L),T=t("../helpers/dom/parse-attribute"),A=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._determineInitialSize(),o(s)):o(s)}return r(e,t),e.prototype.update=function(t){return this._removeEventListeners(),this._removePlaceholder(),this._cacheElements(t||this.el),this._parseParams(),this._addEventListeners(),this._ensureActiveAtMoreSwapIndex(),this.checkFixed(),setTimeout(function(){this._determineMenuSize()}.bind(this),0),this},e.prototype.checkFixed=function(){if(!this.fixed)return this;var t=void 0!==window.pageYOffset?window.pageYOffset:window.document.body.scrollTop,e=t>this.fixedDistance;return(0,c.default)(this.el,"spark-header--condensed",e),(0,c.default)(document.body,"spark-header-condensed",e),this},e.prototype._cacheElements=function(t){this.el=t,this.navEl=this.el.querySelector(".spark-header__nav"),this.menuEl=this.navEl&&this.navEl.querySelector(".spark-header__menu"),this.listEl=this.menuEl&&this.menuEl.querySelector(".spark-header__list"),this.toggleEl=this.el.querySelector(".spark-header__toggle"),this.menuEl&&(this.menu=new u.default(this.menuEl,{onToggle:this._onToggleClickBound=this._onToggleClick.bind(this)})),this.listEl&&this.listEl.children.length&&(this.listEls=Array.prototype.slice.call(this.listEl.children,0),this._createListMore()),this.listEl&&this._createPlaceholder()},e.prototype._parseParams=function(){this.fixed=null!==this.fixed?this.fixed:(0,y.default)(this.el,"spark-header--fixed"),this.fixedDistance=null!==this.fixedDistance?this.fixedDistance:(0,T.number)(this.el,"data-fixed-distance",10)},e.prototype._bindEventListenerCallbacks=function(){this._determineInitialSizeBound=this._determineInitialSize.bind(this),this._onResizeBound=this._onResize.bind(this),this._onScrollBound=this._onScroll.bind(this),this._onMoreClickBound=this._onMoreClick.bind(this),this._onNavClickBound=this._onNavClick.bind(this)},e.prototype._addEventListeners=function(){this.listEl&&(window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound),this.listMoreEl&&this.listMoreListEl.addEventListener("click",this._onMoreClickBound),this.toggleEl&&this.toggleEl.addEventListener("click",this._onToggleClickBound),this.navEl&&this.navEl.addEventListener("click",this._onNavClickBound),this.fixed&&window.addEventListener("scroll",this._onScrollBound))},e.prototype._removeEventListeners=function(){this.listEl&&(window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound),this.listMoreEl&&this.listMoreListEl.removeEventListener("click",this._onMoreClickBound),this.toggleEl&&this.toggleEl.removeEventListener("click",this._onToggleClickBound),this.navEl&&this.navEl.removeEventListener("click",this._onNavClickBound),this.fixed&&window.removeEventListener("scroll",this._onScrollBound))},e.prototype._getCurrentBreakpoint=function(){this.lastBreakpoint=this.currentBreakpoint,this.currentBreakpoint=(0,x.get)(this.el.clientWidth,this.breakpoints),this.el.setAttribute("data-breakpoint",this.currentBreakpoint)},e.prototype._createPlaceholder=function(){var t=document.createElement("div");t.innerHTML=this.navEl.outerHTML;var e=t.children[0];e.setAttribute("aria-hidden",!0),(0,f.default)(e,"spark-header__placeholder"),this._disablePlaceholderLinkTab(e),this.el.appendChild(e),this.placeholder={el:e,menuEl:e.querySelector(".spark-header__menu"),listEl:e.querySelector(".spark-header__list")},this.listMoreEl&&(this.placeholder.listEl.innerHTML+=this.listMoreEl.outerHTML,this.placeholder.listMoreEl=this.placeholder.listEl.querySelector(".spark-header__more"))},e.prototype._removePlaceholder=function(){this.placeholder&&(this.placeholder.el.parentNode.removeChild(this.placeholder.el),this.placeholder.menuEl.parentNode.removeChild(this.placeholder.menuEl),this.placeholder.listEl.parentNode.removeChild(this.placeholder.listEl)),this.listMoreEl&&this.placeholder.listMoreEl.parentNode.removeChild(this.placeholder.listMoreEl)},e.prototype._disablePlaceholderLinkTab=function(t){for(var e=t.querySelectorAll(".spark-menu__list-link, .spark-menu__list-expand"),i=0,s=e.length;i<s;i++)e.item(i).setAttribute("tabindex",-1)},e.prototype._createListMore=function(){var t=document.createElement("div");t.innerHTML='<li><a class="spark-menu__list-link spark-menu__ignore" tabindex="0" title="More Items"><i class="spark-icon-menu-ellipsis-horizontal spark-icon--fill"></i></a><ul class="spark-menu__list"></ul></li>';var e=t.children[0];(0,f.default)(e,"spark-menu__list-item spark-header__more"),this.listMoreEl=e,this.listMoreListEl=e.querySelector("ul")},e.prototype._determineInitialSize=function(){(0,f.default)(this.el,"spark-header--visible"),this._ensureActiveAtMoreSwapIndex(),this._determineMenuSize()},e.prototype._determineMenuSize=function(t){if(this.listEls&&this.listEls.length){if(this._isMenuBreakpoint(["xs","sm"]))return this._removeListMore(),this._toggleCollapsed(!0);var e=this._getItemsToShowAndHide();if((0,f.default)(this.el,"spark-header--overflow-checked"),e.show.length<2&&e.hide.length)return this._removeListMore(),this._toggleCollapsed(!0);if(this._toggleCollapsed(!1),e.hide.length===this.listMoreListEl.children.length&&!t)return void(e.hide.length||this._removeListMore());(0,C.default)(this.listEl,this.listMoreEl,e.show),e.hide.length?(0,w.default)(this.listMoreListEl,e.hide):this._removeListMore()}},e.prototype._listenForReadyStateChange=function(){if("complete"!==document.readyState&&"loaded"!==document.readyState){var t=function(){"complete"!==document.readyState&&"loaded"!==document.readyState||(this._determineMenuSize(),document.removeEventListener("readystatechange",t))}.bind(this);document.addEventListener("readystatechange",t)}},e.prototype._isMenuBreakpoint=function(t){return this._getCurrentBreakpoint(),t instanceof Array?-1!==t.indexOf(this.currentBreakpoint):"xs"===this.currentBreakpoint},e.prototype._getItemsToShowAndHide=function(){var t=this.placeholder.listEl.clientWidth,e=this.placeholder.listEl.children,i=0,s=e.length,n=-1;this._addListMore();for(var o=this.placeholder.listMoreEl.clientWidth||0;i<s&&-1===n;i++)(o+=e[i].clientWidth)>t&&(n=i);var r={show:-1!==n?Array.prototype.slice.call(this.listEls,0,n):this.listEls,hide:-1!==n?Array.prototype.slice.call(this.listEls,n):[]};if(this.moreSwapIndex>-1&&this.moreSwapIndex>=r.show.length){var a=r.show.splice(r.show.length-1,1)[0],l=this.moreSwapIndex-n,h=r.hide.splice(l,1)[0];r.show.push(h),r.hide.splice(l,0,a)}return r},e.prototype._ensureActiveAtMoreSwapIndex=function(){if(this.listEls&&this.listEls.length){var t=this.el.querySelector('[class*="list-item"].active');if(t){var e=(0,M.default)(t,".spark-menu__list-item",this.el);e&&e[e.length-1]&&(t=e[e.length-1]);var i=(0,b.default)(this.listEls,t);i!==this.moreSwapIndex&&(this.moreSwapIndex=i)}}},e.prototype._addListMore=function(){this.listMoreEl.parentNode!==this.listEl&&this.listEl.appendChild(this.listMoreEl)},e.prototype._removeListMore=function(){this.listMoreEl.parentNode&&this.listMoreEl.parentNode.removeChild(this.listMoreEl)},e.prototype._resetMenuChildren=function(){this.moreSwapIndex=-1,(0,m.default)(this.el,"spark-header--overflow-checked"),(0,w.default)(this.listEl,this.listEls)},e.prototype._toggleCollapsed=function(t){t!==this.isCollapsed&&(t?(this._enableTopLevelToggling(),this._resetMenuChildren()):(this.menu&&this.menu._removeAllCachedLists(),this._disableTopLevelToggling()),this.isCollapsed=t,(0,c.default)(this.el,"spark-header--collapsed",t),(0,c.default)(this.el,"spark-header--visible",!t))},e.prototype._enableTopLevelToggling=function(){for(var t=0,e=this.listEls.length;t<e;t++)(0,m.default)(this.listEls[t],"spark-no-animate")},e.prototype._disableTopLevelToggling=function(){for(var t=0,e=this.listEls.length;t<e;t++)(0,f.default)(this.listEls[t],"spark-no-animate")},e.prototype._onResize=function(){this._ensureActiveAtMoreSwapIndex(),this._determineMenuSize(),this.fixed&&this.checkFixed()},e.prototype._onScroll=function(){this.checkFixed()},e.prototype._onMoreClick=function(t){if(!this.isCollapsed){var e=(0,S.default)(t.target,"li",this.listMoreListEl);this.moreSwapIndex=(0,b.default)(this.listEls,e),this._determineMenuSize(!0)}},e.prototype._onToggleClick=function(t){t.preventDefault(),this.isActive=!this.isActive,(0,c.default)(this.navEl,"active",this.isActive),this.menu._openActiveParents()},e.prototype._onNavClick=function(t){t.target===this.navEl&&this.isCollapsed&&(this.isActive=!this.isActive,(0,m.default)(this.navEl,"active"))},e}(l.default);A.prototype._whitelistedParams=["breakpoints","fixed","fixedDistance"],A.prototype.defaults={el:null,fixed:null,fixedDistance:null,navEl:null,menuEl:null,listEl:null,listEls:null,listMoreEl:null,listMoreListEl:null,placeholder:null,toggleEl:null,lastBreakpoint:null,currentBreakpoint:null,isActive:!1,isCollapsed:null,moreSwapIndex:-1,menu:null,breakpoints:null,_onResizeBound:null,_onScrollBound:null,_onMoreClickBound:null,_onToggleClickBound:null,_onNavClickBound:null},i.default=A,e.exports=i.default},{"../helpers/dom/add-class":36,"../helpers/dom/breakpoint":37,"../helpers/dom/has-class":38,"../helpers/dom/parse-attribute":42,"../helpers/dom/remove-class":43,"../helpers/dom/toggle-class":44,"../helpers/manipulation/append-children":49,"../helpers/manipulation/insert-before":51,"../helpers/traversal/get-index":57,"../helpers/traversal/get-parent":58,"../helpers/traversal/get-parents":59,"./base":1,"./menu":11}],11:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/animation/height"),u=s(h),d=t("../helpers/css/transform"),c=s(d),p=t("../helpers/dom/add-class"),f=s(p),_=t("../helpers/dom/remove-class"),m=s(_),v=t("../helpers/dom/has-class"),y=s(v),g=t("../helpers/traversal/has-parent"),b=s(g),E=t("../helpers/traversal/get-parent"),w=s(E),k=t("../helpers/traversal/get-parents"),C=s(k),x=t("../helpers/traversal/get-child"),B=s(x),S=t("../helpers/manipulation/wrap-element"),L=s(S),M=function(){},T=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._checkAnimation(),o(s)):o(s)}return r(e,t),e.prototype._cacheElements=function(t){this.el=t,this.toggleEl=this.el.querySelector(".spark-menu__toggle")},e.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this)},e.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0)},e.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("focus",this._onFocusBound),this.el.removeEventListener("blur",this._onBlurBound)},e.prototype._toggleItem=function(t){(0,y.default)(t,"open")?this._closeItem(t):this._openItem(t)},e.prototype._checkAnimation=function(){this.el.querySelector(".spark-menu__list-next")&&(this.cachedList=this.cachedList||[],this._createMenuAnimationWrapper(),this._animateListChange())},e.prototype._createMenuAnimationWrapper=function(){if(!this.wrapperEl){var t=document.createElement("div");(0,f.default)(t,"spark-menu__animation-wrapper"),(0,L.default)(this.el.querySelector(".spark-menu__list"),t),this.wrapperEl=t}},e.prototype._animateListChange=function(t){t&&(0,f.default)(this.wrapperEl,"no-animate"),this.wrapperEl.setAttribute("style",(0,c.default)("translateX","-"+100*this.cachedList.length+"%")),t&&setTimeout(function(){(0,m.default)(this.wrapperEl,"no-animate")}.bind(this),1)},e.prototype._appendList=function(t,e){this._createMenuAnimationWrapper();var i=t.cloneNode(!0);(0,f.default)(i,"nestedList"),i.setAttribute("data-nested-list-id",i.getAttribute("id")),i.removeAttribute("id"),this.wrapperEl&&(this.wrapperEl.appendChild(i),this.cachedList.push(i),this._animateListChange(e))},e.prototype._removeLastList=function(){if(this.cachedList.length){var t=this.cachedList.pop();this.wrapperEl&&this._animateListChange(),window.setTimeout(function(){t.parentNode.removeChild(t)},250)}},e.prototype._removeAllCachedLists=function(){if(this.cachedList)for(;this.cachedList.length;)this._removeLastList()},e.prototype._getNextList=function(t){return t.querySelector(".spark-menu__list-next")?document.querySelector(t.querySelector(".spark-menu__list-next").getAttribute("data-menu")):null},e.prototype._openItem=function(t){(0,y.default)(t,"open")||((0,u.default)({el:t,toggleEl:".spark-menu__list"}),(0,f.default)(t,"open"))},e.prototype._closeItem=function(t){(0,y.default)(t,"open")&&((0,u.default)({el:t,toggleEl:".spark-menu__list",toggleValue:"none",action:"collapse"}),(0,m.default)(t,"open"))},e.prototype._activateItem=function(t){if(!(0,y.default)(t,"active")){var e=(0,C.default)(t,".spark-menu__list",this.el);this._deactivateItems(e[e.length-1]),this._deactivateItemSiblings(t),(0,f.default)(t,"active"),this._activateItemParents(t,this.el)}},e.prototype._activateItemParents=function(t,e){for(var i=(0,C.default)(t.parentNode,'[class*="list-item"]',e),s=0,n=i.length;s<n;s++)this._openItem(i[s]),(0,f.default)(i[s],"child-active")},e.prototype._deactivateItems=function(t){for(var e=t.querySelectorAll('[class*="list-item"].active'),i=0,s=e.length;i<s;i++)(0,m.default)(e.item(i),"active")},e.prototype._deactivateItemSiblings=function(t){for(var e=t.parentNode.querySelectorAll('[class*="list-item"].child-active'),i=0,s=e.length;i<s;i++)(0,m.default)(e[i],"child-active"),(0,m.default)(e[i],"open")},e.prototype._openActiveParents=function(){var t=this.el.querySelector(".active");if(t)for(var e,i,s=(0,C.default)(t,".spark-menu__list-item",this.el),n=s.length-1;n>=0;n--)e=(0,B.default)(s[n],".spark-menu__list-links"),e&&e.querySelector(".spark-menu__list-next")?(i=this._getNextList(s[n]))&&!this._cachedListContainsID(i.getAttribute("id"))&&this._appendList(i,!0):(0,f.default)(s[n],"open")},e.prototype._cachedListContainsID=function(t){for(var e=this.cachedList.length;e--;)if(this.cachedList[e].getAttribute("data-nested-list-id")===t)return!0;return!1},e.prototype._onClick=function(t){if(!(0,w.default)(t.target,"form",this.el)){if(t.target===this.toggleEl||(0,b.default)(t.target,this.toggleEl))return(this.onToggle||M)(t,this);var e=(0,w.default)(t.target,".spark-menu__list-expand",this.el),i=(0,w.default)(t.target,".spark-menu__list-item",this.el);if(i&&!(0,w.default)(t.target,".spark-menu__ignore",this.el)){if(e)return this._toggleItem(i);if(i&&!(0,b.default)(t.target,document.querySelector(".spark-header--visible"))){var s=this._getNextList(i);if(s&&(0,y.default)(t.target,"spark-menu__list-next"))return this._activateItem(i),void this._appendList(s);if((0,w.default)(t.target,".spark-menu__list-back",i)&&(0,y.default)(t.target,"spark-menu__list-back"))return void this._removeLastList()}this._activateItem(i)}}},e.prototype._onFocus=function(t){for(var e=t.target,i=e;e&&(e=(0,w.default)(i.parentNode,".spark-menu__list-item",this.el))&&e!==i;)(0,f.default)(e,"has-focus"),i=e},e.prototype._onBlur=function(t){for(var e=t.target,i=e;e&&(e=(0,w.default)(i.parentNode,".spark-menu__list-item",this.el))&&e!==i;)(0,m.default)(e,"has-focus"),i=e},e}(l.default);T.prototype._whitelistedParams=["onToggle"],T.prototype.defaults={cachedList:null,el:null,toggleEl:null,wrapperEl:null,onToggle:null,_onClickBound:null,_onFocusBound:null,_onBlurBound:null},i.default=T,e.exports=i.default},{"../helpers/animation/height":29,"../helpers/css/transform":33,"../helpers/dom/add-class":36,"../helpers/dom/has-class":38,"../helpers/dom/remove-class":43,"../helpers/manipulation/wrap-element":52,"../helpers/traversal/get-child":55,"../helpers/traversal/get-parent":58,"../helpers/traversal/get-parents":59,"../helpers/traversal/has-parent":62,"./base":1}],12:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/toggle-class"),u=s(h),d=t("../helpers/dom/add-class"),c=s(d),p=t("../helpers/dom/remove-class"),f=s(p),_=t("../helpers/dom/has-class"),m=s(_),v=t("../helpers/traversal/get-parent"),y=s(v),g=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.open=function(){return this.isActive=!0,this._addWindowEventListeners(),this._updateClasses(),(0,c.default)(document.body,"spark-modal-open"),this},e.prototype.close=function(){return this.isActive=!1,this._removeWindowEventListeners(),this._updateClasses(),(0,f.default)(document.body,"spark-modal-open"),this},e.prototype.update=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners(),this._cacheElements(t||this.el,e),this._addEventListeners(),this._updateClasses(),this._removeWindowEventListeners(),this.isActive&&this._addWindowEventListeners(),this},e.prototype._cacheElements=function(t,e){var i=(0,m.default)(t,"spark-modal"),s=e.modalEl;i?this.modalEl=t:(this.el=t,this.modalEl=s||document.querySelector(t.getAttribute("data-modal"))),this.scrollEl=this.modalEl.querySelector(".spark-modal__scroll")||this.modalEl,this.isActive=(0,m.default)(this.el||this.modalEl,"active")},e.prototype._updateClasses=function(){(0,u.default)(this.modalEl,"active",this.isActive)},e.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onKeyupBound=this._onKeyup.bind(this),this._onModalClickBound=this._onModalClick.bind(this)},e.prototype._addEventListeners=function(){this.el&&this.el.addEventListener("click",this._onClickBound),this.modalEl&&this.modalEl.addEventListener("click",this._onModalClickBound)},e.prototype._removeEventListeners=function(){this.el&&this.el.removeEventListener("click",this._onClickBound),this.modalEl&&this.modalEl.removeEventListener("click",this._onModalClickBound)},e.prototype._addWindowEventListeners=function(){this._removeWindowEventListeners(),window.addEventListener("keyup",this._onKeyupBound)},e.prototype._removeWindowEventListeners=function(){window.removeEventListener("keyup",this._onKeyupBound)},e.prototype._onClick=function(){this.open()},e.prototype._onModalClick=function(t){(t.target===this.scrollEl||t.target===this.modalEl||(0,y.default)(t.target,".spark-modal__close, .spark-modal__dismiss",this.scrollEl))&&(t.preventDefault(),this.close())},e.prototype._onKeyup=function(t){27===t.keyCode&&this.close()},e}(l.default);g.prototype.defaults={el:null,modalEl:null,scrollEl:null,isActive:!1,_onClickBound:null,_onKeyupBound:null,_onModalClickBound:null},i.default=g,e.exports=i.default},{"../helpers/dom/add-class":36,"../helpers/dom/has-class":38,"../helpers/dom/remove-class":43,"../helpers/dom/toggle-class":44,"../helpers/traversal/get-parent":58,"./base":1}],13:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/util/mixin"),u=s(h),d=t("../mixins/messaging"),c=s(d),p=t("../mixins/validation"),f=s(p),_=t("../helpers/dom/make-element"),m=s(_),v=t("../helpers/util/each"),y=s(v),g=function(){},b=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.getValue=function(){var t=[];return(0,y.default)(this._isNative?this.selectEl.options:this.checkboxEls,function(e){(e.checked||e.selected)&&t.push(e.value)}),t},e.prototype.setValue=function(t){var e=[],i=this._isNative?"selected":"checked";return(0,y.default)(this._isNative?this.selectEl.options:this.checkboxEls,function(s){-1!==t.indexOf(s.value)?(s[i]=!0,e.push(s.value)):s[i]=!1}),(this.onChange||g)(e,this),this},e.prototype.clearValue=function(){return this.setValue([])},e.prototype.disable=function(){return(this.selectEl||this.el).setAttribute("disabled",""),this},e.prototype.enable=function(){return(this.selectEl||this.el).removeAttribute("disabled"),this},e.prototype._cacheElements=function(t){if(this.el=t,this.selectEl=this.el.querySelector("select"),this.checkboxEls=this.el.querySelectorAll('[type="checkbox"]'),!this.selectEl&&!this.checkboxEls.length)throw new Error("Multi select needs either a select input or a series of checkboxes.");this.messageEl=this.el.querySelector(".spark-select__message")||(0,m.default)('<span class="spark-select__message"></span>')},e.prototype._parseParams=function(){this._isNative=!!this.selectEl},e.prototype._bindEventListenerCallbacks=function(){this._onInputBound=this._onInput.bind(this)},e.prototype._addEventListeners=function(){this._isNative?this.selectEl.addEventListener("change",this._onInputBound):this.el.addEventListener("change",this._onInputBound,!0)},e.prototype._removeEventListeners=function(){this._isNative?this.selectEl.removeEventListener("change",this._onInputBound):this.el.removeEventListener("change",this._onInputBound,!0)},e.prototype._onInput=function(){var t=this.getValue();t!==this.previousValue&&(this.previousValue=t,(this.onChange||g)(t,this))},e}(l.default);b.prototype._whitelistedParams=["validate","onValidate","onChange"],b.prototype.defaults={el:null,messageEl:null,selectEl:null,labelEl:null,onChange:null,previousValue:null,_isNative:!1,_onFocusBound:null,_onBlurBound:null,_onInputBound:null},(0,u.default)(b.prototype,c.default,f.default),i.default=b,e.exports=i.default},{"../helpers/dom/make-element":39,"../helpers/util/each":65,"../helpers/util/mixin":66,"../mixins/messaging":71,"../mixins/validation":72,"./base":1}],14:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0})
;var a=t("./base"),l=s(a),h=t("../helpers/traversal/get-parent"),u=s(h),d=t("../mixins/messaging"),c=s(d),p=t("../helpers/util/mixin"),f=s(p),_=t("../mixins/validation"),m=s(_),v=t("../helpers/dom/make-element"),y=s(v),g=function(){},b=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.getValue=function(){return parseInt(this.inputEl.value,10)},e.prototype.setValue=function(t){var e=this._getConformedNumber(t);return e!==this.inputEl.value&&(this.inputEl.value=e,(this.onChange||g)(e,this)),this},e.prototype.setErrorState=function(t){t?this.el.setAttribute("data-error",""):this.el.removeAttribute("data-error")},e.prototype.clearValue=function(){return this.setValue(0)},e.prototype.increment=function(){return this.setValue(this.getValue()+(this._getStep()||1))},e.prototype.decrement=function(){return this.setValue(this.getValue()-(this._getStep()||1))},e.prototype.enable=function(){for(var t=this.el.querySelectorAll(".spark-number-selector__up, .spark-number-selector__down"),e=0,i=t.length;e<i;e++)t[e].removeAttribute("disabled");return this.inputEl.removeAttribute("disabled"),this},e.prototype.disable=function(){for(var t=this.el.querySelectorAll(".spark-number-selector__up, .spark-number-selector__down"),e=0,i=t.length;e<i;e++)t[e].setAttribute("disabled","");return this.inputEl.setAttribute("disabled",""),this},e.prototype._cacheElements=function(t){if(this.el=t,this.inputEl=t.querySelector("input"),this.messageEl=this.el.querySelector(".spark-number-selector__message")||(0,y.default)('<span class="spark-number-selector__message"></span>'),!this.inputEl)throw new Error("NumberSelector must include an `<input>` element!")},e.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onInputChangeBound=this._onInputChange.bind(this),this._onInputFocusBound=this._onInputFocus.bind(this),this._onInputBlurBound=this._onInputBlur.bind(this),this._onInputInputBound=this._onInputInput.bind(this)},e.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("change",this._onInputChangeBound),this.el.addEventListener("focus",this._onInputFocusBound),this.el.addEventListener("blur",this._onInputBlurBound),this.inputEl.addEventListener("input",this._onInputInputBound)},e.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("change",this._onInputChangeBound),this.el.removeEventListener("focus",this._onInputFocusBound),this.el.removeEventListener("blur",this._onInputBlurBound),this.inputEl.removeEventListener("input",this._onInputInputBound)},e.prototype._getMin=function(){return this._getInputPropAsNumber("min")},e.prototype._getMax=function(){return this._getInputPropAsNumber("max")},e.prototype._getStep=function(){return this._getInputPropAsNumber("step")},e.prototype._getInputPropAsNumber=function(t){return parseFloat(this.inputEl.getAttribute(t))},e.prototype._getConformedNumber=function(t){var e=this._getMax(),i=this._getMin(),s=this._getStep();if(s){var n=t%s;t=n>=s/2?t+(s-n):t-n}return void 0!==e&&t>e?e:void 0!==i&&t<i?i:t},e.prototype._onClick=function(t){(0,u.default)(t.target,".spark-number-selector__up",this.el)?(t.preventDefault(),this.increment()):(0,u.default)(t.target,".spark-number-selector__down",this.el)&&(t.preventDefault(),this.decrement())},e.prototype._onInputChange=function(){this.setValue(parseFloat(this.inputEl.value))},e.prototype._onInputFocus=function(){this.onFocus&&this.onFocus(this.getValue(),this)},e.prototype._onInputBlur=function(){this.onBlur&&this.onBlur(this.getValue(),this)},e.prototype._onInputInput=function(){this.onInput&&this.onInput(this.getValue(),this)},e}(l.default);b.prototype._whitelistedParams=["validate","onValidate","onChange","onFocus","onBlur","onInput"],b.prototype.defaults={el:null,inputEl:null,onValidate:null,onChange:null,onFocus:null,onBlur:null,onInput:null,_onInputChangeBound:null,_onClickBound:null},(0,f.default)(b.prototype,c.default,m.default),i.default=b,e.exports=i.default},{"../helpers/dom/make-element":39,"../helpers/traversal/get-parent":58,"../helpers/util/mixin":66,"../mixins/messaging":71,"../mixins/validation":72,"./base":1}],15:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/add-class"),u=s(h),d=t("../helpers/dom/has-class"),c=s(d),p=t("../helpers/dom/toggle-class"),f=s(p),_=t("../helpers/manipulation/append-children"),m=s(_),v=t("../helpers/traversal/has-parent"),y=s(v),g=t("../helpers/traversal/get-parent"),b=s(g),E=t("../helpers/dom/parse-attribute"),w=t("../helpers/position/affix"),k=s(w),C=function(){},x=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e);var a=o(this,t.call(this,i,r));return i?(a._bindEventListenerCallbacks(),a._addEventListeners(),a):(s=a,o(a,s))}return r(e,t),e.prototype.open=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null),this._checkFixedPosition(),this.affix?(this.affix.targetEl=t.affixTo||this.affix.targetEl,this.affix.update()):this.affix=new k.default({el:this.contentEl,targetEl:t.affixTo||this.el,caretEl:this.caretEl,anchorX:this.anchorX,anchorY:this.anchorY,isFixed:this.isFixed}),this._addWindowEventListeners(),this.isActive=!0;var e=document.createEvent("Event");return e.initEvent("spark.visible-children",!0,!0),this.contentEl.dispatchEvent(e),this._updateAttributes(),(t.complete||C)(),(this.onOpen||C)(),this},e.prototype.close=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.affix?(this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null),this._removeWindowEventListeners(),this.isActive=!1,this._updateAttributes(),this.closeTimer=setTimeout(function(){t._finishClose(e)},250),this):this},e.prototype.toggle=function(){return this[this.isActive?"close":"open"]()},e.prototype.setContent=function(t,e){return e=e||{},(0,m.default)(this.contentEl,t.length?t:[t],!e.append),this},e.prototype.update=function(t){return this._removeEventListeners(),this._cacheElements(t||this.el),this._addEventListeners(),this.affix&&this.affix.update(),this},e.prototype._cacheElements=function(t){this.contentEl&&(0,u.default)(this.contentEl,"spark-popover__content"),this.el=t,this.toggleEl=this.el.querySelector('.spark-popover__toggle, [data-role="toggle"]')||this.el,this.contentEl=this.contentEl||this.el.querySelector('.spark-popover__content, [class*="spark-popover__content--"]')||this._createContentEl(),this.caretEl=this.contentEl.querySelector(".spark-popover__caret")||this._createCaretEl(),this.isActive=(0,c.default)(this.toggleEl,"popover-active")},e.prototype._parseParams=function(){this.anchorY=null!==this.anchorY?this.anchorY:(0,E.string)(this.contentEl,"data-anchor-y",null),this.anchorX=null!==this.anchorX?this.anchorX:(0,E.string)(this.contentEl,"data-anchor-x",null),this.anchorY||this.anchorX||((0,c.default)(this.contentEl,"spark-popover__content--left")?(this.anchorY="middle",this.anchorX="left"):(0,c.default)(this.contentEl,"spark-popover__content--right")?(this.anchorY="middle",this.anchorX="right"):(0,c.default)(this.contentEl,"spark-popover__content--top")?(this.anchorY="top",this.anchorX="center"):(this.anchorY="bottom",this.anchorX="center"))},e.prototype._checkFixedPosition=function(){for(var t=this.el;t&&t!==document;){if("fixed"===getComputedStyle(t).position)return this.isFixed=!0;t=t.parentNode}return this.isFixed=!1},e.prototype._updateAttributes=function(){(0,f.default)(this.el,"popover-active",this.isActive),(0,f.default)(this.contentEl,"active",this.isActive),(0,f.default)(this.toggleEl,"active",this.isActive)},e.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onContentClickBound=this._onContentClick.bind(this),this._onWindowClickBound=this._onWindowClick.bind(this)},e.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.contentEl.addEventListener("click",this._onContentClickBound)},e.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.contentEl.removeEventListener("click",this._onContentClickBound)},e.prototype._addWindowEventListeners=function(){this._removeWindowEventListeners(),window.addEventListener("click",this._onWindowClickBound)},e.prototype._removeWindowEventListeners=function(){window.removeEventListener("click",this._onWindowClickBound)},e.prototype._createContentEl=function(){var t=document.createElement("div");return(0,u.default)(t,"spark-popover__content"),t.setAttribute("role","tooltip"),t},e.prototype._createCaretEl=function(){var t=document.createElement("div");return t.className="spark-popover__caret",this.contentEl.appendChild(t),t},e.prototype._finishClose=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.closeTimer=null,this.el.appendChild(this.contentEl),this.affix.remove({keepEl:!0}),this.affix=null,(t.complete||C)(),(this.onClose||C)()},e.prototype._onClick=function(t){if(t.target===this.toggleEl||(0,y.default)(t.target,this.toggleEl))return t.preventDefault(),void this.toggle()},e.prototype._onContentClick=function(t){if((0,b.default)(t.target,".spark-popover__list-link",this.contentEl)||(0,b.default)(t.target,".spark-popover__close",this.contentEl))return void this.close()},e.prototype._onWindowClick=function(t){t.target===this.el||(0,y.default)(t.target,this.el)||(0,y.default)(t.target,this.contentEl)||this.close()},e}(l.default);x.prototype._whitelistedParams=["anchorX","anchorY","toggleEl","contentEl","onOpen","onClose"],x.prototype.defaults={el:null,toggleEl:null,contentEl:null,caretEl:null,affix:null,isActive:!1,isPaused:!1,isFixed:!1,anchorX:null,anchorY:null,closeTimer:null,onOpen:null,onClose:null,_onClickBound:null,_onContentClickBound:null,_onWindowClickBound:null,_onWindowResizeBound:null,_onWindowScrollBound:null},i.default=x,e.exports=i.default},{"../helpers/dom/add-class":36,"../helpers/dom/has-class":38,"../helpers/dom/parse-attribute":42,"../helpers/dom/toggle-class":44,"../helpers/manipulation/append-children":49,"../helpers/position/affix":53,"../helpers/traversal/get-parent":58,"../helpers/traversal/has-parent":62,"./base":1}],16:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/toggle-class"),u=s(h),d=t("../helpers/util/round"),c=s(d),p={large:{diameter:264,stroke:12,track:"M132 6c69.588 0 126 56.412 126 126s-56.412 126-126 126S6 201.588 6 132 62.412 6 132 6z",fill:"",border:"M132 252c-66.274 0-120-53.726-120-120S65.726 12 132 12s120 53.726 120 120-53.726 120-120 120z"},small:{diameter:60,stroke:6,track:"M30 3c14.912 0 27 12.088 27 27S44.912 57 30 57 3 44.912 3 30 15.088 3 30 3z",fill:"",border:"M30 54C16.745 54 6 43.255 6 30S16.745 6 30 6s24 10.745 24 24-10.745 24-24 24z"},extraSmall:{diameter:24,stroke:3,track:"M22.5 12c0 5.8-4.7 10.5-10.5 10.5S1.5 17.8 1.5 12 6.2 1.5 12 1.5 22.5 6.2 22.5 12z",fill:"",border:""}},f=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.set=function(t){return t===this.value?this:(t>1&&(t=1),this.value=t,this.isDeterminate&&this.progressEl&&this.progressEl.setAttribute("value",Math.round(100*t)/100),this._updateDOM(),this)},e.prototype._cacheElements=function(t){if(this.el=t,this.progressEl=this.el.querySelector("progress"),this.statusEl=this.el.querySelector('.spark-progress__value-status, [role="status"]'),this.noteEl=this.el.querySelector(".spark-progress__states"),this.meterEl=this.el.querySelector(".spark-progress__meter"),this.isDeterminate=null!==this.progressEl.getAttribute("value"),this.size=this._determineSize(),this.isDeterminate){var e=this._buildSVG();e.setAttribute("class",this.meterEl.className),this.meterEl.parentNode.replaceChild(e,this.meterEl),this.meterEl=e,this.fillEl=this.meterEl.querySelector(".spark-progress__fill")}this.noteEl&&this._parseNotes(this.noteEl),this.progressEl&&(this.value=this.progressEl.value),this._cacheSize(),this._updateDOM()},e.prototype._cacheSize=function(){this.meterHeight=this.meterEl.clientHeight,this.meterWidth=this.meterEl.clientWidth},e.prototype._determineSize=function(){return-1!==this.el.className.indexOf("progress--sm")?"small":-1!==this.el.className.indexOf("progress--xs")?"extraSmall":"large"},e.prototype._buildSVG=function(){var t=p[this.size],e='<svg viewBox="0 0 '+t.diameter+" "+t.diameter+'" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="'+t.track+'" stroke-width="'+t.stroke+'" class="spark-progress__track"/><path d="'+(t.fill||t.track)+'" stroke-width="'+t.stroke+'" class="spark-progress__fill"/><path d="'+t.border+'" class="spark-progress__border"/></g></g></svg>',i=document.createElement("div");return i.innerHTML=e,i.children[0]},e.prototype._parseNotes=function(t){this.notes=this.notes||[];for(var e=t.children.length,i=e-1;i>=0;i--)this.notes.push({min:parseInt(t.children[i].getAttribute("data-value"),10),max:t.children[i+1]?parseInt(t.children[i+1].getAttribute("data-value"),10)-1:100,el:t.children[i]})},e.prototype._updateDOM=function(){if(this.isDeterminate){var t=Date.now(),e=(0,c.default)(100*this.value,this.precision),i=0===e||this.lastDOMUpdateTime+150>t;(0,u.default)(this.fillEl,"no-animation",i),this.statusEl.innerHTML=e+"%";var s=(p[this.size].diameter-p[this.size].stroke)*Math.PI,n=s-s*(e/100);if(this.fillEl.setAttribute("style","stroke-dasharray: "+s+"; stroke-dashoffset: "+n),this.lastDOMUpdateTime=t,this.notes)for(var o=0,r=this.notes.length;o<r;o++)(0,u.default)(this.notes[o].el,"active",this.notes[o].min<=e&&this.notes[o].max>=e)}},e.prototype._bindEventListenerCallbacks=function(){this._onResizeBound=this._onResize.bind(this)},e.prototype._addEventListeners=function(){window.addEventListener("resize",this._onResizeBound)},e.prototype._removeEventListeners=function(){window.removeEventListener("resize",this._onResizeBound)},e.prototype._onResize=function(){this._cacheSize()},e}(l.default);f.prototype._whitelistedParams=["precision"],f.prototype.defaults={el:null,progressEl:null,statusEl:null,noteEls:null,meterEl:null,fillEl:null,meterHeight:0,meterWidth:0,notes:null,isDeterminate:!1,value:null,precision:0,lastDOMUpdateTime:0,_onResizeBound:null},i.default=f,e.exports=i.default},{"../helpers/dom/toggle-class":44,"../helpers/util/round":69,"./base":1}],17:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/toggle-class"),u=s(h),d=t("../helpers/dom/offset"),c=s(d),p=t("../helpers/traversal/get-index"),f=s(p),_=t("../mixins/messaging"),m=s(_),v=t("../helpers/util/mixin"),y=s(v),g=t("../mixins/validation"),b=s(g),E=t("../helpers/dom/make-element"),w=s(E),k=function(){},C=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._updateDisabledClasses(),o(s)):o(s)}return r(e,t),e.prototype.start=function(t,e,i){return t<0||null!==this.inputEls[t].getAttribute("disabled")?this:(this._addMoveEventListeners(i||"mouse"),this._cacheSize(),this.isActive=this.isActive||[],this.isActive[t]=!0,this.currentIndex=t,this._updateActiveClasses(t),this._updateDisabledClasses(),this._oldVal=this.values[t],this.move(e),this)},e.prototype.move=function(t,e){if(!(t&&this.isActive&&this.isActive[this.currentIndex]||e))return this;this.isX?t<this.offsetLeft?t=this.offsetLeft:t>this.offsetLeft+this.width&&(t=this.offsetLeft+this.width):t<this.offsetTop?t=this.offsetTop:t>this.offsetTop+this.height&&(t=this.offsetTop+this.height);var i=this.isX?(t-this.offsetLeft)/(this.width-this.handleSize):(t-this.offsetTop)/this.height;return this.setValue(this.currentIndex,Math.round((i-this.handleSizePercentage/2)*(this.highestMax-this.lowestMin))+this.lowestMin),this},e.prototype.stop=function(t,e){return null!==t&&void 0!==t&&this.currentIndex!==t?this:(this.isActive[this.currentIndex]=!1,this.lastIndex=this.currentIndex,this._oldVal!==this.values[this.currentIndex]&&(this.onChange||k)(this.currentIndex,this.values[this.currentIndex],this),this.currentIndex=null,this._updateActiveClasses(t),this._removeMoveEventListeners(e||"mouse"),this)},e.prototype.setValue=function(t,e){if(!this.inputEls[t])throw new Error("Cannot set value on a slider input element with an index of "+t+". That element does not exist.");if(this.steps[t]&&(e-=e%this.steps[t]),this.values=this.values||[],e>this.maxes[t]?e=this.maxes[t]:e<this.mins[t]&&(e=this.mins[t]),void 0!==this.values[t+1]&&e>=this.values[t+1]?e=this.values[t+1]-(this.steps[t]||1):void 0!==this.values[t-1]&&e<=this.values[t-1]&&(e=this.values[t-1]+(this.steps[t]||1)),"function"==typeof this.onWillChange){var i=this.onWillChange(t,e,this);"number"==typeof i&&(e=i)}return this.values[t]=e,this.inputEls[t].value=this.values[t],this.handleEls[t].setAttribute("data-value",this.values[t]),this.percentages=this.percentages||[],this.percentages[t]=(this.values[t]-this.lowestMin)/(this.highestMax-this.lowestMin),this._updateHandlePosition(t),this},e.prototype.getValue=function(t){if(!this.inputEls[t])throw new Error("Cannot get value from a slider input element with an index of "+t+". That element does not exist.");return this.values[t]},e.prototype.clearValue=function(t){return this.setValue(t,0)},e.prototype.enable=function(t){if(!this.inputEls[t]||!this.handleEls[t])throw new Error("Cannot get value from a slider input element with an index of "+t+". That element does not exist.");return this.inputEls[t].removeAttribute("disabled"),this.handleEls[t].removeAttribute("disabled"),this._updateDisabledClasses(),this},e.prototype.disable=function(t){if(!this.inputEls[t]||!this.handleEls[t])throw new Error("Cannot get value from a slider input element with an index of "+t+". That element does not exist.");return this.inputEls[t].setAttribute("disabled",""),this.handleEls[t].setAttribute("disabled",""),this._updateDisabledClasses(),this},e.prototype.increment=function(t){return this.setValue(this.currentIndex,this.values[this.currentIndex]+this.steps[this.currentIndex]*(t?10:1))},e.prototype.decrement=function(t){return this.setValue(this.currentIndex,this.values[this.currentIndex]-this.steps[this.currentIndex]*(t?10:1))},e.prototype.remove=function(e){return this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),t.prototype.remove.call(this,e)},e.prototype.update=function(t){this._removeEventListeners(),this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),this._cacheElements(t),this._addEventListeners(),this._updateDisabledClasses();for(var e=0;e<this.handleEls.length;e++)this._updateHandlePosition(e);return this},e.prototype._cacheElements=function(t){if(this.el=t,this.controlsEl=this.el.querySelector(".spark-slider__controls"),this.inputEls=this.el.querySelectorAll('input[type="number"]'),this.handleEls=this.el.querySelectorAll(".spark-slider__handle"),this.trackEl=this.el.querySelector(".spark-slider__track"),this.trackFillEl=this.trackEl.querySelector(".spark-slider__track-fill"),this.messageEl=this.el.querySelector(".spark-slider__message")||(0,w.default)('<span class="spark-slider__message"></span>'),!this.inputEls||this.inputEls.length<=1)throw new Error("Tried to create a slider instance without two number inputs.");if(!this.handleEls||this.handleEls.length<=1)throw new Error("Tried to create a slider instance without two handle buttons.");var e=1/0,i=-1/0,s=0,n=this.inputEls.length,o=[];for(this.mins=[],this.maxes=[],this.steps=[],this._cacheSize();s<n;s++)this.mins[s]=parseInt(this.inputEls[s].getAttribute("min"),10)||null,this.maxes[s]=parseInt(this.inputEls[s].getAttribute("max"),10)||null,this.steps[s]=parseInt(this.inputEls[s].getAttribute("step"),10)||1,this.mins[s]<e&&(e=this.mins[s]),this.maxes[s]>i&&(i=this.maxes[s]);for(this.lowestMin=e,this.highestMax=i,s=0;s<n;s++)o[s]=parseInt(this.inputEls[s].getAttribute("value"),10),isNaN(o[s])?s+1===n?this.setValue(s,null!==this.maxes[s]?this.maxes[s]:0):this.setValue(s,null!==this.mins[s]?this.mins[s]:0):this.setValue(s,o[s])},e.prototype._cacheSize=function(){this.width=this.trackEl.clientWidth,this.height=this.trackEl.clientHeight,this.handleSize=this.isX?this.handleEls[0].clientWidth:this.handleEls[0].clientHeight,this.handleSizePercentage=this.isX?this.handleEls[0].clientWidth/this.width:this.handleEls[0].clientHeight/this.height;var t=(0,c.default)(this.controlsEl);this.offsetLeft=t.left,this.offsetTop=t.top},e.prototype._updateHandlePosition=function(t){var e=this.percentages[t]*(1-this.handleSizePercentage)+this.handleSizePercentage/2;e=Math.round(100*Math.min(e,1)),this.handleEls[t].setAttribute("style","left: "+e+"%;");var i=this.percentages[0],s=this.percentages[this.percentages.length-1];this.trackFillEl.setAttribute("style","width: "+100*(s-i)+"%; left: "+100*i+"%;")},e.prototype._updateActiveClasses=function(t){(0,u.default)(this.handleEls,"active",!1),(0,u.default)(this.handleEls[t],"active",this.isActive[t]),-1!==this.isActive.indexOf(!0)?this.el.setAttribute("data-active-index",this.isActive.indexOf(!0)):this.el.removeAttribute("data-active-index")},e.prototype._updateDisabledClasses=function(){for(var t=0,e=0,i=this.inputEls.length;e<i;e++)null!==this.inputEls[e].getAttribute("disabled")?((0,u.default)(this.handleEls[e],"disabled",!0),t++):(0,u.default)(this.handleEls[e],"disabled",!1);(0,u.default)(this.el,"all-disabled",t===this.handleEls.length)},e.prototype._bindEventListenerCallbacks=function(){this._onTouchStartBound=this._onTouchStart.bind(this),this._onTouchMoveBound=this._onTouchMove.bind(this),this._onTouchEndBound=this._onTouchEnd.bind(this),this._onClickBound=this._onClick.bind(this),this._onMouseDownBound=this._onMouseDown.bind(this),this._onMouseMoveBound=this._onMouseMove.bind(this),this._onMouseUpBound=this._onMouseUp.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onKeydownBound=this._onKeydown.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onChangeBound=this._onChange.bind(this),this._onResizeBound=this._onResize.bind(this),this._onVisibleChildrenBound=this._onVisibleChildren.bind(this)},e.prototype._addEventListeners=function(){this.controlsEl.addEventListener("touchstart",this._onTouchStartBound),this.controlsEl.addEventListener("mousedown",this._onMouseDownBound);for(var t=0,e=this.inputEls.length;t<e;t++)this.inputEls[t].addEventListener("change",this._onChangeBound);for(var i=0,s=this.handleEls.length;i<s;i++)this.handleEls[i].addEventListener("focus",this._onFocusBound),this.handleEls[i].addEventListener("click",this._onClickBound);document.addEventListener("spark.visible-children",this._onVisibleChildrenBound,!0)},e.prototype._removeEventListeners=function(){this.controlsEl.removeEventListener("touchstart",this._onTouchStartBound),this.controlsEl.removeEventListener("mousedown",this._onMouseDownBound),document.removeEventListener("spark.visible-children",this._onVisibleChildrenBound);for(var t=0,e=this.inputEls.length;t<e;t++)this.inputEls[t].removeEventListener("change",this._onChangeBound);for(var i=this.handleEls.length;t<i;t++)this.handleEls[0].removeEventListener("focus",this._onFocusBound),this.handleEls[0].removeEventListener("click",this._onClickBound)},e.prototype._addMoveEventListeners=function(t){switch(t){case"mouse":window.addEventListener("mousemove",this._onMouseMoveBound),window.addEventListener("mouseout",this._onMouseOutBound),window.addEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.addEventListener("touchmove",this._onTouchMoveBound),window.addEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.addEventListener("keydown",this._onKeydownBound);for(var e=0,i=this.handleEls.length;e<i;e++)this.handleEls[e].addEventListener("blur",this._onBlurBound)}window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound)},e.prototype._removeMoveEventListeners=function(t){switch(t){case"mouse":window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.removeEventListener("touchmove",this._onTouchMoveBound),window.removeEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.removeEventListener("keydown",this._onKeydownBound);for(var e=0,i=this.handleEls.length;e<i;e++)this.handleEls[e].removeEventListener("blur",this._onBlurBound)}window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound)},e.prototype._onTouchStart=function(t){this.start((0,f.default)(this.handleEls,t.target),this.isX?t.touches[0].pageX:t.touches[0].pageY,"touch")},e.prototype._onTouchMove=function(t){this.isActive[this.currentIndex]&&(t.preventDefault(),this.move(this.isX?t.touches[0].pageX:t.touches[0].pageY))},e.prototype._onTouchEnd=function(t){this.isActive[this.currentIndex]&&(t.preventDefault(),this.stop((0,f.default)(this.handleEls,t.target),"touch"))},e.prototype._onMouseDown=function(t){this.start((0,f.default)(this.handleEls,t.target),this.isX?t.pageX:t.pageY,"mouse")},e.prototype._onMouseMove=function(t){this.isActive[this.currentIndex]&&(t.preventDefault(),this.move(this.isX?t.pageX:t.pageY))},e.prototype._onMouseUp=function(){this.isActive[this.currentIndex]&&this.stop(null,"mouse")},e.prototype._onVisibleChildren=function(t){t.target.contains(this.el)&&window.setTimeout(function(){this._onResize()}.bind(this),0)},e.prototype._onResize=function(){this._cacheSize(),this._updateDisabledClasses();for(var t=0;t<this.handleEls.length;t++)this._updateHandlePosition(t)},e.prototype._onFocus=function(t){this.start((0,f.default)(this.handleEls,t.target),null,"keyboard")},e.prototype._onKeydown=function(t){if(-1===(0,f.default)(this.inputEls,t.target)){var e=this.isX&&39===t.keyCode||!this.isX&&38===t.keyCode,i=this.isX&&37===t.keyCode||!this.isX&&40===t.keyCode;e?this.increment(t.shiftKey):i&&this.decrement(t.shiftKey)}},e.prototype._onBlur=function(t){this.stop((0,f.default)(this.handleEls,t.target),"keyboard")},e.prototype._onChange=function(t){var e=(0,f.default)(this.inputEls,t.target);this._updateDisabledClasses(),t.target.value!==this.values[e]&&this.setValue(e,t.target.value),(this.onChange||k)(e,this.values[e],this)},e.prototype._onClick=function(t){t.preventDefault()},e}(l.default);C.prototype._whitelistedParams=["isX","validate","onValidate","onChange","onWillChange"],C.prototype.defaults={el:null,messageEl:null,controlsEl:null,inputEls:null,handleEls:null,trackEl:null,trackFillEl:null,isActive:null,isX:!0,onValidate:null,onChange:null,onWillChange:null,position:0,width:0,height:0,mins:null,maxes:null,steps:null,values:null,percentages:null,offsetLeft:0,offsetTop:0,handleSizePercentage:0,currentIndex:null,lastIndex:null,_oldVal:null,_onTouchStartBound:null,_onTouchMoveBound:null,_onTouchEndBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null,_onMouseOutBound:null,_onFocusBound:null,_onKeydownBound:null,_onBlurBound:null,_onChangeBound:null,_onResizeBound:null,_onClickBound:null,_onVisibleChildrenBound:null},(0,y.default)(C.prototype,m.default,b.default),i.default=C,e.exports=i.default},{"../helpers/dom/make-element":39,"../helpers/dom/offset":40,"../helpers/dom/toggle-class":44,"../helpers/traversal/get-index":57,"../helpers/util/mixin":66,"../mixins/messaging":71,"../mixins/validation":72,"./base":1}],18:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/toggle-class"),u=s(h),d=t("../helpers/animation/scroll-to"),c=s(d),p=t("../helpers/dom/offset"),f=s(p),_=t("../helpers/util/debounce"),m=s(_),v=t("../helpers/util/each"),y=s(v),g=function(){},b="undefined"!=typeof MutationObserver,E=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._cacheSizes(),s._clearRecomputeDebounced=(0,m.default)(s._clearRecompute.bind(s),50),s._recomputeDebounced=(0,m.default)(s._recompute.bind(s),50),s._checkScrollPosition(),o(s)):o(s)}return r(e,t),e.prototype.scrollToTop=function(t){return(0,c.default)(this.scrollToEl||0,{callback:t||g}),this},e.prototype.update=function(t){return this._removeEventListeners(),this._cacheElements(t),this._addEventListeners(),this._cacheSizes(),this._checkScrollPosition(),this},e.prototype._cacheElements=function(t){this.el=t,this.containerEl=this.containerEl||t.parentNode},e.prototype._cacheSizes=function(){var t=(0,f.default)(this.containerEl),e=document.body.clientWidth,i=window.innerHeight,s=t.top,n=t.left,o=e-n-this.containerEl.offsetWidth;this._windowHeight=i,
this._containerBottom=this.containerEl.offsetHeight+s,this._visibleThreshold=s+1.5*i;var r=this._isAtBottom;this._isAtBottom=!1,this._right=0,this._updateBindings(),this._right=e-this.el.offsetLeft-this.el.offsetWidth+o,this._isAtBottom=r,this._updateBindings()},e.prototype._checkScrollPosition=function(){var t=this._isVisible,e=this._isAtBottom,i=void 0!==window.scrollY?window.scrollY:window.pageYOffset,s=i+this._windowHeight;this._isVisible=i+this._windowHeight>=this._visibleThreshold,this._isAtBottom=this._containerBottom<=s,this._isAtBottom===e&&this._isVisible===t||this._updateBindings()},e.prototype._updateBindings=function(){(0,u.default)(this.el,"visible",this._isVisible),(0,u.default)(this.el,"at-bottom",this._isAtBottom),this.el.style.right=this._isAtBottom||!this._right?"":this._right+"px"},e.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onScrollBound=this._onScroll.bind(this),this._onResizeBound=this._onResize.bind(this),this._onVisibleBound=this._onVisible.bind(this),this._onMutateBound=this._onMutate.bind(this)},e.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),window.addEventListener("scroll",this._onScrollBound),window.addEventListener("orientationchange",this._onScrollBound),document.addEventListener("spark.visible-children",this._onVisibleBound,!0),b?this._addMutationObserver():window.addEventListener("resize",this._onResizeBound,!1)},e.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),window.removeEventListener("scroll",this._onScrollBound),window.removeEventListener("orientationchange",this._onScrollBound),document.removeEventListener("spark.visible-children",this._onVisibleBound,!0),b?this._removeMutationObserver():window.removeEventListener("resize",this._onResizeBound)},e.prototype._addMutationObserver=function(){this._observer=new MutationObserver(this._onMutateBound),this._observer.observe(this.containerEl,{childList:!0,attributes:!0,characterData:!0,subtree:!0})},e.prototype._removeMutationObserver=function(){this._observer&&this._observer.disconnect()},e.prototype._recompute=function(){this._cacheSizes(),this._checkScrollPosition()},e.prototype._recomputeThrottled=function(){this._recomputeRun||(this._recompute(),this._recomputeRun=!0),this._clearRecomputeDebounced()},e.prototype._clearRecompute=function(){this._recomputeRun=!1},e.prototype._onScroll=function(){this._recomputeThrottled(),this._checkScrollPosition()},e.prototype._onResize=function(){this._recomputeDebounced()},e.prototype._onClick=function(){this.scrollToTop()},e.prototype._onVisible=function(t){t.target.contains(this.el)&&window.setTimeout(function(){this._cacheSizes(),this._checkScrollPosition()}.bind(this),0)},e.prototype._onMutate=function(t){(0,y.default)(t,function(t){t.target!==this.el&&this._recomputeDebounced()}.bind(this))},e}(l.default);E.prototype._whitelistedParams=["containerEl","scrollToEl"],E.prototype.defaults={el:null,containerEl:null,scrollToEl:null,_isVisible:!1,_isAtBottom:!1,_containerBottom:0,_visibleThreshold:0,_windowHeight:0,_right:0,_recomputeRun:!1,_observer:null,_onClickBound:null,_onScrollBound:null,_onVisibleBound:null,_onResizeBound:null,_onMutateBound:null},i.default=E,e.exports=i.default},{"../helpers/animation/scroll-to":31,"../helpers/dom/offset":40,"../helpers/dom/toggle-class":44,"../helpers/util/debounce":64,"../helpers/util/each":65,"./base":1}],19:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/toggle-class"),u=s(h),d=t("../helpers/util/mixin"),c=s(d),p=t("../mixins/messaging"),f=s(p),_=t("../mixins/validation"),m=s(_),v=t("../helpers/dom/make-element"),y=s(v),g=function(){},b=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.getValue=function(){return this.selectEl.value},e.prototype.setValue=function(t){t+="";for(var e=0,i=this.selectEl.children.length;e<i;e++)if(this.selectEl.children[e].value===t)return this.selectEl.children[e].selected=!0,this._updateClass(),(this.onChange||g)(t,this),this;return this},e.prototype.clearValue=function(){for(var t=0,e=this.selectEl.children.length;t<e;t++)if(!0===this.selectEl.children[t].selected)return this.selectEl.children[t].selected=!1,this._updateClass(),(this.onChange||g)("",this),this;return this},e.prototype.setOptions=function(t){for(var e=0,i=t.length,s="",n=this.selectEl.selectedIndex;e<i;e++)s+="<option "+(void 0!==t[e].value?'value="'+(t[e].value||"")+'"':"")+">"+(t[e].text||"")+"</option>";return this.selectEl.innerHTML=s,this.selectEl.selectedIndex=Math.min(i-1,n),this},e.prototype.setLabel=function(t){return this.labelEl?(this.labelEl.innerHTML=t,this):this},e.prototype.disable=function(){return this.selectEl.setAttribute("disabled",""),this},e.prototype.enable=function(){return this.selectEl.removeAttribute("disabled"),this},e.prototype._cacheElements=function(t){if(this.el=t,this.selectEl=this.el.querySelector("select"),this.labelEl=this.el.querySelector(".spark-label"),this.messageEl=this.el.querySelector(".spark-select__message")||(0,y.default)('<span class="spark-select__message"></span>'),!this.selectEl)throw new Error("A <select> element must be present!",this.el);this._updateClass()},e.prototype._bindEventListenerCallbacks=function(){this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onInputBound=this._onInput.bind(this)},e.prototype._addEventListeners=function(){this.selectEl.addEventListener("focus",this._onFocusBound),this.selectEl.addEventListener("blur",this._onBlurBound),this.selectEl.addEventListener("input",this._onInputBound)},e.prototype._removeEventListeners=function(){this.selectEl.removeEventListener("focus",this._onFocusBound),this.selectEl.removeEventListener("blur",this._onBlurBound),this.selectEl.removeEventListener("input",this._onInputBound)},e.prototype._updateClass=function(){this.hasValue=!!this.selectEl.value,(0,u.default)(this.el,"has-value",this.hasValue),(0,u.default)(this.el,"active",this.isActive)},e.prototype._onFocus=function(){this.isActive=!0,this._updateClass();var t=this.getValue();(this.onFocus||g)(t,this)},e.prototype._onBlur=function(){this.isActive=!1,this._updateClass();var t=this.getValue();(this.onBlur||g)(t,this)},e.prototype._onInput=function(){this._updateClass();var t=this.getValue();t!==this.previousValue&&(this.previousValue=t,(this.onChange||g)(t,this))},e}(l.default);b.prototype._whitelistedParams=["validate","onValidate","onChange","onFocus","onBlur"],b.prototype.defaults={el:null,messageEl:null,selectEl:null,labelEl:null,hasValue:!1,isActive:!1,onChange:null,onFocus:null,onBlur:null,previousValue:null,_onFocusBound:null,_onBlurBound:null,_onInputBound:null},(0,c.default)(b.prototype,f.default,m.default),i.default=b,e.exports=i.default},{"../helpers/dom/make-element":39,"../helpers/dom/toggle-class":44,"../helpers/util/mixin":66,"../mixins/messaging":71,"../mixins/validation":72,"./base":1}],20:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/toggle-class"),u=s(h),d=t("../helpers/dom/offset"),c=s(d),p=t("../helpers/traversal/has-parent"),f=s(p),_=t("../mixins/messaging"),m=s(_),v=t("../helpers/util/mixin"),y=s(v),g=t("../mixins/validation"),b=s(g),E=t("../helpers/dom/make-element"),w=s(E),k=function(){},C=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.start=function(t,e){return null!==this.inputEl.getAttribute("disabled")?this:(this._addMoveEventListeners(e||"mouse"),this._cacheSize(),this.isActive=!0,this._updateActiveClasses(),this._oldVal=this.value,this.move(t),this)},e.prototype.move=function(t,e){if(!(t&&this.isActive||e))return this;this.isX?t<this.offsetLeft?t=this.offsetLeft:t>this.offsetLeft+this.width&&(t=this.offsetLeft+this.width):t<this.offsetTop?t=this.offsetTop:t>this.offsetTop+this.height&&(t=this.offsetTop+this.height);var i=this.isX?(t-this.offsetLeft)/(this.width-this.handleSize):(t-this.offsetTop)/this.height;return this.setValue(Math.round((i-this.handleSizePercentage/2)*(this.max-this.min))+this.min)},e.prototype.stop=function(t){return this.isActive=!1,this._oldVal!==this.value&&(this.onChange||k)(this.value,this),this._updateActiveClasses(),this._removeMoveEventListeners(t||"mouse"),this},e.prototype.setValue=function(t){if(this.step&&(t-=t%this.step),t>this.max?t=this.max:t<this.min&&(t=this.min),"function"==typeof this.onWillChange){var e=this.onWillChange(t,this);"number"==typeof e&&(t=e)}return this.value=t,this.inputEl.value=this.value,this.handleEl.setAttribute("data-value",this._truncateValueText(this.value)),this.percentage=(this.value-this.min)/(this.max-this.min),this._updateHandlePosition(),this},e.prototype.getValue=function(){return this.value},e.prototype.clearValue=function(){return this.setValue(0)},e.prototype.setErrorState=function(t){t?this.el.setAttribute("data-error",""):this.el.removeAttribute("data-error")},e.prototype.enable=function(){return this.inputEl.removeAttribute("disabled"),this.handleEl.removeAttribute("disabled"),this},e.prototype.disable=function(){return this.inputEl.setAttribute("disabled",""),this.handleEl.setAttribute("disabled",""),this},e.prototype.increment=function(t){return this.setValue(this.value+this.step*(t?10:1))},e.prototype.decrement=function(t){return this.setValue(this.value-this.step*(t?10:1))},e.prototype.remove=function(e){return this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),t.prototype.remove.call(this,e)},e.prototype.update=function(t){return this._removeEventListeners(),this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),this._cacheElements(t),this._addEventListeners(),this._updateHandlePosition(),this},e.prototype._cacheElements=function(t){if(this.el=t,this.controlsEl=this.el.querySelector(".spark-slider__controls"),this.inputEl=this.el.querySelector('input[type="number"]'),this.handleEl=this.el.querySelector(".spark-slider__handle"),this.trackEl=this.el.querySelector(".spark-slider__track"),this.trackFillEl=this.trackEl.querySelector(".spark-slider__track-fill"),this.messageEl=this.el.querySelector(".spark-slider__message")||(0,w.default)('<span class="spark-slider__message"></span>'),!this.inputEl)throw new Error("Tried to create a slider instance without a number input.");if(!this.handleEl)throw new Error("Tried to create a slider instance without a handle button.");this.min=parseInt(this.inputEl.getAttribute("min"),10)||this.min,this.max=parseInt(this.inputEl.getAttribute("max"),10)||this.max,this.step=parseInt(this.inputEl.getAttribute("step"),10)||this.step;var e=parseInt(this.inputEl.getAttribute("value"),10)||parseInt(this.inputEl.getAttribute("min"),10);isNaN(e)||(this._cacheSize(),this.setValue(e))},e.prototype._cacheSize=function(){this.width=this.trackEl.offsetWidth,this.height=this.trackEl.offsetHeight,this.handleSize=this.isX?this.handleEl.offsetWidth:this.handleEl.offsetHeight,this.handleSizePercentage=this.isX?this.handleEl.offsetWidth/this.width:this.handleEl.offsetHeight/this.height;var t=(0,c.default)(this.controlsEl);this.offsetLeft=t.left,this.offsetTop=t.top},e.prototype._updateHandlePosition=function(){var t=isNaN(this.handleSizePercentage)?0:this.handleSizePercentage,e=this.percentage*(1-t)+t/2;e=Math.round(100*Math.min(e,1)),this.handleEl.setAttribute("style","left: "+e+"%;"),this.trackEl.setAttribute("data-percentage",e),this.trackFillEl.setAttribute("style","width: "+e+"%;")},e.prototype._updateActiveClasses=function(){(0,u.default)(this.handleEl,"active",this.isActive),(0,u.default)(this.el,"active",this.isActive)},e.prototype._bindEventListenerCallbacks=function(){this._onTouchStartBound=this._onTouchStart.bind(this),this._onTouchMoveBound=this._onTouchMove.bind(this),this._onTouchEndBound=this._onTouchEnd.bind(this),this._onClickBound=this._onClick.bind(this),this._onMouseDownBound=this._onMouseDown.bind(this),this._onMouseMoveBound=this._onMouseMove.bind(this),this._onMouseUpBound=this._onMouseUp.bind(this),this._onMouseOutBound=this._onMouseOut.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onKeydownBound=this._onKeydown.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onChangeBound=this._onChange.bind(this),this._onResizeBound=this._onResize.bind(this)},e.prototype._addEventListeners=function(){this.controlsEl.addEventListener("touchstart",this._onTouchStartBound),this.controlsEl.addEventListener("mousedown",this._onMouseDownBound),this.inputEl.addEventListener("change",this._onChangeBound),this.handleEl.addEventListener("focus",this._onFocusBound),this.handleEl.addEventListener("click",this._onClickBound)},e.prototype._removeEventListeners=function(){this.controlsEl.removeEventListener("touchstart",this._onTouchStartBound),this.controlsEl.removeEventListener("mousedown",this._onMouseDownBound),this.inputEl.removeEventListener("change",this._onChangeBound),this.handleEl.removeEventListener("focus",this._onFocusBound),this.handleEl.removeEventListener("click",this._onClickBound)},e.prototype._addMoveEventListeners=function(t){switch(t){case"mouse":window.addEventListener("mousemove",this._onMouseMoveBound),window.addEventListener("mouseout",this._onMouseOutBound),window.addEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.addEventListener("touchmove",this._onTouchMoveBound),window.addEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.addEventListener("keydown",this._onKeydownBound),this.handleEl.addEventListener("blur",this._onBlurBound)}window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound)},e.prototype._removeMoveEventListeners=function(t){switch(t){case"mouse":window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.removeEventListener("touchmove",this._onTouchMoveBound),window.removeEventListener("touchend",this._onTouchEndBound);break;case"keyboard":window.removeEventListener("keydown",this._onKeydownBound),this.handleEl.removeEventListener("blur",this._onBlurBound)}window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound)},e.prototype._truncateValueText=function(t,e,i){if(t.length<5)return t;var s=t<0;t=Math.abs(t),e=e||this.truncatePrecision,i=i||this.truncateCharacters;var n=i.length-1;for(e=Math.pow(10,e),n;n>=0;n--){var o=Math.pow(10,3*(n+1));if(o<=t){t=Math.round(t*e/o)/e,1e3===t&&n<i.length-1&&(t=1,n++),t+=i[n];break}}return(s?"-":"")+t},e.prototype._onTouchStart=function(t){null===this.inputEl.getAttribute("disabled")&&(t.preventDefault(),this.start(this.isX?t.touches[0].pageX:t.touches[0].pageY,"touch"))},e.prototype._onTouchMove=function(t){this.isActive&&(t.preventDefault(),this.move(this.isX?t.touches[0].pageX:t.touches[0].pageY))},e.prototype._onTouchEnd=function(t){this.isActive&&(t.preventDefault(),this.stop("touch"))},e.prototype._onMouseDown=function(t){null===this.inputEl.getAttribute("disabled")&&(t.preventDefault(),this.start(this.isX?t.pageX:t.pageY,"mouse"))},e.prototype._onMouseMove=function(t){this.isActive&&(t.preventDefault(),this.move(this.isX?t.pageX:t.pageY))},e.prototype._onMouseUp=function(){this.isActive&&this.stop("mouse")},e.prototype._onMouseOut=function(){},e.prototype._onResize=function(){this._cacheSize()},e.prototype._onFocus=function(){this.start(null,"keyboard")},e.prototype._onKeydown=function(t){var e=this.isX&&39===t.keyCode||!this.isX&&38===t.keyCode,i=this.isX&&37===t.keyCode||!this.isX&&40===t.keyCode;e?this.increment(t.shiftKey):i&&this.decrement(t.shiftKey)},e.prototype._onBlur=function(){this.stop("keyboard")},e.prototype._onChange=function(t){t.target.value!==this.value&&this.setValue(t.target.value),(this.onChange||k)(this.value,this)},e.prototype._onClick=function(t){t.preventDefault()},e.prototype._onWindowClick=function(t){(0,f.default)(t.target,this.el)&&this._onBlur()},e}(l.default);C.prototype._whitelistedParams=["isX","validate","onValidate","onChange","onWillChange"],C.prototype.defaults={el:null,messageEl:null,controlsEl:null,inputEl:null,handleEl:null,trackEl:null,trackFillEl:null,isActive:!1,isX:!0,onValidate:null,onChange:null,onWillChange:null,position:0,width:0,height:0,min:0,max:0,step:1,value:0,percentage:0,offsetLeft:0,offsetTop:0,handleSizePercentage:0,truncatePrecision:0,truncateCharacters:["k","m","b","t"],_oldVal:null,_onTouchStartBound:null,_onTouchMoveBound:null,_onTouchEndBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null,_onMouseOutBound:null,_onFocusBound:null,_onKeydownBound:null,_onBlurBound:null,_onChangeBound:null,_onResizeBound:null,_onClickBound:null},(0,y.default)(C.prototype,m.default,b.default),i.default=C,e.exports=i.default},{"../helpers/dom/make-element":39,"../helpers/dom/offset":40,"../helpers/dom/toggle-class":44,"../helpers/traversal/has-parent":62,"../helpers/util/mixin":66,"../mixins/messaging":71,"../mixins/validation":72,"./base":1}],21:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/add-class"),u=s(h),d=t("../helpers/dom/remove-class"),c=s(d),p=t("../helpers/dom/has-class"),f=s(p),_=function(){},m=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._calculateStyle(),o(s)):o(s)}return r(e,t),e.prototype.update=function(t){return this._removeEventListeners(),this._cacheElements(t||this.el),this._parseParams(),this._addEventListeners(),this._calculateStyle(),this},e.prototype._cacheElements=function(t){this.el=t,this.containerEl=this.containerEl||t.parentNode,this._body=this.el.querySelector(".spark-step-indicator__body"),this._list=this.el.querySelector(".spark-step-indicator__list"),this._items=this.el.querySelectorAll(".spark-step-indicator__item")},e.prototype._parseParams=function(){this.type=null!==this.type?this.type:this.el.attributes["data-type"]&&this.el.attributes["data-type"].value,this.header=null!==this.header?this.header:this.el.attributes["data-header"]&&!0,this.subtitle=null!==this.subtitle?this.subtitle:this.el.attributes["data-subtitle"]&&!0},e.prototype._bindEventListenerCallbacks=function(){this._onResizeBound=this._onResize.bind(this),this._onLoadBound=this._onLoad.bind(this),this._onVisibleBound=this._onVisible.bind(this),this._toggleDropdownBound=this._toggleDropdown.bind(this)},e.prototype._addEventListeners=function(){window.addEventListener("resize",this._onResizeBound),document.addEventListener("spark.visible-children",this._onVisibleBound,!0),window.addEventListener("load",this._onLoadBound)},e.prototype._removeEventListeners=function(){window.removeEventListener("resize",this._onResizeBound),document.removeEventListener("spark.visible-children",this._onVisibleBound,!0),document.removeEventListener("click",this._toggleDropdownBound),window.removeEventListener("load",this._onLoadBound)},e.prototype._resetStepState=function(t){t<0||t>=this._items.length||(0,c.default)(this._items[t],["spark-step-indicator__item--completed","spark-step-indicator__item--current","spark-step-indicator__item--disabled"])},e.prototype.setStepState=function(t,e){if(t<0||t>=this._items.length)return this;switch(e){case"completed":this._resetStepState(t),(0,u.default)(this._items[t],"spark-step-indicator__item--completed");break;case"current":var i=this._list.querySelector(".spark-step-indicator__item--current");(0,c.default)(i,"spark-step-indicator__item--current"),(0,u.default)(this._items[t],"spark-step-indicator__item--current");break;case"disabled":this._resetStepState(t),(0,u.default)(this._items[t],"spark-step-indicator__item--disabled");break;case"incomplete":this._resetStepState(t)}return this._calculateStyle(),this},e.prototype.bindStepClickCallback=function(t,e){e=e||_;for(var i=0;i<t.length;i++)this._items[t[i]].addEventListener("click",e);return this},e.prototype.removeStepClickCallback=function(t,e){e=e||_;for(var i=0;i<t.length;i++)this._items[t[i]].removeEventListener("click",e);return this},e.prototype._isOverWidth=function(){for(var t=this._list.offsetWidth,e=this._listPaddingTotal,i=0;i<this._items.length;i++)e+=this._items[i].offsetWidth;return t+2<e},e.prototype._calculateStyle=function(){if(!this.header){this.el.querySelector(".spark-step-indicator__title").style.display="none",(0,u.default)(this._body,"spark-step-indicator__body--no-border")}if(!this.subtitle){this.el.querySelector(".spark-step-indicator__subtitle").style.display="none"}switch(this._switchFromDropdown(),this.type){case"standard-dropdown":this._calculateRespStyle();break;case"large":this._calculateLargeStyle();break;case"condensed":this._calculateCondensedStyle();break;case"dropdown":this._calculateDropdownStyle();break;default:this._calculateStandardStyle()}!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/))&&this._addItemWidth()},e.prototype._addItemWidth=function(){if((0,f.default)(this._list,"spark-step-indicator__list--condensed")||(0,f.default)(this._body,"spark-step-indicator__body--dropdown"))this._switchWidthForIe11(0,!1);else{for(var t=this._list.offsetWidth,e=this._listPaddingTotal,i=0;i<this._items.length;i++)e+=this._items[i].offsetWidth;t-e>2?this._switchWidthForIe11(0,!0):this._switchWidthForIe11(0,!1)}},e.prototype._switchWidthForIe11=function(t,e){for(var i=t;i<this._items.length;i++)this._items[i].style.width=e?"100%":""},e.prototype._calculateLargeStyle=function(){this._list.style["flex-wrap"]="wrap";for(var t=this._list.offsetWidth,e=this._listPaddingTotal,i=0;i<this._items.length;i++)(0,c.default)(this._items[i],"noline"),e+=this._items[i].offsetWidth,t+2<e&&i>0&&((0,u.default)(this._items[i-1],"noline"),e=this._items[i].offsetWidth+this._listPaddingTotal)},e.prototype._calculateCondensedStyle=function(){(0,u.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()},e.prototype._calculateDropdownStyle=function(){this._switchToDropdown()},e.prototype._calculateStandardStyle=function(){this._list.style.visibility="hidden";for(var t=0;t<this._items.length;t++)(0,c.default)(this._items[t],"noline");(0,c.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,u.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()),this._list.style.visibility="visible"},e.prototype._calculateRespStyle=function(){this._list.style.visibility="hidden",(0,c.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,u.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,c.default)(this._list,"spark-step-indicator__list--condensed"),this._switchToDropdown())),this._list.style.visibility="visible"},e.prototype._createDropdownHeader=function(){var t=document.createElement("a"),e=this._list.querySelector(".spark-step-indicator__item--current");e||(e=this._items[0]),t.innerHTML=e.innerHTML,t.innerHTML+='<span class="spark-step-indicator__notice">Select a Step</span>';var i=document.createElement("span"),s=Array.prototype.indexOf.call(this._items,e);i.innerHTML=s+1+" of "+this._items.length,i.className="spark-step-indicator__label--dropdown",t.appendChild(i),t.className=e.className,(0,u.default)(t,"spark-step-indicator__item--dropdown__header"),this._dropdownHeader=t},e.prototype._switchToDropdown=function(){(0,u.default)(this._body,"spark-step-indicator__body--dropdown"),this._createDropdownHeader(),this._list.parentNode.insertBefore(this._dropdownHeader,this._list),document.removeEventListener("click",this._toggleDropdownBound),document.addEventListener("click",this._toggleDropdownBound),(0,u.default)(this._list,"collapse")},e.prototype._switchFromDropdown=function(){(0,c.default)(this._body,"spark-step-indicator__body--dropdown");var t=this._list.parentNode.querySelector(".spark-step-indicator__item--dropdown__header");document.removeEventListener("click",this._toggleDropdownBound),t&&this._list.parentNode.removeChild(t),(0,c.default)(this._list,"collapse")},e.prototype._toggleDropdown=function(t){var e=t.target||t.srcElement;if(this._dropdownHeader.contains(e)?this._dropdownExpand?((0,u.default)(this._list,"collapse"),(0,c.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1):((0,c.default)(this._list,"collapse"),(0,u.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!0):((0,u.default)(this._list,"collapse"),(0,c.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1),this._list.offsetHeight>0)for(var i=0,s=0;s<this._items.length;s++){if((0,f.default)(this._items[s],"spark-step-indicator__item--current")){this._list.scrollTop=i;break}i+=this._items[s].offsetHeight}},e.prototype._onLoad=function(){var t=getComputedStyle(this._list),e=parseInt(t.getPropertyValue("padding-left"),10),i=parseInt(t.getPropertyValue("padding-right"),10);this._listPaddingTotal=e+i,this._calculateStyle()},e.prototype._onResize=function(){this._calculateStyle()},e.prototype._onVisible=function(t){t.target.contains(this.el)&&window.setTimeout(function(){this._calculateStyle()}.bind(this),0)},e}(l.default);m.prototype._whitelistedParams=["type","header","subtitle"],m.prototype.defaults={el:null,containerEl:null,header:null,subtitle:null,type:null,_body:null,_list:null,_listPaddingTotal:0,_dropdownExpand:!1,_dropdownHeader:null,_items:null,_onResizeBound:null,_onVisibleBound:null},i.default=m,e.exports=i.default},{"../helpers/dom/add-class":36,"../helpers/dom/has-class":38,"../helpers/dom/remove-class":43,"./base":1}],22:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("./expand"),u=s(h),d=t("../helpers/form/set-caret"),c=s(d),p=t("../helpers/form/form-data"),f=t("../helpers/util/each"),_=s(f),m=t("../helpers/dom/has-class"),v=s(m),y=t("../helpers/dom/toggle-class"),g=s(y),b=t("../helpers/dom/add-class"),E=s(b),w=t("../helpers/dom/remove-class"),k=s(w),C=t("../helpers/traversal/get-parent"),x=s(C),B=t("../helpers/traversal/get-index"),S=s(B),L=t("../helpers/traversal/get-sibling-before"),M=s(L),T=t("../helpers/traversal/get-sibling-after"),A=s(T),I=t("../helpers/traversal/matches"),D=s(I),O=function(){},P=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._initRows(),(s.isSpreadsheet||s.isEditRows)&&s._deactivateAllInputs(),s.isResizable&&s._initResize(),s._disableRowsColumnsCells(),s._initExpands(),o(s)):o(s)}return r(e,t),e.prototype.disableCell=function(t){return t.disabled=!0,(0,E.default)((0,x.default)(t,"td"),"spark-table__disabled-cell"),this},e.prototype.enableCell=function(t){return t.disabled=!1,(0,k.default)((0,x.default)(t,"td"),"spark-table__disabled-cell"),this},e.prototype.disableRow=function(t){return(0,E.default)(t,"spark-table__disabled-row"),(0,_.default)(t.querySelectorAll("input, button, a"),function(t){t.disabled=!0}),this},e.prototype.enableRow=function(t){return(0,k.default)(t,"spark-table__disabled-row"),(0,_.default)(t.querySelectorAll("input, button, a"),function(t){t.disabled=!1}),this},e.prototype.disableColumn=function(t){var e=(0,S.default)(t.parentNode.children,t);return(0,_.default)(this.tableEl.querySelectorAll("tbody tr"),function(t){this.disableCell(t.children[e].querySelector("input"))}.bind(this)),(0,E.default)(t,"spark-table__disabled-column"),this},e.prototype.enableColumn=function(t){var e=(0,S.default)(t.parentNode.children,t);return(0,_.default)(this.tableEl.querySelectorAll("tbody tr"),function(t){this.enableCell(t.children[e].querySelector("input"))}.bind(this)),(0,k.default)(t,"spark-table__disabled-column"),this},e.prototype.remove=function(e){return(0,_.default)(this._expands,function(t){t.remove(e)}),t.prototype.remove.call(this,e)},e.prototype.activateRow=function(t){return t="number"==typeof t?this.tableEl.querySelectorAll("tbody tr")[t]:t,t&&this._makeRowActive(t),this},e.prototype.activateRows=function(t){return(0,_.default)(t,this.activateRow.bind(this)),this},e.prototype.deactivateRow=function(t){return t="number"==typeof t?this.tableEl.querySelectorAll("tbody tr")[t]:t,t&&this._makeRowInActive(t),this},e.prototype.deactivateRows=function(t){return(0,_.default)(t,this.deactivateRow.bind(this)),this},e.prototype.getActiveRows=function(){var t=[];return(0,_.default)(this.el.querySelectorAll("tbody tr.active"),function(e){t.push(e)}),t},e.prototype.update=function(t){return this._removeEventListeners(),this._cacheElements(t||this.el),this._parseParams(),this._addEventListeners(),this._initRows(),(this.isSpreadsheet||this.isEditRows)&&this._deactivateAllInputs(),this.isResizable&&this._initResize(),this._disableRowsColumnsCells(),
this._initExpands(),this},e.prototype._cacheElements=function(t){this.el=t,this.tableEl=t.querySelector("table")},e.prototype._parseParams=function(){this.tableEl&&(this.isSpreadsheet=null!==this.isSpreadsheet?this.isSpreadsheet:!!(0,v.default)(this.el,"spark-table--spreadsheet"),this.isEditRows=null!==this.isEditRows?this.isEditRows:!!(0,v.default)(this.el,"spark-table--edit-rows"),this.isResizable=null!==this.isResizable?this.isResizable:!!(0,v.default)(this.el,"spark-table--resizable"))},e.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onChangeBound=this._onChange.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onTouchstartBound=this._onTouchstart.bind(this),this._onTouchendBound=this._onTouchend.bind(this),this._onKeydownBound=this._onKeydown.bind(this),this._onMouseDownBound=this._onMouseDown.bind(this),this._onMouseMoveBound=this._onMouseMove.bind(this),this._onMouseUpBound=this._onMouseUp.bind(this)},e.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound,!1),this.el.addEventListener("change",this._onChangeBound,!1),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0),this.isSpreadsheet&&(this.el.addEventListener("touchstart",this._onTouchstartBound,!1),this.el.addEventListener("touchend",this._onTouchendBound,!1),this.el.addEventListener("keydown",this._onKeydownBound,!1)),this.isResizable&&this.tableEl.addEventListener("mousedown",this._onMouseDownBound,!1)},e.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("change",this._onChangeBound),this.el.removeEventListener("focus",this._onFocusBound),this.el.removeEventListener("blur",this._onBlurBound),this.el.removeEventListener("touchstart",this._onTouchstartBound),this.el.removeEventListener("touchend",this._onTouchendBound),this.el.removeEventListener("keydown",this._onKeydownBound),this.tableEl.removeEventListener("mousedown",this._onMouseDownBound),this._removeResizeListeners()},e.prototype._addResizeListeners=function(){window.addEventListener("mousemove",this._onMouseMoveBound,!1),window.addEventListener("mouseup",this._onMouseUpBound,!1)},e.prototype._removeResizeListeners=function(){window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound)},e.prototype._toggleRowActive=function(t){(0,v.default)(t,"active")?(this._makeRowInActive(t),this._uncheckSelectAll()):this._makeRowActive(t)},e.prototype._makeRowActive=function(t){(0,E.default)(t,"active"),(t.querySelector('input[type="checkbox"]:not([disabled])')||{}).checked=!0},e.prototype._makeRowInActive=function(t){(0,k.default)(t,"active"),(t.querySelector('input[type="checkbox"]:not([disabled])')||{}).checked=!1},e.prototype._toggleRowsActive=function(t,e){for(var i=e?"_makeRowActive":"_makeRowInActive",s=0,n=t.length;s<n;s++)this[i](t[s])},e.prototype._toggleSelectAll=function(t){var e=t.querySelector('input[type="checkbox"]');e&&(this._toggleRowsActive(this.el.querySelectorAll("tbody tr"),!e.checked),e.checked=!e.checked)},e.prototype._uncheckSelectAll=function(){for(var t=this.el.querySelectorAll('.spark-table__select-all input[type="checkbox"]'),e=0,i=t.length;e<i;e++)t[e].checked=!1},e.prototype._deactivateAllInputs=function(){this.tableEl&&this._deactivateInputs(this.tableEl)},e.prototype._deactivateInputs=function(t){for(var e=t.querySelectorAll('input:not([type="checkbox"])'),i=0,s=e.length;i<s;i++)this._deactivateInput(e[i])},e.prototype._deactivateInput=function(t){t.setAttribute("readonly",""),(0,k.default)(t.parentNode,"editing")},e.prototype._activateInputs=function(t){for(var e=t.querySelectorAll('input:not([type="checkbox"])'),i=0,s=e.length;i<s;i++)this._activateInput(e[i])},e.prototype._activateInput=function(t){t.removeAttribute("readonly"),(0,E.default)(t.parentNode,"editing"),"checkbox"!==t.type&&"radio"!==t.type&&(0,c.default)(t,-1)},e.prototype._activateInputOrFocusDown=function(t){if(""===t.getAttribute("readonly"))return void this._activateInput(t);this._focusDown(t,!0)},e.prototype._disableRowsColumnsCells=function(){(0,_.default)(this.tableEl.querySelectorAll("td input[disabled]"),this.disableCell.bind(this)),(0,_.default)(this.tableEl.querySelectorAll(".spark-table__disabled-row"),this.disableRow.bind(this)),(0,_.default)(this.tableEl.querySelectorAll(".spark-table__disabled-column"),this.disableColumn.bind(this))},e.prototype._focusUp=function(t,e){return this._focusUpDown(t,"up",e)},e.prototype._focusDown=function(t,e){return this._focusUpDown(t,"down",e)},e.prototype._focusUpDown=function(t,e,i){if(i||null!==t.getAttribute("readonly")){this._deactivateInput(t);var s=(0,x.default)(t,"td",this.el);if(s){var n=(0,S.default)(s.parentNode.children,s),o=("up"===e?M.default:A.default)(s.parentNode,"tr");if(o){var r=o.children[n];if(r){var a=r.querySelector('input:not([type="checkbox"]), select');a&&(a.disabled?this._focusUpDown(a,e,i):a.focus())}}}}},e.prototype._focusLeft=function(t,e){return this._focusLeftRight(t,"left",e)},e.prototype._focusRight=function(t,e){return this._focusLeftRight(t,"right",e)},e.prototype._focusLeftRight=function(t,e,i){if(i||null!==t.getAttribute("readonly")){this._deactivateInput(t);var s=(0,x.default)(t,"td",this.el);if(s){var n=("left"===e?M.default:A.default)(s,"td");if(n){var o=n.querySelector('input:not([type="checkbox"]), select');o&&(o.disabled?this._focusLeftRight(o,e,i):o.focus())}}}},e.prototype._checkDoubleClick=function(t){var e=Date.now(),i=this._lastClickTime,s=this._lastClickEl;return this._lastClickTime=e,this._lastClickEl=t,t===s&&e-500<i},e.prototype._clearClicked=function(){this._lastClickEl=null},e.prototype._editRow=function(t){t&&(this._editingCount++,this._activateInputs(t),(0,p.store)(t),(0,E.default)(t,"editing"),this._updateBindings())},e.prototype._cancelRow=function(t){t&&(this._editingCount--,this._deactivateInputs(t),(0,p.restore)(t),(0,k.default)(t,"editing"),this._updateBindings())},e.prototype._saveRow=function(t){t&&(this._editingCount--,this._deactivateInputs(t),(0,p.clear)(t),(0,k.default)(t,"editing"),this._updateBindings(),(this.onRowSave||O)((0,S.default)(t.parentNode.children,t),t))},e.prototype._deleteRow=function(t){t&&((this.onRowDelete||O)((0,S.default)(t.parentNode.children,t),t),t.parentNode.removeChild(t))},e.prototype._confirmDelete=function(t){this.confirmDelete&&"function"==typeof this.confirmDelete?this.confirmDelete(t,this._deleteRow):this._deleteRow(t)},e.prototype._updateBindings=function(){(0,g.default)(this.el,"editing",this._editingCount)},e.prototype._initResize=function(){this._resizeEls=[];var t=this.tableEl.querySelectorAll("thead th");(0,_.default)(t,function(t){t.innerHTML='<span class="spark-table__resize spark-table__resize--left"></span>'+t.innerHTML+'<span class="spark-table__resize spark-table__resize--right"></span>',this._resizeEls.push(t)}.bind(this))},e.prototype._initRows=function(){(0,_.default)(this.tableEl.querySelectorAll("td.spark-table__checkbox input:checked"),function(t){this._makeRowActive((0,x.default)(t,"tr"))}.bind(this))},e.prototype._sizeColumns=function(t,e){if(t=t||"%",!this._sizeColumnsRun||e){var i=this.tableEl.offsetWidth;(0,_.default)(this.tableEl.querySelectorAll("thead th"),function(e){e.style.width="%"===t?Math.round(e.offsetWidth/i*1e5)/1e5*100+"%":e.offsetWidth+"px"}.bind(this)),this._sizeColumnsRun=!0}},e.prototype._initExpands=function(){var t=this.tableEl.querySelectorAll(".spark-table-expand");this._expands=[],(0,_.default)(t,function(t){this._expands.push(new u.default(t,{onBeforeExpand:this._onBeforeExpand.bind(this)}))}.bind(this))},e.prototype._onBeforeExpand=function(){this._sizeColumns()},e.prototype._onClick=function(t){var e,i,s=t.target||t.srcElement,n=!1,o=!0;(i=(0,x.default)(s,".spark-table__select-all",this.el))&&!(0,D.default)(s,'input[type="checkbox"]')?(this._toggleSelectAll(i),n=!0):(0,D.default)(s,'input:not([type="checkbox"]), select')?s.disabled||(this.isSpreadsheet&&(o=!1,this._checkDoubleClick(s)&&(o=!0,this._activateInput(s))),n=!0):(0,D.default)(s,".spark-table__edit-row")?(this._editRow((0,x.default)(s,"tr",this.el)),n=!0):(0,D.default)(s,".spark-table__delete-row")?(this._confirmDelete((0,x.default)(s,"tr",this.el)),n=!0):(0,D.default)(s,".spark-table__edit-row-save")?(this._saveRow((0,x.default)(s,"tr",this.el)),n=!0):(0,D.default)(s,".spark-table__edit-row-cancel")?(this._cancelRow((0,x.default)(s,"tr",this.el)),n=!0):(0,x.default)(s,"button, a",this.el)||(0,D.default)(s,'input[type="checkbox"]')||!(e=(0,x.default)(s,"tbody tr",this.el))||(e.querySelector('input[type="checkbox"]')||{}).disabled||(this._toggleRowActive(e),n=!0),o&&this._clearClicked(),n&&t.preventDefault()},e.prototype._onChange=function(t){var e,i,s=t.target||t.srcElement;(i=(0,x.default)(s,".spark-table__select-all",this.el))?(s.checked=!s.checked,this._toggleSelectAll(i)):(0,D.default)(s,'input[type="checkbox"]')&&(e=(0,x.default)(s,"tbody tr",this.el))&&this._toggleRowActive(e)},e.prototype._onFocus=function(t){var e=t.target||t.srcElement;if(this.isSpreadsheet&&(0,D.default)(e,'input:not([type="checkbox"]), select')){var i=(0,x.default)(e,"td",this.el);(0,E.default)(i,"focus")}},e.prototype._onBlur=function(t){if(this.isSpreadsheet){var e=t.target||t.srcElement,i=(0,x.default)(e,"td",this.el);(0,k.default)(i,"focus"),this._deactivateInput(e)}},e.prototype._onKeydown=function(t){var e=t.target||t.srcElement;if(this.isSpreadsheet&&(0,D.default)(e,'input:not([type="checkbox"]), select')){switch(t.keyCode||t.which){case this._keyCodes.ENTER:this._activateInputOrFocusDown(e);break;case this._keyCodes.ESCAPE:this._deactivateInput(e);break;case this._keyCodes.DOWN:this._focusDown(e);break;case this._keyCodes.UP:this._focusUp(e);break;case this._keyCodes.LEFT:this._focusLeft(e);break;case this._keyCodes.RIGHT:this._focusRight(e)}}},e.prototype._onTouchstart=function(t){var e=t.target||t.srcElement;this.isSpreadsheet&&(0,D.default)(e,'input:not([type="checkbox"])')&&(this._touchStartEl=e,this._touchStartTime=Date.now(),this._touchStartTimer=setTimeout(this._onTouchHold.bind(this),1e3))},e.prototype._onTouchend=function(t){var e=t.target||t.srcElement;this._touchStartEl&&e===this._touchStartEl&&(this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer))},e.prototype._onTouchHold=function(){this._activateInput(this._touchStartEl),this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer)},e.prototype._onMouseDown=function(t){var e=t.target||t.srcElement;if(this.isResizable&&(0,D.default)(e,".spark-table__resize")){t.preventDefault(),this._lastScreenX=t.screenX,this._sizeColumns("px",!0),this._resizingEl=e.parentNode;var i=this._resizeEls.indexOf(this._resizingEl);(0,v.default)(e,"spark-table__resize--left")&&(this._resizingEl=this._resizeEls[i-1]),this._resizingEl&&this._addResizeListeners()}},e.prototype._onMouseMove=function(t){var e=t.screenX,i=e-this._lastScreenX;if(i){t.preventDefault();var s=this._resizingEl.offsetWidth,n=this.tableEl.offsetWidth,o=s+i,r=n+i;this._resizingEl.style.width=o+"px",this.tableEl.style.width=r+"px",(this._resizingEl.offsetWidth===s||this.tableEl.offsetWidth<this.tableEl.parentNode.offsetWidth)&&(this._resizingEl.style.width=s+"px",this.tableEl.style.width=n+"px"),this._lastScreenX=e}},e.prototype._onMouseUp=function(){this._sizeColumns("%",!0),this.tableEl.style.width=this.tableEl.offsetWidth/this.tableEl.parentNode.offsetWidth*100+"%",this._removeResizeListeners()},e}(l.default);P.prototype._whitelistedParams=["isSpreadsheet","isEditRows","isResizable","confirmDelete","onRowSave","onRowDelete"],P.prototype.defaults={el:null,tableEl:null,isSpreadsheet:null,isEditRows:null,isResizable:null,onRowSave:null,onRowDelete:null,confirmDelete:null,_expands:null,_keyCodes:{ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESCAPE:27},_editingCount:0,_lastClickTime:0,_lastClickEl:null,_lastScreenX:0,_touchStartTime:0,_touchStartEl:null,_resizeEls:null,_resizingEl:null,_sizeColumnsRun:!1,_onClickBound:null,_onChangeBound:null,_onFocusBound:null,_onBlurBound:null,_onKeydownBound:null,_onTouchstartBound:null,_onTouchendBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null},i.default=P,e.exports=i.default},{"../helpers/dom/add-class":36,"../helpers/dom/has-class":38,"../helpers/dom/remove-class":43,"../helpers/dom/toggle-class":44,"../helpers/form/form-data":47,"../helpers/form/set-caret":48,"../helpers/traversal/get-index":57,"../helpers/traversal/get-parent":58,"../helpers/traversal/get-sibling-after":60,"../helpers/traversal/get-sibling-before":61,"../helpers/traversal/matches":63,"../helpers/util/each":65,"./base":1,"./expand":7}],23:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=t("./base"),h=s(l),u=t("../helpers/css/transform"),d=s(u),c=t("../helpers/dom/toggle-class"),p=s(c),f=t("../helpers/dom/add-class"),_=s(f),m=t("../helpers/dom/remove-class"),v=s(m),y=t("../helpers/traversal/get-parent"),g=s(y),b=t("../helpers/traversal/get-index"),E=s(b),w=t("../helpers/traversal/has-parent"),k=s(w),C=t("../helpers/traversal/get-children"),x=s(C),B=t("../helpers/dom/breakpoint"),S=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._determineSize(),o(s)):o(s)}return r(e,t),e.prototype.setActive=function(t){var e;if("string"==typeof t&&(e=this._findPanelByName(t))&&(t=this._findTabByPanel(e)),"number"==typeof t&&(t=this.tabEls.item(t)),!t||"object"!==(void 0===t?"undefined":a(t))||t===this.activeTabEl)return!1;this.activeTabEl&&((0,p.default)(this.activeTabEl,"active",!1),this.previousTabEl=this.activeTabEl),(0,p.default)(t,"active",!0),this.activeTabEl=t,-t.offsetLeft>this.x?this.focus(t,"left"):t.offsetLeft+t.clientWidth>this.tabListScrollEl.clientWidth-this.x&&this.focus(t,"right"),e||(e=this._findPanelByTab(t)),(0,p.default)(e,"active",!0),this.activePanelEl&&(0,p.default)(this.activePanelEl,"active",!1),this.activePanelEl=e,this.useHash&&(window.location.hash=this.activePanelEl.getAttribute("id")||"");var i=document.createEvent("Event");return i.initEvent("spark.visible-children",!0,!0),this.activePanelEl.dispatchEvent(i),this},e.prototype.start=function(t){return t=t||{},this.isDragging=!0,this.lastX=t.lastX,this.lastY=t.lastY,this._determineMinMax(),this._addMoveEventListeners(t.type||"mouse"),this},e.prototype.stop=function(t){return t=t||{},this._checkX(),this.isDragging=!1,this.scrollDistance=0,this.scrollDirection="",this._removeMoveEventListeners(t.type),this},e.prototype.move=function(t){return this.isDragging||t.scroll||t.force?(!t.force&&(this.x+t.x>this.maxX||this.x+t.x<this.minX)?this.x+=t.x/4:this.x+=t.x,this.scrollDistance+=Math.abs(t.x),t.scroll&&this._checkX(),this._updatePosition(),this):this},e.prototype.focus=function(t,e){return e=e||"left",this.x="left"===e?-t.offsetLeft:-(t.offsetLeft-this.tabListScrollEl.clientWidth+t.offsetWidth),this._checkX(),this._updatePosition(),this},e.prototype.remove=function(e){return this._removeMoveEventListeners("touch"),this._removeMoveEventListeners("mouse"),this._removeMoveEventListeners("keyboard"),t.prototype.remove.call(this,e)},e.prototype.update=function(e){return t.prototype.update.call(this,e),setTimeout(function(){this._determineSize(),this.focus(this.activeTabEl)}.bind(this),0),this},e.prototype._findPanelByName=function(t){t=t.replace("#","");for(var e,i=0,s=this.panelEls.length,n=null;i<s&&!n;i++)this.panelEls[i].getAttribute("id")===t&&(e=this.panelEls[i],n=!0);return n&&e},e.prototype._findPanelByTab=function(t){var e=t.querySelector("a"),i=e&&e.getAttribute("href"),s=(0,E.default)(t.parentNode.children,t),n=0,o=this.panelEls.length,r=null,a=null,l=null;for(i=i?i.replace("#",""):i;n<o&&!r;n++)i&&this.panelEls[n].getAttribute("id")===i?(r=!0,a=this.panelEls[n]):n===s&&(l=this.panelEls[n]);return r&&a||l},e.prototype._findTabByPanel=function(t){for(var e=t.getAttribute("id"),i=(0,E.default)(t.parentNode.children,t),s=0,n=this.tabEls.length,o=null,r=null,a=null;s<n&&!o;s++)!e||this.tabEls.item(s).querySelector("a").getAttribute("href")!=="#"+e&&this.tabEls.item(s).getAttribute("href")!=="#"+e?s===i&&(a=this.tabEls.item(s)):(o=!0,r=this.tabEls.item(s));return o&&r||a},e.prototype._findTabByChildElement=function(t){for(var e,i,s=0,n=this.tabEls.length;s<n&&!e;s++)(this.tabEls.item(s)===t||(0,k.default)(t,this.tabEls.item(s)))&&(e=!0,i=this.tabEls.item(s));return e&&i},e.prototype._cacheElements=function(t){if(this.el=t,this.tabListEl=this.el.querySelector(".spark-tabs__list"),this.tabListScrollEl=this.tabListEl.parentNode,this.tabEls=this.tabListEl.querySelectorAll(".spark-tabs__tab"),this.panelEls=(0,x.default)(this.el.querySelector(".spark-tabs__panels"),'[role="tabpanel"]'),this.navEl=this.el.querySelector(".spark-tabs__nav"),this.leftEl=this.navEl.querySelector(".spark-tabs__btn--left"),this.rightEl=this.navEl.querySelector(".spark-tabs__btn--right"),!this.tabListEl||!this.tabEls.length||!this.panelEls.length)throw new Error("Tab element missing either a .spark-tabs__list, or elements with .spark-tabs__tab and .spark-tabs__panel!",this.el);window.location.hash&&this.setActive(window.location.hash)||this.setActive(this.tabListEl.querySelector(".spark-tabs__tab.active")||0)},e.prototype._bindEventListenerCallbacks=function(){this._onResizeBound=this._onResize.bind(this),this._onTabListClickBound=this._onTabListClick.bind(this),this._onRightClickBound=this._onRightClick.bind(this),this._onLeftClickBound=this._onLeftClick.bind(this),this._onTouchStartBound=this._onTouchStart.bind(this),this._onTouchMoveBound=this._onTouchMove.bind(this),this._onTouchEndBound=this._onTouchEnd.bind(this),this._onMouseDownBound=this._onMouseDown.bind(this),this._onMouseMoveBound=this._onMouseMove.bind(this),this._onMouseUpBound=this._onMouseUp.bind(this),this._onScrollBound=this._onScroll.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this)},e.prototype._addEventListeners=function(){window.addEventListener("resize",this._onResizeBound),window.addEventListener("orientationchange",this._onResizeBound),this.tabListEl.addEventListener("click",this._onTabListClickBound),this.tabListEl.addEventListener("touchstart",this._onTouchStartBound),this.tabListEl.addEventListener("mousedown",this._onMouseDownBound),this.tabListEl.addEventListener("mousewheel",this._onScrollBound),this.tabListEl.addEventListener("DOMMouseScroll",this._onScrollBound),this.tabListEl.addEventListener("focus",this._onFocusBound,!0),this.tabListEl.addEventListener("blur",this._onBlurBound,!0),this.leftEl&&this.leftEl.addEventListener("click",this._onLeftClickBound),this.rightEl&&this.rightEl.addEventListener("click",this._onRightClickBound)},e.prototype._removeEventListeners=function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("orientationchange",this._onResizeBound),this.tabListEl.removeEventListener("click",this._onTabListClickBound),this.tabListEl.removeEventListener("touchstart",this._onTouchStartBound),this.tabListEl.removeEventListener("mousedown",this._onMouseDownBound),this.tabListEl.removeEventListener("mousewheel",this._onScrollBound),this.tabListEl.removeEventListener("DOMMouseScroll",this._onScrollBound),this.tabListEl.removeEventListener("focus",this._onFocusBound),this.tabListEl.removeEventListener("blur",this._onBlurBound),this.leftEl&&this.leftEl.removeEventListener("click",this._onLeftClickBound),this.rightEl&&this.rightEl.removeEventListener("click",this._onRightClickBound)},e.prototype._addMoveEventListeners=function(t){switch(t){case"mouse":window.addEventListener("mousemove",this._onMouseMoveBound),window.addEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.addEventListener("touchmove",this._onTouchMoveBound),window.addEventListener("touchend",this._onTouchEndBound)}},e.prototype._removeMoveEventListeners=function(t){switch(t){case"mouse":window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound);break;case"touch":window.removeEventListener("touchmove",this._onTouchMoveBound),window.removeEventListener("touchend",this._onTouchEndBound)}},e.prototype._determineSize=function(){var t=this.el.clientWidth,e=(0,B.get)(t,this.breakpoints);this.currentBreakpoint!==e&&((0,p.default)(this.el,this.currentBreakpoint,!1),this.currentBreakpoint=e,(0,p.default)(this.el,this.currentBreakpoint,!0)),this.isScrollable=this.tabListEl.clientWidth>this.tabListScrollEl.clientWidth,(0,p.default)(this.navEl,"scrollable",this.isScrollable),this._determineMinMax()},e.prototype._determineMinMax=function(){this.tabListEl&&this.tabListScrollEl&&(this.maxX=0,this.minX=this.tabListScrollEl.clientWidth-this.tabListEl.clientWidth-this.maxX)},e.prototype._enableAnimation=function(){this.isAnimatable=!0,(0,p.default)(this.navEl,"no-animation",!this.isAnimatable)},e.prototype._disableAnimation=function(){this.isAnimatable=!1,(0,p.default)(this.navEl,"no-animation",!this.isAnimatable)},e.prototype._updatePosition=function(){this.tabListEl.setAttribute("style",(0,d.default)("translate",this.x+"px"))},e.prototype._checkX=function(){this.x<this.minX&&(this.x=this.minX,this._updatePosition()),this.x>0&&(this.x=0,this._updatePosition())},e.prototype._onTabListClick=function(t){if(this.scrollDistance>5)return void t.preventDefault();var e;(e=this._findTabByChildElement(t.target))&&(t.preventDefault(),this.setActive(e))},e.prototype._onResize=function(){this._determineSize(),this.focus(this.activeTabEl)},e.prototype._onTouchStart=function(t){this.isScrollable&&(this._disableAnimation(),this.start({lastX:t.touches[0].clientX,lastY:t.touches[0].clientY,type:"touch"}))},e.prototype._onTouchMove=function(t){var e=t.touches[0].clientX-this.lastX,i=t.touches[0].clientY-this.lastY;this.scrollDirection||(Math.abs(i)>Math.abs(e)?this.scrollDirection="ns":this.scrollDirection="ew"),"ew"===this.scrollDirection&&(t.preventDefault(),this.move({x:e})),this.lastX=t.touches[0].clientX,this.lastY=t.touches[0].clientY},e.prototype._onTouchEnd=function(){this._enableAnimation(),window.setTimeout(function(){this.stop({type:"touch"})}.bind(this),1)},e.prototype._onMouseDown=function(t){this.isScrollable&&(this._disableAnimation(),this.start({lastX:t.clientX,lastY:t.clientY,type:"mouse"}))},e.prototype._onMouseMove=function(t){var e=t.clientX-this.lastX,i=t.clientY-this.lastY;this.scrollDirection||(Math.abs(i)>Math.abs(e)?this.scrollDirection="ns":this.scrollDirection="ew"),"ew"===this.scrollDirection&&(t.preventDefault(),this.move({x:e})),this.lastX=t.clientX,this.lastY=t.clientY},e.prototype._onMouseUp=function(){this.isDragging&&(this._enableAnimation(),window.setTimeout(function(){this.stop({type:"mouse"})}.bind(this),1))},e.prototype._onScroll=function(t){if(this.isScrollable){this._disableAnimation();var e=t.wheelDeltaX||40*-t.detail;e&&(t.preventDefault(),this.move({x:e,scroll:!0})),this.scrollTimer&&(window.clearTimeout(this.scrollTimer),this.scrollTimer=null),this.scrollTimer=window.setTimeout(this._onScrollEnd.bind(this),100)}},e.prototype._onScrollEnd=function(){this._enableAnimation(),window.setTimeout(function(){this.stop({type:"scroll"})}.bind(this),1)},e.prototype._onLeftClick=function(){this.move({x:this.tabListScrollEl.clientWidth,force:!0}),this.stop({type:"force"})},e.prototype._onRightClick=function(){this.move({x:-this.tabListScrollEl.clientWidth,force:!0}),this.stop({type:"force"})},e.prototype._onFocus=function(t){var e=t.target||t.srcElement,i=(0,g.default)(e,".spark-tabs__tab",this.tabListEl);i&&(0,_.default)(i,"focus")},e.prototype._onBlur=function(t){var e=t.target||t.srcElement,i=(0,g.default)(e,".spark-tabs__tab",this.tabListEl);i&&(0,v.default)(i,"focus")},e}(h.default);S.prototype._whitelistedParams=["useHash","breakpoints"],S.prototype.defaults={el:null,tabListEl:null,tabListScrollEl:null,tabEls:null,panelEls:null,activeTabEl:null,activePanelEl:null,navEl:null,leftEl:null,rightEl:null,useHash:!1,isScrollable:!1,isDragging:!1,isAnimatable:!1,scrollDirection:"",scrollDistance:0,lastX:0,lastY:0,minX:0,maxX:0,x:0,_onFocusBound:null,_onBlurBound:null,_onTabListClickBound:null,_onLeftClickBound:null,_onRightClickBound:null,_onResizeBound:null,_onTouchStartBound:null,_onTouchMoveBound:null,_onTouchEndBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null,_onScrollBound:null},i.default=S,e.exports=i.default},{"../helpers/css/transform":33,"../helpers/dom/add-class":36,"../helpers/dom/breakpoint":37,"../helpers/dom/remove-class":43,"../helpers/dom/toggle-class":44,"../helpers/traversal/get-children":56,"../helpers/traversal/get-index":57,"../helpers/traversal/get-parent":58,"../helpers/traversal/has-parent":62,"./base":1}],24:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("./typeahead"),u=s(h),d=t("../helpers/dom/toggle-class"),c=s(d),p=t("../helpers/util/mixin"),f=s(p),_=t("../mixins/messaging"),m=s(_),v=t("../mixins/validation"),y=s(v),g=t("../helpers/dom/make-element"),b=s(g),E=function(){},w=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._createTypeahead(),s.inputEl.value&&(s.show(),s._onInput()),o(s)):o(s)}return r(e,t),e.prototype.show=function(){return this.isActive=!0,this._updateClass(),this},e.prototype.hide=function(){return this.isActive=!1,this._updateClass(),this},e.prototype.setValue=function(t){return this.typeahead?this.typeahead.setValue(t):(this.inputEl.value=t,t?this.show():this.hide()),this},e.prototype.getValue=function(){return this.inputEl.value},e.prototype.clearValue=function(){return this.typeahead?this.typeahead.clear():this.inputEl.value="",this},e.prototype.disable=function(){return this.typeahead?this.typeahead.disable():this.inputEl.setAttribute("disabled",""),this},e.prototype.enable=function(){return this.typeahead?this.typeahead.enable():this.inputEl.removeAttribute("disabled"),this},e.prototype.remove=function(e){return this.typeahead&&this.typeahead.remove(e),t.prototype.remove.call(this,e)},e.prototype.update=function(e){return this.typeahead&&this.typeahead.remove(),t.prototype.update.call(this,e)},e.prototype._createTypeahead=function(){!0!==this.typeahead&&null===this.inputEl.getAttribute("data-typeahead")||(this.typeahead=new u.default(this.el,{onBlur:this._onBlurBound}))},e.prototype._cacheElements=function(t){if(this.el=t,this.inputEl=this.el.querySelector("input, textarea"),this.passwordToggleEl=this.el.querySelector(".spark-input__password-toggle"),!this.inputEl)throw new Error("No <input> or <textarea> element present in input container!",this.el);this.messageEl=this.el.querySelector(".spark-input__message")||(0,b.default)('<span class="spark-input__message"></span>'),this.clearEl=this.el.querySelector(".spark-input__clear")},e.prototype._parseParams=function(){this.validatePattern=this.validatePattern||this.inputEl.getAttribute("data-validate"),this.type=this.inputEl.getAttribute("type")||"text",this.showCharacters=null!==this.el.getAttribute("data-characters"),this.showCharactersRemaining=null!==this.el.getAttribute("data-characters-remaining"),this.maxlength=this.inputEl.getAttribute("maxlength")||this.inputEl.getAttribute("data-maxlength-soft")||null,this.isTextarea="textarea"===this.inputEl.nodeName.toLowerCase(),this.isActive=!!this.inputEl.value},e.prototype._setCharactersCount=function(){if(this.showCharacters)this.el.setAttribute("data-characters",this.inputEl.value.length);else if(this.showCharactersRemaining){var t=this.maxlength-this.inputEl.value.length;this.el.setAttribute("data-characters-remaining",t),t<1?this.el.setAttribute("data-characters-remaining-danger",!0):this.el.removeAttribute("data-characters-remaining-danger")}},e.prototype._setTextareaHeight=function(){var t=window.getComputedStyle(this.inputEl),e=parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10);this.inputEl.style.height=null;var i,s=this.inputEl.scrollHeight;s||(i=this.inputEl.innerHTML.split("\n"),s=Math.max(parseFloat(t.lineHeight))*i.length+parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)),this.inputEl.style.height=s+e+"px"},e.prototype._bindEventListenerCallbacks=function(){this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onInputBound=this._onInput.bind(this),this._onTogglePasswordViewHideBound=this._onTogglePasswordViewHide.bind(this),this._onClearClickBound=this._onClearClick.bind(this)},e.prototype._addEventListeners=function(){this.inputEl.addEventListener("focus",this._onFocusBound),this.inputEl.addEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("input",this._onInputBound),this.passwordToggleEl&&this.passwordToggleEl.addEventListener("click",this._onTogglePasswordViewHideBound),this.clearEl&&this.clearEl.addEventListener("click",this._onClearClickBound)},e.prototype._removeEventListeners=function(){this.inputEl.removeEventListener("focus",this._onFocusBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("input",this._onInputBound),this.passwordToggleEl&&this.passwordToggleEl.removeEventListener("click",this._onTogglePasswordViewHideBound),this.clearEl&&this.clearEl.removeEventListener("click",this._onClearClickBound)},e.prototype._updateClass=function(){(0,c.default)(this.el,"active",this.isActive)},e.prototype._onFocus=function(){this.show(),this._setCharactersCount(),(0,c.default)(this.el,"focus"),(this.onFocus||E)(this.inputEl.value,this)},e.prototype._onBlur=function(){this.inputEl.value||this.hide(),(0,c.default)(this.el,"focus"),(this.onBlur||E)(this.inputEl.value,this)},e.prototype._onInput=function(){this.validate(),this._setCharactersCount(),this.isTextarea&&this._setTextareaHeight(),(this.onChange||E)(this.inputEl.value,this)},e.prototype._onClearClick=function(){this.inputEl.value="",this.hide(),(this.onChange||E)(this.inputEl.value,this)},e.prototype._onTogglePasswordViewHide=function(t){t.preventDefault(),this.inputEl.setAttribute("type","password"===this.inputEl.getAttribute("type")?"text":"password")},e}(l.default)
;w.prototype._whitelistedParams=["validate","validatePattern","onValidate","onChange","onFocus","onBlur"],w.prototype.defaults={el:null,messageEl:null,inputEl:null,passwordToggleEl:null,clearEl:null,isActive:!1,isTextarea:!1,validatePattern:!1,type:null,showCharacters:!1,showCharactersRemaining:!1,maxlength:null,typeahead:null,onValidate:E,onChange:E,onFocus:E,onBlur:E,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onTogglePasswordViewHideBound:null,_onClearClickBound:null},(0,f.default)(w.prototype,m.default,y.default),i.default=w,e.exports=i.default},{"../helpers/dom/make-element":39,"../helpers/dom/toggle-class":44,"../helpers/util/mixin":66,"../mixins/messaging":71,"../mixins/validation":72,"./base":1,"./typeahead":28}],25:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/traversal/get-parent"),u=s(h),d=function(){},c=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.toggle=function(){return this.input?this.input.checked?this.deactivate():this.activate():this},e.prototype.activate=function(){return this.setValue(!0)},e.prototype.deactivate=function(){return this.setValue(!1)},e.prototype.setValue=function(t){return this.input&&this.input.checked!==t&&(this.input.checked=t,(this.onChange||d)(t,this)),this},e.prototype.getValue=function(){return this.input&&this.input.checked},e.prototype.clearValue=function(){return this.deactivate()},e.prototype.enable=function(){return this.input&&this.input.removeAttribute("disabled"),this},e.prototype.disable=function(){return this.input&&this.input.setAttribute("disabled",""),this},e.prototype._cacheElements=function(t){this.el=t,this.input=t.querySelector(".spark-toggle__input")},e.prototype._bindEventListenerCallbacks=function(){this._onKeydownBound=this._onKeydown.bind(this)},e.prototype._addEventListeners=function(){this.el.addEventListener("keydown",this._onKeydownBound)},e.prototype._removeEventListeners=function(){this.el.removeEventListener("keydown",this._onKeydownBound)},e.prototype._onKeydown=function(t){if((0,u.default)(t.target,".spark-toggle-switch, spark-toggle-switch__handle",this.el)){switch(t.keyCode||t.which){case 32:break;case 13:t.preventDefault(),this.toggle();break;case 39:case 40:t.preventDefault(),this.activate();break;case 37:case 38:t.preventDefault(),this.deactivate()}}},e}(l.default);c.prototype._whitelistedParams=["onChange"],c.prototype.defaults={el:null,input:null,onChange:null,_onKeydownBound:null},i.default=c,e.exports=i.default},{"../helpers/traversal/get-parent":58,"./base":1}],26:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=t("../helpers/util/debounce"),r=s(o),a=t("../helpers/dom/add-class"),l=s(a),h=t("../helpers/dom/has-class"),u=s(h),d=t("../helpers/dom/remove-class"),c=s(d),p=t("../helpers/dom/parse-attribute"),f=function(){function t(e){n(this,t),e&&this._init(e)}return t.prototype.change=function(){this._closeAll(),(0,c.default)(this.el,["ready","show-more","measured"]);for(var t=document.createDocumentFragment(),e=0;e<this.items.length;e++)t.appendChild(this.items[e].el);return this.visibleContainer.appendChild(t),this._initItems(),(0,l.default)(this.el,"measured"),this._calculateStyles(),(0,l.default)(this.el,"ready"),this},t.prototype.update=function(t){return t?(this.remove(!0),this._init(t)):this.change(),this},t.prototype.remove=function(t){this._removeListeners(),delete this.el.sparktoolbarcon,delete this.showMoreButton.sparktoolbarshowmore;for(var e=0;e<this.items.length;e++)this.items[e].remove();return!t&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),this.el=void 0),this},t.prototype.toolbarItem=function(t,e,i){var s={};return s.parent=t,s.el=e,s.priority=s.el.attributes["data-priority"]?s.el.attributes["data-priority"].value:0,s.order=s.el.attributes["data-order"]?s.el.attributes["data-order"].value:i,s.hasContent=!!s.el.querySelector(".spark-toolbar__item--content"),s.helper=s.el.querySelector(".spark-toolbar__item-helper"),s.label=!!s.el.attributes.label&&s.el.attributes.label.value,s.closeOnClick=(0,u.default)(s.el,"spark-toolbar__item--close-more-on-click"),s.width=s.el.offsetWidth,s.height=s.el.offsetHeight,s.dropdown=e.querySelector(".spark-toolbar__item--content"),s.dropdown&&(s.dropdown.sparktoolbardropdown=!0),s.toggleDropdown=function(t){if(void 0!==t?!t:s.toggleDropdown.open)s.toggleDropdown.open=!1,(0,c.default)(s.el,"animate"),window.setTimeout(function(){(0,c.default)(s.el,"open")},100);else if(s.hasContent){s.toggleDropdown.open=!0,(0,l.default)(s.el,"open"),s.positionDropdown();var e=document.createEvent("Event");e.initEvent("spark.visible-children",!0,!0),s.dropdown.dispatchEvent(e),window.setTimeout(function(){(0,l.default)(s.el,"animate")},0)}else s.parent._toggleShowMore(!1)},s.handleClick=function(t){if((0,p.boolean)(s.el,"disabled"))return void t.preventDefault();if(s.toggleDropdown.open)if(t.target===s.el||t.target===s.helper)s.toggleDropdown();else for(var e=t.target;e!==s.el;){if((0,u.default)(e,"spark-toolbar__item--close-on-click")){s.toggleDropdown(!1),s.parent._toggleShowMore(!1);break}e=e.parentElement}else s.toggleDropdown(!0)},s.positionDropdown=function(){if(s.dropdown){s.dropdown.style.left="",s.dropdown.style.right="";var t=s.dropdown.getBoundingClientRect(),e=window.pageXOffset,i=window.pageXOffset+document.documentElement.clientWidth;t.right>i&&(s.dropdown.style.left="inherit",s.dropdown.style.right=0),t.left<e&&(s.dropdown.style.left=0,s.dropdown.style.right="inherit")}},s.remove=function(){s.el&&delete s.el.sparktoolbar,s.dropdown&&delete s.dropdown.sparktoolbardropdown},s.el.sparktoolbar=s,s},t.prototype._closeAll=function(){this._closeItems(),this._toggleShowMore(!1)},t.prototype._getOpenItems=function(){for(var t=[],e=0;e<this.items.length;e++)this.items[e].toggleDropdown.open&&t.push(this.items[e]);return t},t.prototype._closeItems=function(t){t=void 0===t?this._getOpenItems():t;for(var e=0;e<t.length;e++)t[e].toggleDropdown(!1)},t.prototype._init=function(t){this.el=t,this.el.sparktoolbarcon=this,this.visibleContainer=this.el.querySelector(".spark-toolbar__container--visible"),this.hiddenContainer=this.el.querySelector(".spark-toolbar__container--hidden"),this.showMoreButton=this.el.querySelector(".spark-toolbar__show-more"),this.showMoreButton.sparktoolbarshowmore=!0,this.isOpen=!1,this.isFocus=!1,this._setupListeners(),this.el.style.width="100%",this._initItems(),(0,l.default)(this.el,"measured"),this._calculateStyles(),this.tabindex=this.el.attributes.tabindex?this.el.attributes.tabindex.value:0,(0,l.default)(this.el,"ready")},t.prototype._initItems=function(){var t=this.el.querySelectorAll(".spark-toolbar__item");this.items=[];for(var e=0;e<t.length;e++)this.items[e]=new this.toolbarItem(this,t[e],e)},t.prototype._setupListeners=function(){this._handleWindowClick=this._handleWindowClickH.bind(this),document.addEventListener("click",this._handleWindowClick),this._handleResize=(0,r.default)(this._handleResizeH.bind(this),100),window.addEventListener("resize",this._handleResize),this._handleKeyDown=this._handleKeyDownH.bind(this),this.el.addEventListener("keydown",this._handleKeyDown),this._handleFocus=this._handleFocusH.bind(this),document.addEventListener("focus",this._handleFocus,!0),this._handleBlur=this._handleBlurH.bind(this),document.addEventListener("blur",this._handleBlur,!0),this._handleVisibleChildren=this._handleVisibleChildrenH.bind(this),document.addEventListener("spark.visible-children",this._handleVisibleChildren,!0)},t.prototype._removeListeners=function(){document.removeEventListener("click",this._handleWindowClick),window.removeEventListener("resize",this._handleResize),this.el.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("blur",this._handleBlur,!0),document.removeEventListener("focus",this._handleFocus,!0),document.removeEventListener("spark.visible-children",this._handleVisibleChildren,!0)},t.prototype._handleBlurH=function(t){this.el.contains(t.target)&&(this.el.attributes.tabindex.value=this.tabindex)},t.prototype._handleFocusH=function(t){if(this.el.contains(t.target)){if(this.el.attributes.tabindex.value=-1,t.target.sparktoolbarcon)return void this._focusLast();if(t.target.sparktoolbar)return void t.target.sparktoolbar.el.focus();for(var e=t.target;!e.sparktoolbarcon&&!e.sparktoolbar;){if(e.sparktoolbardropdown)return void(this.el.attributes.tabindex.value=this.tabindex);e=e.parentElement}}else this._closeAll(),this.el.attributes.tabindex.value=this.tabindex},t.prototype._focusLast=function(){if(!this._lastFocus){var t=this.visibleContainer.querySelector(".spark-toolbar__item")||this.hiddenContainer.querySelector(".spark-toolbar__item");this._lastFocus=t.sparktoolbar}this.hiddenContainer.contains(this._lastFocus.el)&&this._toggleShowMore(!0),this._lastFocus.el.focus()},t.prototype._handleKeyDownH=function(t){for(var e=t.target;!e.sparktoolbarcon&&!e.sparktoolbar;){if(e.sparktoolbardropdown)return;e=e.parentElement}if(e.sparktoolbar)switch(t.keyCode){case 37:case 38:e.previousSibling&&e.previousSibling.sparktoolbar?(this._lastFocus=e.previousSibling.sparktoolbar,e.previousSibling.focus()):this.visibleContainer.querySelector(".spark-toolbar__item")!==e.sparktoolbar.el&&(e=this.visibleContainer.querySelector(".spark-toolbar__item:last-of-type"))&&(this._toggleShowMore(!1),this._lastFocus=e.sparktoolbar,e.focus()),this._closeItems(),t.preventDefault();break;case 39:case 40:e.nextSibling&&e.nextSibling.sparktoolbar?(this._lastFocus=e.nextSibling.sparktoolbar,e.nextSibling.focus()):this.hiddenContainer.querySelector(".spark-toolbar__item:last-of-type")!==e.sparktoolbar.el&&(e=this.hiddenContainer.querySelector(".spark-toolbar__item"))&&(this._toggleShowMore(!0),this._lastFocus=e.sparktoolbar,e.focus()),this._closeItems(),t.preventDefault();break;case 32:t.preventDefault(),t.target.sparktoolbar&&t.target.sparktoolbar.el.click();break;case 13:t.target.sparktoolbar&&t.target.sparktoolbar.el.click()}},t.prototype._handleVisibleChildrenH=function(t){t.target.contains(this.el)&&window.setTimeout(function(){this.change()}.bind(this),0)},t.prototype._handleWindowClickH=function(t){if((0,p.boolean)(t.target,"disabled"))return void t.preventDefault();if(this.el.contains(t.target)){var e=t.target;if(e===this.visibleContainer||e===this.el)return t.stopPropagation(),void t.preventDefault();for(;e!==this.el;){if(e.sparktoolbar){var i=this._getOpenItems();return i.indexOf(e.sparktoolbar)>=0&&i.splice(i.indexOf(e.sparktoolbar),1),this._closeItems(i),this.hiddenContainer.contains(t.target)||this._toggleShowMore(!1),e.sparktoolbar.handleClick(t)}if(e.sparktoolbarshowmore)return this._closeItems(),void this._toggleShowMore();e=e.parentElement}this._closeAll()}else this._closeItems(),this._toggleShowMore(!1)},t.prototype._toggleShowMore=function(t){(void 0!==t?!t:this.isOpen)?((0,c.default)(this.el,"animate"),window.setTimeout(function(){(0,c.default)(this.el,"open"),this.isOpen=!1}.bind(this),100)):(this.isOpen=!0,(0,l.default)(this.el,"open"),this._positionShowMore(),window.setTimeout(function(){(0,l.default)(this.el,"animate")}.bind(this),0))},t.prototype._positionShowMore=function(){this.hiddenContainer.style.right="0px";var t=this.hiddenContainer.getBoundingClientRect(),e=window.pageXOffset,i=window.pageXOffset+document.documentElement.clientWidth;t.right>i&&(this.hiddenContainer.style.right="calc("+(t.right-i)+"px + 1rem)"),t.left<e&&(this.hiddenContainer.style.right="calc("+(t.left-e)+"px - 1rem)")},t.prototype._handleResizeH=function(){this._closeAll(),this._calculateStyles()},t.prototype._calculateStyles=function(t){this.el.style.width="100%",(t=void 0!==t&&t)||(0,c.default)(this.el,"show-more");var e,i=[],s=[];this.items.sort(this._prioritySort);var n=this.visibleContainer.clientWidth;for(e=0;e<this.items.length;e++)if(n-this.items[e].width>=0)i.push(this.items[e]),n-=this.items[e].width;else{if(!t)return(0,l.default)(this.el,"show-more"),this._calculateStyles(!0);s.push(this.items[e])}i.sort(this._orderSort),s.sort(this._orderSort);var o=document.createDocumentFragment(),r=document.createDocumentFragment();for(e=0;e<i.length;e++)o.appendChild(i[e].el);for(e=0;e<s.length;e++)r.appendChild(s[e].el);this.visibleContainer.appendChild(o),this.hiddenContainer.appendChild(r),this.el.style.width=""},t.prototype._prioritySort=function(t,e){return e.priority-t.priority},t.prototype._orderSort=function(t,e){return t.order-e.order},t}();i.default=f,e.exports=i.default},{"../helpers/dom/add-class":36,"../helpers/dom/has-class":38,"../helpers/dom/parse-attribute":42,"../helpers/dom/remove-class":43,"../helpers/util/debounce":64}],27:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/add-class"),u=s(h),d=t("../helpers/dom/remove-class"),c=s(d),p=t("../helpers/dom/has-class"),f=s(p),_=t("../helpers/dom/toggle-class"),m=s(_),v=t("../helpers/traversal/has-parent"),y=s(v),g=t("../helpers/dom/parse-attribute"),b=t("../helpers/position/affix"),E=s(b),w=t("../helpers/dom/make-element"),k=s(w),C=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),o(s)):o(s)}return r(e,t),e.prototype.open=function(){return this.affix?this:(this.affix=new E.default({el:this.contentEl,targetEl:this.toggleEl,caretEl:this.caretEl,anchorX:this.anchorX,anchorY:this.anchorY}),(0,u.default)(this.contentEl,"active"),this.isActive=!0,this)},e.prototype.close=function(){return this.affix?((0,c.default)(this.contentEl,"active"),this.el.appendChild(this.contentEl),this.affix.remove({keepEl:!0}),this.affix=null,this.isActive=!1,this):this},e.prototype.toggle=function(){return this[this.isActive?"close":"open"]()},e.prototype.update=function(t){return this.affix&&this.affix.update(),this._removeEventListeners(),this._cacheElements(t||this.el),this._addEventListeners(),this},e.prototype.remove=function(e){return this.close(),(0,c.default)(this.el,"tooltip-initialized"),t.prototype.remove.call(this,e)},e.prototype._cacheElements=function(t){this.el=t,this.toggleEl=this.el.querySelector('.spark-tooltip__toggle, [data-role="toggle"]')||this.el,this.contentEl=this.contentEl||this.el.querySelector('[class*="spark-tooltip__content--"]')||this._createContentEl(),this.caretEl=this.el.querySelector(".spark-tooltip__caret")||this._createCaretEl(),this.isActive=(0,f.default)(this.toggleEl,"tooltip-active"),(0,u.default)(this.el,"tooltip-initialized")},e.prototype._parseParams=function(){this.anchorY=null!==this.anchorY?this.anchorY:(0,g.string)(this.el,"data-anchor-y",null),this.anchorX=null!==this.anchorX?this.anchorX:(0,g.string)(this.el,"data-anchor-x",null),this.anchorY||this.anchorX||((0,f.default)(this.contentEl,"spark-tooltip__content--left")?(this.anchorY="middle",this.anchorX="left"):(0,f.default)(this.contentEl,"spark-tooltip__content--right")?(this.anchorY="middle",this.anchorX="right"):(0,f.default)(this.contentEl,"spark-tooltip__content--top")?(this.anchorY="top",this.anchorX="center"):(0,f.default)(this.contentEl,"spark-tooltip__content--bottom")&&(this.anchorY="bottom",this.anchorX="center"))},e.prototype._updateAttributes=function(){(0,m.default)(this.el,"tooltip-active",this.isActive),(0,m.default)(this.contentEl,"tooltip-active",this.isActive),(0,m.default)(this.toggleEl,"active",this.isActive)},e.prototype._bindEventListenerCallbacks=function(){this._onMouseoverBound=this._onMouseover.bind(this),this._onMouseoutBound=this._onMouseout.bind(this),this._onWindowMouseoverBound=this._onWindowMouseover.bind(this)},e.prototype._addEventListeners=function(){this.toggleEl.addEventListener("mouseover",this._onMouseoverBound),this.toggleEl.addEventListener("mouseout",this._onMouseoutBound)},e.prototype._removeEventListeners=function(){this.toggleEl.removeEventListener("mouseover",this._onMouseoverBound),this.toggleEl.removeEventListener("mouseout",this._onMouseoutBound)},e.prototype._addWindowEventListeners=function(){window.addEventListener("mouseover",this._onWindowMouseoverBound)},e.prototype._removeWindowEventListeners=function(){window.removeEventListener("mouseover",this._onWindowMouseoverBound)},e.prototype._createContentEl=function(){return(0,k.default)('<div class="spark-tooltip__content"></div>')},e.prototype._createCaretEl=function(){return(0,k.default)('<div class="spark-tooltip__caret"></div>')},e.prototype._onMouseover=function(){this._addWindowEventListeners(),this.open()},e.prototype._onMouseout=function(){this._removeWindowEventListeners(),this.close()},e.prototype._onWindowMouseover=function(t){t.target===this.el||(0,y.default)(t.target,this.el)||this._onMouseout()},e}(l.default);C.prototype._whitelistedParams=["anchorY","anchorX","contentEl","toggleEl"],C.prototype.defaults={el:null,toggleEl:null,contentEl:null,caretEl:null,isActive:!1,affix:null,anchorY:null,anchorX:null,_onMouseoverBound:null,_onMouseoutBound:null,_onWindowMouseoverBound:null},i.default=C,e.exports=i.default},{"../helpers/dom/add-class":36,"../helpers/dom/has-class":38,"../helpers/dom/make-element":39,"../helpers/dom/parse-attribute":42,"../helpers/dom/remove-class":43,"../helpers/dom/toggle-class":44,"../helpers/position/affix":53,"../helpers/traversal/has-parent":62,"./base":1}],28:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),h=t("../helpers/dom/trigger-event"),u=s(h),d=t("../helpers/dom/parse-attribute"),c=function(){},p=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),r.elRequired=!0,(s=o(this,t.call(this,i,r)))?(s._maintainFocus(function(){this._parseParams(),this._bindEventListenerCallbacks(),this._addEventListeners()}),o(s)):o(s)}return r(e,t),e.prototype.run=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isRunning)return this;this.isRunning=!0;for(var i=this.inputEl.value,s="",n="",o=0,r=this.format.length,a=0,l=!1;o<r;o++)"\\d"===this.format[o]?(this.characters[o-a]?s+=this.characters[o-a]:l=!0,n+=l?this.placeholder[o]:"&nbsp;"):(l||(s+=this.format[o]),n+=this.format[o],a++);return this.isFocused&&(t=void 0===t?this._getCaretEnd():t),this.isFocused&&!this.characters.length&&(t=s.length),!this.characters.length&&e.notOnlyPlaceholders&&(s=""),this.inputEl.value=s,this.placeholderEl.innerHTML=n,this._updateWidth(),this.isFocused&&this._setCaretPositionTranslated(t),s!==i&&(0,u.default)(this.inputEl,"input"),this.isRunning=!1,s!==i&&(this.onChange||c)(s,i,this),!this._atEnd&&this.isFocused&&this.characters.length===this.maxLength&&this._caretIsAtEnd()?(this._atEnd=!0,(this.onEnd||c)(this)):this._atEnd=!1,this},e.prototype.addCharacterAtIndex=function(t,e,i,s){if(this.maxLength&&e>=this.maxLength)return this;if(!s){var n;try{n=new RegExp(this.format[e])}catch(t){}if(!n||!n.exec(t))return this}return this.characters.splice(e,i-e,t),this.maxLength&&this.characters.length>this.maxLength&&this.characters.splice(this.maxLength,this.characters.length),this.run(e+1),this},e.prototype.addCharacterAtCaret=function(t){var e,i=this._getCaretStart();if(void 0===this.format[i])return(this.onEnd||c)(this,t),this;try{e=new RegExp(this.format[i])}catch(t){}return e&&e.exec(t)?(this.addCharacterAtIndex(t,this._getCaretStartTranslated(),this._getCaretEndTranslated(),!0),this):(this._moveCaret("right")&&this.addCharacterAtCaret(t),this)},e.prototype.removeCharacterAtIndex=function(t,e,i){return t+i<0?this:(e=void 0!==e?e:1,this.characters.splice(t+i,e),this.run(t+(i||1)),this)},e.prototype.removeCharacterAtCaret=function(t){var e,i=this._getCaretStartTranslated(),s=this._getCaretEndTranslated(),n=1;return i!==s&&(s<i&&(e=i,i=s,s=e),n=s-i,i++),this.removeCharacterAtIndex(i,n,t),this},e.prototype.removeCharactersInRange=function(){return this.removeCharacterAtIndex(this._getCaretStartTranslated(),this._getCaretEndTranslated()),this},e.prototype.setValue=function(t){return this.settingValue=!0,this.pause(),this.characters=(t+"").split(""),this.run(),this.isFocused&&this._setCaretPosition(this._getCaretStart()),this.resume(),this.settingValue=!1,this},e.prototype.getValue=function(t){return t&&this.inputEl.value?parseInt(this.inputEl.value,10):this.inputEl.value},e.prototype.clearValue=function(){return this.pause(),this.characters=[],this.run(0,{notOnlyPlaceholders:!0}),this.resume()},e.prototype.updateValue=function(){return this.setValue(this.inputEl.value)},e.prototype.moveCaret=function(t){return this._setCaretPositionTranslated(t),this},e.prototype.moveCaretToEnd=function(){return this.moveCaret(this.characters.length)},e.prototype.moveCaretToStart=function(){return this.moveCaret(0)},e.prototype.pause=function(){return this.pauseBlurFocus++,this},e.prototype.resume=function(){return this.pauseBlurFocus--,this},e.prototype.disable=function(){return this.inputEl.setAttribute("disabled",""),this},e.prototype.enable=function(){return this.inputEl.removeAttribute("disabled"),this},e.prototype.clear=function(){return this.clearValue()},e.prototype.remove=function(e){return t.prototype.remove.call(this,e),this},e.prototype._cacheElements=function(t){this.el=t,this.inputEl=this.el.querySelector('[type="text"], [type="email"], [type="phone"], textarea')||this._createDefaultInputElement(),this.placeholderEl=this.el.querySelector(".spark-input__placeholder")||this._createDefaultPlaceholderElement()},e.prototype._parseParams=function(){this.characters=this._parseCharacters(this.inputEl.value),this.format=this._parseFormat(this.format?this.format:this.inputEl.getAttribute("data-typeahead-format")),this.placeholder=this.placeholder?this.placeholder:this.inputEl.getAttribute("placeholder").split(""),this.maxLength=this._getCharactersAllowedCount(this.format),this.matchPlaceholderSize=null!==this.matchPlaceholderSize?this.matchPlaceholderSize:(0,d.boolean)(this.inputEl,"data-match-placeholder-size",!1)},e.prototype._parseFormat=function(t){for(var e=0,i=t.length,s=[],n=!1;e<i;e++)"\\"!==t[e]||n?(s.push((n?"\\":"")+t[e]),n=!1):n=!0;return s},e.prototype._parseCharacters=function(t){for(var e=t.split(""),i=0,s=t.length,n=[],o=[];i<s;i++){try{n[i]="\\"===this.format[i][0]?new RegExp(this.format[i]):null}catch(t){}n[i]&&n[i].exec(e[i])&&o.push(e[i])}return o},e.prototype._createDefaultInputElement=function(){var t=document.createElement("input");return t.className="spark-input__field",t.setAttribute("data-typeahead",""),t.setAttribute("type","tel"),this.el.appendChild(t),t},e.prototype._createDefaultPlaceholderElement=function(){var t=document.createElement("span");return t.className="spark-input__placeholder",this.el.appendChild(t),t},e.prototype._getCharactersAllowedCount=function(t){for(var e=0,i=t.length,s=0;e<i;e++)"\\d"===t[e]&&s++;return s},e.prototype._bindEventListenerCallbacks=function(){this._onKeydownBound=this._onKeydown.bind(this),this._onInputBound=this._onInput.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onPlaceholderClickBound=this._onPlaceholderClick.bind(this)},e.prototype._addEventListeners=function(){this.inputEl.addEventListener("keydown",this._onKeydownBound,!1),this.inputEl.addEventListener("input",this._onInputBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.placeholderEl.addEventListener("click",this._onPlaceholderClickBound,!1)},e.prototype._removeEventListeners=function(){this.inputEl.removeEventListener("keydown",this._onKeydownBound),this.inputEl.removeEventListener("input",this._onInputBound),this.inputEl.removeEventListener("focus",this._onFocusBound),this.placeholderEl.removeEventListener("click",this._onPlaceholderClickBound),window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound)},e.prototype._getCaretStart=function(){return this._maintainFocus(function(){var t;if(document.selection){this.inputEl.focus();var e=document.selection.createRange();e.moveStart("character",-this.inputEl.value.length),t=e.text.length}else(this.inputEl.selectionStart||0===this.inputEl.selectionStart)&&(t=this.inputEl.selectionStart);return t})},e.prototype._getCaretEnd=function(){return this._maintainFocus(function(){var t;if(document.selection){this.inputEl.focus();var e=document.selection.createRange();e.moveStart("character",-this.inputEl.value.length),t=e.text.length}else(this.inputEl.selectionEnd||0===this.inputEl.selectionEnd)&&(t=this.inputEl.selectionEnd);return t})},e.prototype._caretIsAtEnd=function(){return this._getCaretStart()===this.maxLength},e.prototype._setCaretPosition=function(t){return this._maintainFocus(function(){if(document.selection){this.inputEl.focus();var e=document.selection.createRange();e.moveStart("character",-this.inputEl.value.length),e.moveStart("character",t),e.moveEnd("character",0),e.select()}else(this.inputEl.selectionStart||0===this.inputEl.selectionStart)&&(this.inputEl.selectionStart=t,this.inputEl.selectionEnd=t)})},e.prototype._getCaretPositionTranslated=function(t){for(var e=0,i=0;e<t;e++)"\\d"!==this.format[e]&&i++;return t-i},e.prototype._getCaretStartTranslated=function(){return this._getCaretPositionTranslated(this._getCaretStart())},e.prototype._getCaretEndTranslated=function(){return this._getCaretPositionTranslated(this._getCaretEnd())},e.prototype._setCaretPositionTranslated=function(t){for(var e=0,i=0;e<t+i;e++)void 0!==this.format[e]&&"\\d"!==this.format[e]&&i++;this._setCaretPosition(t+i)},e.prototype._moveCaret=function(t){var e=this._getCaretStart();return"left"===t?this._setCaretPosition(e-1):"right"===t&&this._setCaretPosition(e+1),e!==this._getCaretStart()},e.prototype._emptyWhenOnlyPlaceholders=function(){this.characters.length||this.clear()},e.prototype._maintainFocus=function(t){this.pause();var e=document.activeElement;e||(e=document.body);var i=(t||c).call(this);return e!==this.inputEl&&(this.inputEl.blur(),e.focus()),this.resume(),i},e.prototype._updateWidth=function(){this.matchPlaceholderSize&&(this.placeholderEl.style.width="auto",this.inputEl.style.width="auto",this.inputEl.style.width=this.placeholderEl.offsetWidth+2+"px",this.placeholderEl.style.width="")},e.prototype._onKeydown=function(t){var e=t.keyCode||t.which;e===this.pasteCode&&(t.metaKey||t.ctrlKey)||(e===this.actionCodes.BACKSPACE?(this.removeCharacterAtCaret(-1),this._onBackspace(),t.preventDefault()):e===this.actionCodes.DELETE?(this.removeCharacterAtCaret(0),t.preventDefault()):e===this.actionCodes.LEFT?this._getCaretStart()||(this.onBackspace||c)():e===this.actionCodes.RIGHT?this._getCaretStart()===this.characters.length&&(this.onEnd||c)():-1===this.ignoreCodes.indexOf(e)&&(t.preventDefault(),this.addCharacterAtCaret(String.fromCharCode(e))))},e.prototype._onInput=function(t){t.preventDefault(),this.characters=this._parseCharacters(this.inputEl.value),this.run(),(this.onInput||c)(this.getValue(),this)},e.prototype._onFocus=function(){window.removeEventListener("blur",this._onBlurBound),window.addEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.isFocused||this.pauseBlurFocus||this.isRunning||(this.run(),(this.onFocus||c)(this.getValue(),this),this.isFocused=!0,this._oldVal=this.inputEl.value)},e.prototype._onBlur=function(){window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.isFocused=!1,this.pauseBlurFocus||this.isRunning||(this._emptyWhenOnlyPlaceholders(),this._oldVal!==this.inputEl.value&&(0,u.default)(this.inputEl,"change"),(this.onBlur||c)(this.getValue(),this))},e.prototype._onPlaceholderClick=function(t){t.preventDefault(),t.stopPropagation(),this.inputEl.focus()},e.prototype._onBackspace=function(){this._getCaretStart()||(this.onBackspace||c)()},e}(l.default);p.prototype._whitelistedParams=["format","placeholder","matchPlaceholderSize","onChange","onFocus","onBlur","onInput","onBackspace","onEnd"],p.prototype.defaults={el:null,inputEl:null,placeholderEl:null,placeholder:null,characters:null,format:null,ignoreCodes:[9,16,17,18,20,91,93,112,113,114,115,116,117,118,119,120,121,122,123],actionCodes:{BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39},pasteCode:86,pauseBlurFocus:0,matchPlaceholderSize:null,maxLength:null,isFocused:!1,isRunning:!1,onChange:null,onFocus:null,onBlur:null,onInput:null,onBackspace:null,onEnd:null,_atEnd:!1,_oldVal:null,_onInputBound:null,_onKeydownBound:null,_onFocusBound:null,_onBlurBound:null,_onPlaceholderClickBound:null},i.default=p,e.exports=i.default},{"../helpers/dom/parse-attribute":42,"../helpers/dom/trigger-event":45,"./base":1}],29:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i){switch(e){case"overflow":case"visibility":return"visible"===i?"hidden":"visible";default:return"block"===i||"inline-block"===i?"none":"block"}}function o(t){t.toggleClassName?(0,m.default)(t.el,t.toggleClassName,!t.collapse):t.toggleEl.style[t.toggleProperty]="",t.el.style.height="",t.toggleEl.style.height="",t.toggleEl.style.marginBottom="",t.toggleEl.style.marginTop="",(0,c.default)(t.el,t.heightAnimationClass),(0,c.default)(t.toggleEl,t.heightAnimationClass),t.onComplete();var e=y.els.indexOf(t.el);y.els.splice(e,1),y.completeCallbacks.splice(e,1)}function r(t){function e(){var e=(0,l.default)(i),n=void 0,f=void 0;s?(h?(0,c.default)(i,h):a.style[d]=_,f=(0,l.default)(a,p),n=0):(n=(0,l.default)(a,p),f=0),i.style.height=w+"px",a.style.height=f+"px",a.style.marginBottom="0px",a.style.marginTop="0px",(0,u.default)(i,r),(0,u.default)(a,r),y.els.push(i),setTimeout(function(){i.style.height=e+"px",
a.style.height=n+"px",y.completeCallbacks.push(setTimeout(function(){o({el:i,toggleEl:a,onComplete:t.onComplete||v,collapse:s,toggleProperty:d,toggleClassName:h,toggleValue:g,heightAnimationClass:r})},void 0!==t.animationDuration?t.animationDuration:201))},0)}t=t||{};var i=t.el;if(i){var s=t.action&&"collapse"===t.action,r=t.heightAnimationClass||"spark-animate-height",a="string"==typeof t.toggleEl?i.querySelector(t.toggleEl):t.toggleEl;if(a&&!(0,f.default)(i,"spark-no-animate")){var h=t.toggleClass,d=t.toggleProperty||"display",p=window.getComputedStyle(a),_=p[d],g=t.toggleValue||n(d,_),b=y.els.indexOf(i);if(-1!==b){var E=y.completeCallbacks[b];E&&clearTimeout(E),o({el:i,toggleEl:a,onComplete:t.onComplete||v,collapse:s,toggleProperty:d,toggleClassName:h,toggleValue:g,heightAnimationClass:r})}var w=(0,l.default)(i);h?(0,m.default)(i,h,!s):a.style[d]=g,s?setTimeout(e,0):e()}}}Object.defineProperty(i,"__esModule",{value:!0});var a=t("../dom/outer-height"),l=s(a),h=t("../dom/add-class"),u=s(h),d=t("../dom/remove-class"),c=s(d),p=t("../dom/has-class"),f=s(p),_=t("../dom/toggle-class"),m=s(_),v=function(){},y={els:[],completeCallbacks:[]};i.default=r,e.exports=i.default},{"../dom/add-class":36,"../dom/has-class":38,"../dom/outer-height":41,"../dom/remove-class":43,"../dom/toggle-class":44}],30:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(){var t=Date.now(),e=t;return function(i){var s=Date.now(),n=Math.max(0,1e3/60-(s-e)),o=s+n;return e=o,window.setTimeout(function(){i(o-t)},n)}}();i.default=s,e.exports=i.default},{}],31:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t){t=t||{};var e=void 0,i=void 0,s=void 0,n=t.target||window,o=n!==window?n.scrollLeft:n.pageXOffset,a=n!==window?n.scrollTop:n.pageYOffset;t instanceof HTMLElement?(e=(0,r.default)(t),i=e.left,s=e.top,t=arguments[1]||{}):(i=t.x||0,s=t.y||0),(0,l.default)({target:n,prop:"scrollTo",start:[o,a],end:[i,s],duration:t.duration,callback:t.callback})}Object.defineProperty(i,"__esModule",{value:!0});var o=t("../dom/offset"),r=s(o),a=t("./tween"),l=s(a);i.default=n,e.exports=i.default},{"../dom/offset":40,"./tween":32}],32:[function(t,e,i){"use strict";function s(t){t=t||{};var e,i=t.target;if(!i)throw new Error("Cannot tween without a target!");var s="string"==typeof t.prop?[t.prop]:t.prop,n="number"==typeof t.start?[t.start]:t.start,a="number"==typeof t.end?[t.end]:t.end,l=t.duration||250,h=t.callback||r;if(n.length!==a.length)throw new Error("Cannot tween two different sets of parameters!");var u=function t(r){e||(e=r);for(var u=r-e,d=Math.min(u/l,1),c=[],p=0,f=n.length;p<f;p++)c[p]=n[p]+(a[p]-n[p])*d;p=0,f=s.length;for(var _;p<f;p++)_=p+1===f&&c.length-1>p?c.slice(p):c[p],"function"==typeof i[s[p]]?i[s[p]].apply(i,_):i[s[p]]=_;u<l?(0,o.default)(t):h()};return(0,o.default)(u)}Object.defineProperty(i,"__esModule",{value:!0});var n=t("./request"),o=function(t){return t&&t.__esModule?t:{default:t}}(n),r=function(){};i.default=s,e.exports=i.default},{"./request":30}],33:[function(t,e,i){"use strict";function s(t,e){var i="";return(0,r.default)(a,function(s){if("object"===(void 0===e?"undefined":n(e))){i+=s+"transform: ";for(var o in e)i+=o+"("+e[o]+"); "}else i+=s+"transform: "+t+"("+e+"); "}),i}Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("../util/each"),r=function(t){return t&&t.__esModule?t:{default:t}}(o),a=["-webkit-","-moz-","-o-","-ms-",""];i.default=s,e.exports=i.default},{"../util/each":65}],34:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["Sun","Mon","Tues","Wed","Thur","Fri","Sat"],a=[],l=[],h=0,u={create:function(t){t=t instanceof Date?t:new Date(t.year,t.month-1,t.day);var e=Object.create(u);return e._date=t,e._cache={},e},get year(){return this._instanceCheck("year"),this._date.getFullYear()},set year(t){return this._instanceCheck("year"),this._clearCache(),this._date.setFullYear(t)},get month(){return this._instanceCheck("month"),this._date.getMonth()+1},set month(t){return this._instanceCheck("month"),this._clearCache(),this._date.setMonth(t-1)},get day(){return this._instanceCheck("day"),this._date.getDate()},set day(t){return this._instanceCheck("day"),this._clearCache(),this._date.setDate(t)},set:function(t){t=t||{},this.year=t.year||this.year,this.month=t.month||this.month,this.day=t.day||this.day},getMonthName:function(t){return s[t-1]},get monthName(){return this._instanceCheck("monthName"),u.getMonthName(this.month)},getMonthNames:function(){return s},getMonthNameShort:function(t){return n[t-1]},get monthNameShort(){return this._instanceCheck("monthName"),u.getMonthNameShort(this.month)},getMonthNamesShort:function(){return n},setMonthNames:function(t){12===t.length&&(s=t)},setMonthNamesShort:function(t){12===t.length&&(n=t)},getDayOfWeek:function(t){var e=(t instanceof Date?t:new Date(t.year,t.month-1,t.day)).getDay()-h;return(e<0?7-Math.abs(e):e)+1},get dayOfWeek(){return u.getDayOfWeek(this._date)},getDayName:function(t){return o[t-1+h]||o[o.length-t-1+h]},get dayName(){return this._instanceCheck("dayName"),u.getDayName(this.dayOfWeek)},getDayNames:function(){return a.length?a:o},getDayNameShort:function(t){return r[t-1+h]||o[o.length-t-1+h]},get dayNameShort(){return this._instanceCheck("dayNameShort"),u.getDayNameShort(this.dayOfWeek)},getDayNamesShort:function(){return l.length?l:r},setDayNames:function(t){7===t.length&&(o=t)},setDayNamesShort:function(t){7===t.length&&(r=t)},getWeekStartsOn:function(){return h},setWeekStartsOn:function(t){h=t,t?(a=o.slice(h),a=a.concat(o.slice(0,h)),l=r.slice(h),l=l.concat(r.slice(0,h))):(a=[],l=[])},now:function(){return u.create(new Date)},getNextYear:function(t){return u.create(new Date(t.year+1,t.month-1,t.day))},get nextYear(){return this._instanceCheck("nextYear"),this._cache.nextYear||(this._cache.nextYear=u.getNextYear(this))},getWeekStart:function(t){var e=u.create(new Date(t.year,t.month-1,t.day-u.getDayOfWeek(t)+1));return e.weekStartsOn=h,e},get weekStart(){return this._instanceCheck("weekStart"),this._cache.weekStart&&this._cache.weekStart.weekStartsOn===h?this._cache.weekStart:this._cache.weekStart=u.getWeekStart(this)},getMonthStart:function(t){return u.create(new Date(t.year,t.month-1,1))},get monthStart(){return this._instanceCheck("monthStart"),this._cache.monthStart||(this._cache.monthStart=u.getMonthStart(this))},getNextWeek:function(t){var e=u.getWeekStart(t);return u.create(new Date(e.year,e.month-1,e.day+7))},get nextWeek(){return this._instanceCheck("nextWeek"),this._cache.nextWeek||(this._cache.nextWeek=u.getNextWeek(this))},getNextDay:function(t){return u.create(new Date(t.year,t.month-1,t.day+1))},get nextDay(){return this._instanceCheck("nextDay"),this._cache.nextDay||(this._cache.nextDay=u.getNextDay(this))},getNextMonth:function(t){return 31===t.day&&1!==t.month&&7!==t.month&&12!==t.month?u.create(new Date(t.year,t.month,t.day-1)):t.day>28&&1===t.month?u.create(new Date(t.year,t.month+1,0)):u.create(new Date(t.year,t.month,t.day))},get nextMonth(){return this._instanceCheck("nextMonth"),this._cache.nextMonth||(this._cache.nextMonth=u.getNextMonth(this))},getPreviousYear:function(t){return u.create(new Date(t.year-1,t.month-1,t.day))},get previousYear(){return this._instanceCheck("previousYear"),this._cache.previousYear||(this._cache.previousYear=u.getPreviousYear(this))},getPreviousWeek:function(t){var e=u.getWeekStart(t),i=u.create(new Date(e.year,e.month-1,e.day-7));return i.weekStartsOn=h,i},get previousWeek(){return this._instanceCheck("previousWeek"),this._cache.previousWeek||(this._cache.previousWeek=u.getPreviousWeek(this))},getPreviousDay:function(t){return u.create(new Date(t.year,t.month-1,t.day-1))},get previousDay(){return this._instanceCheck("previousDay"),this._cache.previousDay||(this._cache.previousDay=u.getPreviousDay(this))},getPreviousMonth:function(t){return 31===t.day&&1!==t.month&&3!==t.month&&8!==t.month?u.create(new Date(t.year,t.month-2,t.day-1)):t.day>28&&3===t.month?u.create(new Date(t.year,t.month-1,0)):u.create(new Date(t.year,t.month-2,t.day))},get previousMonth(){return this._instanceCheck("previousMonth"),this._cache.previousMonth||(this._cache.previousMonth=u.getPreviousMonth(this))},getMonthEnd:function(t){return u.create(new Date(t.year,t.month,0))},get monthEnd(){return this._instanceCheck("monthEnd"),this._cache.monthEnd||(this._cache.monthEnd=u.getMonthEnd(this))},equal:function(t,e,i){return this.equalDay(t,e,i)},equalDay:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)e[n]&&t.year===e[n].year&&t.month===e[n].month&&t.day===e[n].day&&r++;return i?r===o:!!r},equalWeek:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)e[n]&&t.weekStart.equalDay(e[n].weekStart)&&r++;return i?r===o:!!r},equalMonth:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)!e[n]||t.year!==e[n].year||t.year===e[n].year&&t.month!==e[n].month||r++;return i?r===o:!!r},equalYear:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)e[n]&&t.year===e[n].year&&r++;return i?r===o:!!r},before:function(t,e,i){return this.beforeDay(t,e,i)},beforeDay:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)!e[n]||t._date>=e[n]._date||r++;return i?r===o:!!r},beforeWeek:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)e[n]&&t.weekStart.beforeDay(e[n].weekStart)&&r++;return i?r===o:!!r},beforeMonth:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)!e[n]||t.year>e[n].year||t.year===e[n].year&&t.month>=e[n].month||r++;return i?r===o:!!r},beforeYear:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)!e[n]||t.year>=e[n].year||r++;return i?r===o:!!r},after:function(t,e,i){return this.afterDay(t,e,i)},afterDay:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)!e[n]||t._date<=e[n]._date||r++;return i?r===o:!!r},afterWeek:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)e[n]&&t.weekStart.afterDay(e[n].weekStart)&&r++;return i?r===o:!!r},afterMonth:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)!e[n]||t.year<e[n].year||t.year===e[n].year&&t.month<=e[n].month||r++;return i?r===o:!!r},afterYear:function(t,e,i){var s=this._checkComparisonArgs(t,e,i);t=s[0],e=s[1],i=s[2];for(var n=0,o=e.length,r=0;n<o;n++)!e[n]||t.year<=e[n].year||r++;return i?r===o:!!r},earliest:function(t){for(var e=0,i=t.length,s=void 0;e<i;e++)s&&!t[e].before(s)||(s=t[e]);return s},latest:function(t){for(var e=0,i=t.length,s=void 0;e<i;e++)s&&!t[e].after(s)||(s=t[e]);return s},clone:function(t){if(!t&&this._date&&this._date instanceof Date&&u.isPrototypeOf(this)&&(t=this),!t)throw new Error("Must pass a date to clone or call on an instance.");return u.create(new Date(t._date.valueOf()))},_checkComparisonArgs:function(t,e,i){if(void 0===e||"boolean"==typeof e){if(!u.isPrototypeOf(this))throw new Error("Cannot compare only one date!");i=e,e=t,t=this}return e=e instanceof Array?e:[e],[t,e,i]},_instanceCheck:function(t){if(!(this._date&&this._date instanceof Date&&u.isPrototypeOf(this)))throw new Error('Cannot access the property "'+t+'" of the date helper with creating an instance!')},_clearCache:function(){this._instanceCheck("clearCache"),this._cache={}}};i.default=u,e.exports=i.default},{}],35:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t){return function(e){for(var i=0,s=0,n=t.length,o={};i<n;i++){if(-1!==["day","month","year"].indexOf(t[i].name)){if(e.length<s+t[i].length)return;o[t[i].name]=parseInt(e.substr(s,t[i].length),10)}s+=t[i].length}return u.default.create(o)}}function o(t){return function(e){for(var i=0,s=t.length,n="";i<s;i++)e[t[i].name]?n+=(0,l.default)(e[t[i].name],t[i].length):n+=t[i].value;return n}}function r(t){for(var e=t.toLowerCase(),i=0,s=e.length,r={parts:[]};i<s;i++)d[e[i]]&&r.parts.length&&r.parts[r.parts.length-1].name===d[e[i]]?(r.parts[r.parts.length-1].length++,r.parts[r.parts.length-1].value+=t[i]):r.parts.push({name:d[e[i]]?d[e[i]]:"",value:t[i],length:1});return r.getValues=n(r.parts),r.getString=o(r.parts),r}Object.defineProperty(i,"__esModule",{value:!0});var a=t("../util/pad"),l=s(a),h=t("./date"),u=s(h),d={d:"day",m:"month",y:"year","-":"divider","/":"divider"," ":"space"};i.default=r,e.exports=i.default},{"../util/pad":67,"./date":34}],36:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(e=2===arguments.length&&"string"==typeof e?(0,r.default)(e).split(h):e instanceof Array?e:Array.prototype.slice.call(arguments,1),1===e.length&&t.classList)return e[0]&&t.classList.add(e[0]),t;for(var i=[],s=0,n=e.length,o=void 0,a="string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"";s<n;s++)(o=e[s])&&!(0,l.default)(a,o)&&i.push(o);return i.length&&("string"==typeof t.className?t.className=(0,r.default)((a+" "+i.join(" ")).replace(u," ")):t.setAttribute&&t.setAttribute("class",(0,r.default)((a+" "+i.join(" ")).replace(u," ")))),t}Object.defineProperty(i,"__esModule",{value:!0});var o=t("../util/trim"),r=s(o),a=t("./has-class"),l=s(a),h=/\s+/,u=/\s{2,}/g;i.default=n,e.exports=i.default},{"../util/trim":70,"./has-class":38}],37:[function(t,e,i){"use strict";function s(t,e){e=e||n;var i=void 0;for(i in e)if(t>=e[i].min&&t<=e[i].max)return i}Object.defineProperty(i,"__esModule",{value:!0});var n={xs:{min:0,max:543},sm:{min:544,max:795},md:{min:796,max:1047},lg:{min:1048,max:1799},xl:{min:1800,max:1/0}};i.get=s},{}],38:[function(t,e,i){"use strict";function s(t,e){return-1!==(" "+("object"===(void 0===t?"undefined":n(t))?t.className||t.getAttribute&&t.getAttribute("class")||"":t||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+e+" ")}Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.default=s,e.exports=i.default},{}],39:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){if(!t)throw new Error("Cannot create element with no HTML!");var e=document.createElement("div");e.innerHTML=t;var i=e.children[0];return i.parentNode.removeChild(i),i},e.exports=i.default},{}],40:[function(t,e,i){"use strict";function s(t,e){var i={top:0,left:0};if(t.getBoundingClientRect){var s=t.getBoundingClientRect();i.left=s.left,i.top=s.top,e||(i.left+=void 0!==window.scrollX?window.scrollX:window.pageXOffset,i.top+=void 0!==window.scrollY?window.scrollY:window.pageYOffset)}else{var n=0,o=0;do{n+=t.offsetLeft-(e?0:t.scrollLeft),o+=t.offsetTop-(e?0:t.scrollTop)}while(t=t.offsetParent);i.left=n,i.top=o}return i}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],41:[function(t,e,i){"use strict";function s(t,e){e=e||window.getComputedStyle(t);var i=t.clientHeight;return(0,o.default)(r,function(t){i+=parseInt(e[t]||0,10)}),i}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../util/each"),o=function(t){return t&&t.__esModule?t:{default:t}}(n),r=["marginTop","marginBottom","borderTop","borderBottom"];i.default=s,e.exports=i.default},{"../util/each":65}],42:[function(t,e,i){"use strict";function s(t,e,i){var s=t.getAttribute(e);return null===s?i:"true"===s||""===s}function n(t,e,i){var s=t.getAttribute(e);return null===s?i:parseInt(s,10)}function o(t,e,i){var s=t.getAttribute(e);return null===s?i:s}Object.defineProperty(i,"__esModule",{value:!0}),i.boolean=s,i.number=n,i.string=o},{}],43:[function(t,e,i){"use strict";function s(t,e){if(e=2===arguments.length&&"string"==typeof e?(0,o.default)(e).split(r):e instanceof Array?e:Array.prototype.slice.call(arguments,1),1===e.length&&t.classList)return e[0]&&t.classList.remove(e[0]),t;for(var i=" "+("string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"")+" ",s=i,n=void 0,l=void 0,h=0,u=e.length;h<u;h++)n=e[h],-1!==(l=n?s.indexOf(" "+n+" "):-1)&&(l+=1,s=s.slice(0,l)+s.slice(l+n.length));return i!==s&&("string"==typeof t.className?t.className=(0,o.default)(s.replace(a," ")):t.setAttribute&&t.setAttribute("class",(0,o.default)(s.replace(a," ")))),t}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../util/trim"),o=function(t){return t&&t.__esModule?t:{default:t}}(n),r=/\s+/,a=/\s{2,}/g;i.default=s,e.exports=i.default},{"../util/trim":70}],44:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i){if(t){if(!(t instanceof NodeList||t instanceof Array)){var s=void 0;return void 0!==i?(i="function"==typeof i?i.call(null,t):i,s=i?"add":"remove"):s=(0,r.default)(t,e)?"remove":"add",("add"===s?l.default:u.default)(t,e)}for(var o=0,a=t.length;o<a;o++)n(t[o],e,i)}}Object.defineProperty(i,"__esModule",{value:!0});var o=t("./has-class"),r=s(o),a=t("./add-class"),l=s(a),h=t("./remove-class"),u=s(h);i.default=n,e.exports=i.default},{"./add-class":36,"./has-class":38,"./remove-class":43}],45:[function(t,e,i){"use strict";function s(t,e){var i=void 0;document.createEvent?(i=document.createEvent("HTMLEvents"),i.initEvent(e,!0,!0),i.eventName=e,t.dispatchEvent(i)):(i=document.createEventObject(),i.eventType=e,i.eventName=e,t.fireEvent("on"+i.eventType,i))}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],46:[function(t,e,i){"use strict";function s(t){var e=document.createElement("select"),i="",s=t.attributes,o=t.selected instanceof Array?t.selected:t.selected?[t.selected]:[],r=t.options,a=void 0,l=r.length;for(a in s)e.setAttribute(a,s[a]);for(a=0;a<l;a++)"object"===n(r[a])?i+='<option value="'+r[a].value+'" '+(-1!==o.indexOf(r[a].value)?"selected":"")+">"+r[a].text+"</option>":i+='<option value="'+r[a]+'" '+(-1!==o.indexOf(r[a])?"selected":"")+">"+r[a]+"</option>";return e.innerHTML=i,e}Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.default=s,e.exports=i.default},{}],47:[function(t,e,i){"use strict";function s(t,e){(0,l.default)(t.querySelectorAll("input, select, textarea"),function(t){e(t)})}function n(t){s(t,function(t){var e=t.nodeName.toLowerCase(),i=void 0;switch(e){case"select":i=t.selectedIndex;break;default:i=encodeURI(t.value)}t.setAttribute("data-stored-value",i)})}function o(t){s(t,function(t){var e=t.nodeName.toLowerCase(),i=t.getAttribute("data-stored-value");if(i||""===i){switch(e){case"select":t.options[i].selected=!0;break;default:t.value=decodeURI(i)}t.removeAttribute("data-stored-value")}})}function r(t){s(t,function(t){t.removeAttribute("data-stored-value")})}Object.defineProperty(i,"__esModule",{value:!0}),i.clear=i.restore=i.store=void 0;var a=t("../util/each"),l=function(t){return t&&t.__esModule?t:{default:t}}(a);i.store=n,i.restore=o,i.clear=r},{"../util/each":65}],48:[function(t,e,i){"use strict";function s(t,e,i){var s=document.activeElement;if(e=e<0?t.value.length+e+1:e,i=i<0?t.value.length+i+1:i,document.selection){t.focus();var n=document.selection.createRange();n.moveStart("character",-t.value.length),n.moveStart("character",e),n.moveEnd("character",void 0!==i?i:e),n.select()}else(t.selectionStart||0===t.selectionStart)&&(t.selectionStart=e,t.selectionEnd=void 0!==i?i:e);return s!==t&&(t.blur(),s.focus()),{start:e,end:i}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],49:[function(t,e,i){"use strict";function s(t,e,i){if(i=void 0!==i&&i,i&&(t.textContent=""),e instanceof window.HTMLCollection)for(;e.length;)t.appendChild(e[0]);else(0,o.default)(e,function(e){e&&t.appendChild(e)})}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../util/each"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default=s,e.exports=i.default},{"../util/each":65}],50:[function(t,e,i){"use strict";function s(t,e){(0,o.default)(t.attributes,function(t){e.setAttribute(t.name,t.value)})}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../util/each"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default=s,e.exports=i.default},{"../util/each":65}],51:[function(t,e,i){"use strict";function s(t,e,i){(0,o.default)(i,function(i){t.insertBefore(i,e)})}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../util/each"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default=s,e.exports=i.default},{"../util/each":65}],52:[function(t,e,i){"use strict";function s(t,e){return e=e||document.createElement("div"),t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e.appendChild(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],53:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=t("../dom/offset"),r=s(o),a=t("./box-position"),l=s(a),h=t("../util/debounce"),u=s(h),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.el=e.el,this.targetEl=e.targetEl,this.caretEl=e.caretEl,this.anchorY=e.anchorY||"top",this.anchorX=e.anchorX||"center",this.isFixed=e.isFixed||!1,this._addEventListeners(),this._insertEl(),this._setPosition(),this._updateDebounced=(0,u.default)(this.update.bind(this),500)}return t.prototype.remove=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).keepEl||this._removeEl(),this._removeEventListeners(),this},t.prototype.update=function(){return this._setPosition(),this},t.prototype._addEventListeners=function(){this._onResizeBound=this._onResize.bind(this),this._onScrollBound=this._onScroll.bind(this),window.addEventListener("resize",this._onResizeBound),window.addEventListener("scroll",this._onScrollBound)},t.prototype._removeEventListeners=function(){window.removeEventListener("resize",this._onResizeBound),window.removeEventListener("scroll",this._onScrollBound)},t.prototype._insertEl=function(){this.el.setAttribute("data-affixed",""),this._getRootEl().appendChild(this.el)},t.prototype._removeEl=function(){this.el.parentNode.removeChild(this.el),this.el.removeAttribute("data-affixed")},t.prototype._setPosition=function(){this.el.style.setProperty("position",this.isFixed?"fixed":"absolute","important");var t=(0,r.default)(this.targetEl,this.isFixed),e=t.top,i=t.left,s=this.targetEl.offsetWidth,n=this.targetEl.offsetHeight,o=this.el.offsetWidth,a=this.el.offsetHeight,l=document.documentElement.offsetHeight,h=document.documentElement.offsetWidth,u=this._calculatePosition({anchorX:this.anchorX,anchorY:this.anchorY,targetTop:e,targetLeft:i,elHeight:a,elWidth:o,targetHeight:n,targetWidth:s,minX:0,minY:0,maxX:h-o,maxY:Math.max(l-a,0)}),d=u.elTop,c=u.elLeft,p=this._positionCaret({elLeft:c,elTop:d,elWidth:o,elHeight:a,targetHeight:n,targetWidth:s,targetLeft:i,targetTop:e}),f=p.extraLeft,_=p.extraTop;this.el.style.left=c+f+"px",this.el.style.top=d+_+"px"},t.prototype._calculatePosition=function(t){t.previousAttempts=(t.previousAttempts||0)+1,t.previousChecks=t.previousChecks||[];var e=t.previousAttempts>3,i=void 0,s=void 0;switch(t.anchorY){case"bottom":i=t.targetTop+t.targetHeight;break;case"middle":i=t.targetTop-(t.elHeight-t.targetHeight)/2;break;default:i=t.targetTop-t.elHeight}if(i<t.minY){if(!e&&-1===t.previousChecks.indexOf("overY"))return t.previousChecks.push("underY"),t.anchorY=this._getNewAnchorY(!0,t.anchorY,t.anchorX),this._calculatePosition(t);i=t.minY}switch(t.anchorX){case"right":s=t.targetLeft+("middle"===t.anchorY||t.isOverlapping?t.targetWidth:0);break;case"center":s=t.targetLeft-(t.elWidth-t.targetWidth)/2;break;default:s=t.targetLeft-t.elWidth+("middle"!==t.anchorY?t.targetWidth:0)}if(s<t.minX){if(!e&&-1===t.previousChecks.indexOf("overX"))return t.previousChecks.push("underX"),t.anchorX=this._getNewAnchorX(!0,t.anchorX,t.anchorY),this._calculatePosition(t);s=t.minX}if(s>t.maxX){if(!e&&-1===t.previousChecks.indexOf("underX"))return t.previousChecks.push("overX"),t.anchorX=this._getNewAnchorX(!1,t.anchorX,t.anchorY),this._calculatePosition(t);s=t.maxX}if("overlap"===(0,l.default)({width:t.elWidth,height:t.elHeight,left:s,top:i},{width:t.targetWidth,height:t.targetHeight,left:t.targetLeft,top:t.targetTop})){if(t.isOverlapping=!0,!1!==t.repositionY)return t.repositionY=!t.repositionY,t.anchorY=this._getNewAnchorY(t.repositionY,"middle",t.anchorX),t.previousAttempts--,this._calculatePosition(t);if(!1!==t.repositionX)return t.repositionX=!t.repositionX,t.anchorX=this._getNewAnchorX(t.repositionX,"center",t.anchorY),t.previousAttempts--,this._calculatePosition(t)}return{elTop:i,elLeft:s,anchorX:t.anchorX,anchorY:t.anchorY}},t.prototype._getNewAnchorY=function(t,e,i){return"center"===i||"middle"===e?t?"bottom":"top":"middle"},t.prototype._getNewAnchorX=function(t,e,i){return"middle"===i||"center"===e?t?"left":"right":"center"},t.prototype._positionCaret=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.caretEl){var e=(0,l.default)({width:t.elWidth,height:t.elHeight,left:t.elLeft,top:t.elTop},{width:t.targetWidth,height:t.targetHeight,left:t.targetLeft,top:t.targetTop}),i=this.caretEl.getBoundingClientRect(),s=i.width,n=i.height,o=Math.min(t.elWidth,Math.max(0,t.targetLeft-t.elLeft+t.targetWidth/2)),r=Math.min(t.elHeight,Math.max(0,t.targetTop-t.elTop+t.targetHeight/2));this.caretEl.style.left=Math.round(o)+"px",this.caretEl.style.top=Math.round(r)+"px";var a=0,h=0;switch(this.caretEl.setAttribute("data-position",e),e){case"above":h=-s/2;break;case"below":h=s/2;break;case"left":a=-n/2;break;default:a=n/2}return{extraLeft:a,extraTop:h}}},t.prototype._getRootEl=function(){var t=document.querySelector("body > form");return t&&null===t.getAttribute("data-affixed")?t:document.body},t.prototype._onResize=function(){this.update()},t.prototype._onScroll=function(){this._updateDebounced()},t}();i.default=d,e.exports=i.default},{"../dom/offset":40,"../util/debounce":64,"./box-position":54}],54:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){var i=t.left+t.width,s=t.top+t.height,n=e.left+e.width,o=e.top+e.height;return i<=e.left?"left":t.left>=n?"right":s<=e.top?"above":t.top>=o?"below":"overlap"},e.exports=i.default},{}],55:[function(t,e,i){"use strict";function s(t,e){for(var i=0,s=t.children.length;i<s;i++)if((0,o.default)(t.children[i],e))return t.children[i];return null}Object.defineProperty(i,"__esModule",{value:!0});var n=t("./matches"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default=s,e.exports=i.default},{"./matches":63}],56:[function(t,e,i){"use strict";function s(t,e){for(var i=[],s=0,n=t.children.length;s<n;s++)(0,o.default)(t.children[s],e)&&i.push(t.children[s]);return i}Object.defineProperty(i,"__esModule",{value:!0});var n=t("./matches"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default=s,e.exports=i.default},{"./matches":63}],57:[function(t,e,i){"use strict";function s(t,e){return Array.prototype.indexOf.call(t,e)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],58:[function(t,e,i){"use strict";function s(t,e,i){for(i=i instanceof Array?i:[i||document.body];t;){if((0,o.default)(t,e))return t;if(-1!==i.indexOf(t))return!1;t=t.parentNode}return!1}Object.defineProperty(i,"__esModule",{value:!0});var n=t("./matches"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default=s,e.exports=i.default},{"./matches":63}],59:[function(t,e,i){"use strict";function s(t,e,i){for(var s=[];t=(0,o.default)(t.parentNode,e,i);)s.push(t);return s}Object.defineProperty(i,"__esModule",{value:!0});var n=t("./get-parent"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default=s,e.exports=i.default},{"./get-parent":58}],60:[function(t,e,i){"use strict";function s(t,e){for(;t=t.nextElementSibling;)if((0,o.default)(t,e))return t;return null}Object.defineProperty(i,"__esModule",{value:!0});var n=t("./matches"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default=s,e.exports=i.default},{"./matches":63}],61:[function(t,e,i){"use strict";function s(t,e){for(;t=t.previousElementSibling;)if((0,o.default)(t,e))return t;return null}Object.defineProperty(i,"__esModule",{value:!0});var n=t("./matches"),o=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default=s,e.exports=i.default},{"./matches":63}],62:[function(t,e,i){"use strict";function s(t,e){for(var i=t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],63:[function(t,e,i){"use strict";function s(t,e){if(n)return n.call(t,e);for(var i=t.parentNode?t.parentNode.querySelectorAll(e):[],s=0;s<i.length;s++)if(i[s]===t)return!0;return!1}Object.defineProperty(i,"__esModule",{value:!0});var n="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);i.default=s,e.exports=i.default},{}],64:[function(t,e,i){"use strict";function s(t,e){var i=void 0;return function(){var s=arguments;i&&window.clearTimeout(i),i=window.setTimeout(function(){t.apply(this,s)},e)}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],65:[function(t,e,i){"use strict";function s(t,e){if(t){if("function"!=typeof e)throw new Error("Cannot invoke `each` without a callback!");var i=0,s=t.length;if(void 0===s)for(i in t)"prototype"!==i&&t.hasOwnProperty(i)&&e(i,t[i]);else for(;i<s;i++)e(t[i])}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],66:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];(0,n.default)(i,function(e){for(var i in e)e.hasOwnProperty(i)&&!t[i]&&(t[i]=e[i])})};var s=t("./each"),n=function(t){return t&&t.__esModule?t:{default:t}}(s);e.exports=i.default},{"./each":65}],67:[function(t,e,i){"use strict";function s(t,e,i){return i=i||"0",t+="",t.length>=e?t:new Array(e-t.length+1).join(i)+t}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],68:[function(t,e,i){"use strict";function s(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var s=Math.max(Math.ceil((e-t)/i),0),n=new Array(s),o=0;o<s;o++,t+=i)n[o]=t;return n}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],69:[function(t,e,i){"use strict";function s(t,e){e=void 0!==e?e:2;var i=Math.pow(10,e);return Math.round(t*i)/i}Object.defineProperty(i,"__esModule",{
value:!0}),i.default=s,e.exports=i.default},{}],70:[function(t,e,i){"use strict";function s(t){return t.replace(n,"")}Object.defineProperty(i,"__esModule",{value:!0});var n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;i.default=s,e.exports=i.default},{}],71:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=t("../helpers/animation/height"),n=function(t){return t&&t.__esModule?t:{default:t}}(s);i.default={setError:function(t){return this._isMessageVisible()||this._showMessage(),this.clearWarning(),this.clearSuccess(),this.el.setAttribute("data-error",!0),t&&this.setMessage(t),this},clearError:function(){return this.el.removeAttribute("data-error",!0),this},setWarning:function(t){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearSuccess(),this.el.setAttribute("data-warning",!0),t&&this.setMessage(t),this},clearWarning:function(){return this.el.removeAttribute("data-warning",!0),this},setSuccess:function(t){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearWarning(),this.el.setAttribute("data-success",!0),t&&this.setMessage(t),this},clearSuccess:function(){return this.el.removeAttribute("data-success",!0),this},clearMessages:function(){return this._hideMessage(function(){this.clearError(),this.clearWarning(),this.clearSuccess()}.bind(this)),this},setMessage:function(t){return this.messageEl.innerHTML=t,this},_showMessage:function(){this.messageEl.parentNode||this.el.appendChild(this.messageEl),(0,n.default)({el:this.el,toggleEl:this.messageEl})},_hideMessage:function(t){(0,n.default)({el:this.el,toggleEl:this.messageEl,toggleValue:"none",action:"collapse",onComplete:t})},_isMessageVisible:function(){return this.el.getAttribute("data-error")||this.el.getAttribute("data-warning")||this.el.getAttribute("data-success")}},e.exports=i.default},{"../helpers/animation/height":29}],72:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={validate:function(){var t=this.validatePattern;if(!this.onValidate||!t)return this;var e=new RegExp(t);return this.onValidate(e.test(this.getValue()),this.getValue(),this),this}},e.exports=i.default},{}],73:[function(t,e,i){"use strict";var s=t("./spark"),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(s),o="spark";for(var r in n)!function(t,e){$.fn[o+t.charAt(0).toUpperCase()+t.substr(1)]=function(i){for(var s=arguments.length,n=Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];return this.each(function(){var s=$(this),r=s.data(o+"."+t);if(r||s.data(o+"."+t,r=new e(this)),"string"==typeof i){if("_"===i[0])throw new Error('Cannot access private method "'+i+'" on the '+t+" class.");if("function"!=typeof r[i])throw new Error('No method "'+i+'" is defined on the '+t+" class.");r[i].apply(r,n)}return r})}}(r,n[r])},{"./spark":74}],74:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0}),i.FilterModule=i.Filter=i.Tooltip=i.ScrollToTop=i.Toolbar=i.ToggleSwitch=i.TextInput=i.Tabs=i.Table=i.StepIndicator=i.Slider=i.SelectInput=i.RangeSlider=i.ProgressIndicator=i.Popover=i.NumberSelector=i.MultiSelectInput=i.Modal=i.Menu=i.Header=i.Expand=i.DateInput=i.Carousel=i.CalendarPopover=i.Base=void 0;var n=t("./components/base"),o=s(n),r=t("./components/calendar-popover"),a=s(r),l=t("./components/carousel"),h=s(l),u=t("./components/date-input"),d=s(u),c=t("./components/expand"),p=s(c),f=t("./components/header"),_=s(f),m=t("./components/menu"),v=s(m),y=t("./components/modal"),g=s(y),b=t("./components/multi-select-input"),E=s(b),w=t("./components/number-selector"),k=s(w),C=t("./components/popover"),x=s(C),B=t("./components/progress-indicator"),S=s(B),L=t("./components/range-slider"),M=s(L),T=t("./components/select-input"),A=s(T),I=t("./components/slider"),D=s(I),O=t("./components/table"),P=s(O),F=t("./components/tabs"),V=s(F),R=t("./components/text-input"),z=s(R),q=t("./components/toggle-switch"),j=s(q),N=t("./components/toolbar"),H=s(N),W=t("./components/tooltip"),X=s(W),Y=t("./components/scroll-to-top"),K=s(Y),U=t("./components/step-indicator"),G=s(U),J=t("./components/filter"),Q=s(J),$=t("./components/filter-module"),Z=s($);i.Base=o.default,i.CalendarPopover=a.default,i.Carousel=h.default,i.DateInput=d.default,i.Expand=p.default,i.Header=_.default,i.Menu=v.default,i.Modal=g.default,i.MultiSelectInput=E.default,i.NumberSelector=k.default,i.Popover=x.default,i.ProgressIndicator=S.default,i.RangeSlider=M.default,i.SelectInput=A.default,i.Slider=D.default,i.StepIndicator=G.default,i.Table=P.default,i.Tabs=V.default,i.TextInput=z.default,i.ToggleSwitch=j.default,i.Toolbar=H.default,i.ScrollToTop=K.default,i.Tooltip=X.default,i.Filter=Q.default,i.FilterModule=Z.default},{"./components/base":1,"./components/calendar-popover":2,"./components/carousel":3,"./components/date-input":4,"./components/expand":7,"./components/filter":9,"./components/filter-module":8,"./components/header":10,"./components/menu":11,"./components/modal":12,"./components/multi-select-input":13,"./components/number-selector":14,"./components/popover":15,"./components/progress-indicator":16,"./components/range-slider":17,"./components/scroll-to-top":18,"./components/select-input":19,"./components/slider":20,"./components/step-indicator":21,"./components/table":22,"./components/tabs":23,"./components/text-input":24,"./components/toggle-switch":25,"./components/toolbar":26,"./components/tooltip":27}]},{},[73])(73)});