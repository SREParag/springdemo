/* sabre-spark - v2.2.0 - 2017-4-25 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Spark||(t.Spark={})).Expand=e()}}(function(){return function e(t,o,n){function l(r,a){if(!o[r]){if(!t[r]){var i="function"==typeof require&&require;if(!a&&i)return i(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var d=o[r]={exports:{}};t[r][0].call(d.exports,function(e){var o=t[r][1][e];return l(o||e)},d,d.exports,e,t,o,n)}return o[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)l(n[r]);return l}({1:[function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var l=e("../helpers/util/each"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),r=function(){},a=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),o.elRequired&&!t||(this.setParams(this.defaults||{},!0),this.setParams(o),(this._cacheElements||r).call(this,t,o),(this._parseParams||r).call(this))}return e.prototype.remove=function(e){return this._removeEventListeners&&this._removeEventListeners(),!e&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},e.prototype.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||r).call(this,e||this.el,t),(this._parseParams||r).call(this),this._addEventListeners&&this._addEventListeners(),this},e.prototype.setParams=function(e,t){var o=this;return(0,s.default)(e,function(e,n){(-1!==o._whitelistedParams.indexOf(e)||t)&&(o[e]=n)}),this},e.prototype.unsetParams=function(e,t){return e=e instanceof Array?e:Object.keys(e),t=t||this,(0,s.default)(e,function(e){delete t[e]}),this},e}();a.prototype._whitelistedParams=[],a.prototype.defaults={},o.default=a,t.exports=o.default},{"../helpers/util/each":11}],2:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var a=e("./base"),i=n(a),u=e("../helpers/animation/height"),d=n(u),c=e("../helpers/dom/toggle-class"),f=n(c),p=e("../helpers/dom/has-class"),h=n(p),g=e("../helpers/traversal/get-parent"),y=n(g),m=function(){},v=function(e){function t(o){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l(this,t),r.elRequired=!0,(n=s(this,e.call(this,o,r)))?(n._bindEventListenerCallbacks(),n._addEventListeners(),s(n)):s(n)}return r(t,e),t.prototype.expand=function(){(this.onBeforeExpand||m)(),(0,d.default)({el:this.el,toggleClass:"expanded",toggleEl:".spark-expand__content, .spark-panel__content"}),this.isExpanded=!0,this._updateClasses();var e=document.createEvent("Event");return e.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(e),this.el.querySelector("input")&&this.el.querySelector("input").focus(),(this.onAfterExpand||m)(),this},t.prototype.collapse=function(){return(this.onBeforeCollapse||m)(),(0,d.default)({el:this.el,toggleEl:".spark-expand__content, .spark-panel__content",toggleValue:"none",action:"collapse"}),this.isExpanded=!1,this._updateClasses(),(this.onAfterCollapse||m)(),this},t.prototype.toggle=function(){return this[this.isExpanded?"collapse":"expand"]()},t.prototype._cacheElements=function(e){this.el=e,this.isExpanded=(0,h.default)(this.el,"expanded")},t.prototype._updateClasses=function(){(0,f.default)(this.el,"expanded",this.isExpanded)},t.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onKeydownBound=this._onKeydown.bind(this)},t.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("keydown",this._onKeydownBound)},t.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("keydown",this._onKeydownBound)},t.prototype._onClick=function(e){(0,y.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)&&(e.preventDefault(),this.toggle())},t.prototype._onKeydown=function(e){if((0,y.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)){var t=e.keyCode||e.which;32!==t&&13!==t||(e.preventDefault(),this.toggle())}},t}(i.default);v.prototype._whitelistedParams=["onBeforeExpand","onAfterExpand","onBeforeCollapse","onAfterCollapse"],v.prototype.defaults={el:null,isExpanded:!1,onBeforeExpand:null,onAfterExpand:null,onBeforeCollapse:null,onAfterCollapse:null,_onClickBound:null,_onKeydownBound:null},o.default=v,t.exports=o.default},{"../helpers/animation/height":3,"../helpers/dom/has-class":5,"../helpers/dom/toggle-class":8,"../helpers/traversal/get-parent":9,"./base":1}],3:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t,o){switch(t){case"overflow":case"visibility":return"visible"===o?"hidden":"visible";default:return"block"===o||"inline-block"===o?"none":"block"}}function s(e){e.toggleClassName?(0,y.default)(e.el,e.toggleClassName,!e.collapse):e.toggleEl.style[e.toggleProperty]="",e.el.style.height="",e.toggleEl.style.height="",e.toggleEl.style.marginBottom="",e.toggleEl.style.marginTop="",(0,f.default)(e.el,e.heightAnimationClass),(0,f.default)(e.toggleEl,e.heightAnimationClass),e.onComplete();var t=v.els.indexOf(e.el);v.els.splice(t,1),v.completeCallbacks.splice(t,1)}function r(e){function t(){var t=(0,i.default)(o),l=void 0,h=void 0;n?(u?(0,f.default)(o,u):a.style[c]=g,h=(0,i.default)(a,p),l=0):(l=(0,i.default)(a,p),h=0),o.style.height=x+"px",a.style.height=h+"px",a.style.marginBottom="0px",a.style.marginTop="0px",(0,d.default)(o,r),(0,d.default)(a,r),v.els.push(o),setTimeout(function(){o.style.height=t+"px",a.style.height=l+"px",v.completeCallbacks.push(setTimeout(function(){s({el:o,toggleEl:a,onComplete:e.onComplete||m,collapse:n,toggleProperty:c,toggleClassName:u,toggleValue:_,heightAnimationClass:r})},void 0!==e.animationDuration?e.animationDuration:201))},0)}e=e||{};var o=e.el;if(o){var n=e.action&&"collapse"===e.action,r=e.heightAnimationClass||"spark-animate-height",a="string"==typeof e.toggleEl?o.querySelector(e.toggleEl):e.toggleEl;if(a&&!(0,h.default)(o,"spark-no-animate")){var u=e.toggleClass,c=e.toggleProperty||"display",p=window.getComputedStyle(a),g=p[c],_=e.toggleValue||l(c,g),b=v.els.indexOf(o);if(-1!==b){var E=v.completeCallbacks[b];E&&clearTimeout(E),s({el:o,toggleEl:a,onComplete:e.onComplete||m,collapse:n,toggleProperty:c,toggleClassName:u,toggleValue:_,heightAnimationClass:r})}var x=(0,i.default)(o);u?(0,y.default)(o,u,!n):a.style[c]=_,n?setTimeout(t,0):t()}}}Object.defineProperty(o,"__esModule",{value:!0});var a=e("../dom/outer-height"),i=n(a),u=e("../dom/add-class"),d=n(u),c=e("../dom/remove-class"),f=n(c),p=e("../dom/has-class"),h=n(p),g=e("../dom/toggle-class"),y=n(g),m=function(){},v={els:[],completeCallbacks:[]};o.default=r,t.exports=o.default},{"../dom/add-class":4,"../dom/has-class":5,"../dom/outer-height":6,"../dom/remove-class":7,"../dom/toggle-class":8}],4:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(t=2===arguments.length&&"string"==typeof t?(0,r.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1),1===t.length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var o=[],n=0,l=t.length,s=void 0,a="string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"";n<l;n++)(s=t[n])&&!(0,i.default)(a,s)&&o.push(s);return o.length&&("string"==typeof e.className?e.className=(0,r.default)((a+" "+o.join(" ")).replace(d," ")):e.setAttribute&&e.setAttribute("class",(0,r.default)((a+" "+o.join(" ")).replace(d," ")))),e}Object.defineProperty(o,"__esModule",{value:!0});var s=e("../util/trim"),r=n(s),a=e("./has-class"),i=n(a),u=/\s+/,d=/\s{2,}/g;o.default=l,t.exports=o.default},{"../util/trim":12,"./has-class":5}],5:[function(e,t,o){"use strict";function n(e,t){return-1!==(" "+("object"===(void 0===e?"undefined":l(e))?e.className||e.getAttribute&&e.getAttribute("class")||"":e||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+t+" ")}Object.defineProperty(o,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o.default=n,t.exports=o.default},{}],6:[function(e,t,o){"use strict";function n(e,t){t=t||window.getComputedStyle(e);var o=e.clientHeight;return(0,s.default)(r,function(e){o+=parseInt(t[e]||0,10)}),o}Object.defineProperty(o,"__esModule",{value:!0});var l=e("../util/each"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),r=["marginTop","marginBottom","borderTop","borderBottom"];o.default=n,t.exports=o.default},{"../util/each":11}],7:[function(e,t,o){"use strict";function n(e,t){if(t=2===arguments.length&&"string"==typeof t?(0,s.default)(t).split(r):t instanceof Array?t:Array.prototype.slice.call(arguments,1),1===t.length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var o=" "+("string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"")+" ",n=o,l=void 0,i=void 0,u=0,d=t.length;u<d;u++)l=t[u],-1!==(i=l?n.indexOf(" "+l+" "):-1)&&(i+=1,n=n.slice(0,i)+n.slice(i+l.length));return o!==n&&("string"==typeof e.className?e.className=(0,s.default)(n.replace(a," ")):e.setAttribute&&e.setAttribute("class",(0,s.default)(n.replace(a," ")))),e}Object.defineProperty(o,"__esModule",{value:!0});var l=e("../util/trim"),s=function(e){return e&&e.__esModule?e:{default:e}}(l),r=/\s+/,a=/\s{2,}/g;o.default=n,t.exports=o.default},{"../util/trim":12}],8:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t,o){if(e){if(!(e instanceof NodeList||e instanceof Array)){var n=void 0;return void 0!==o?(o="function"==typeof o?o.call(null,e):o,n=o?"add":"remove"):n=(0,r.default)(e,t)?"remove":"add",("add"===n?i.default:d.default)(e,t)}for(var s=0,a=e.length;s<a;s++)l(e[s],t,o)}}Object.defineProperty(o,"__esModule",{value:!0});var s=e("./has-class"),r=n(s),a=e("./add-class"),i=n(a),u=e("./remove-class"),d=n(u);o.default=l,t.exports=o.default},{"./add-class":4,"./has-class":5,"./remove-class":7}],9:[function(e,t,o){"use strict";function n(e,t,o){for(o=o instanceof Array?o:[o||document.body];e;){if((0,s.default)(e,t))return e;if(-1!==o.indexOf(e))return!1;e=e.parentNode}return!1}Object.defineProperty(o,"__esModule",{value:!0});var l=e("./matches"),s=function(e){return e&&e.__esModule?e:{default:e}}(l);o.default=n,t.exports=o.default},{"./matches":10}],10:[function(e,t,o){"use strict";function n(e,t){if(l)return l.call(e,t);for(var o=e.parentNode?e.parentNode.querySelectorAll(t):[],n=0;n<o.length;n++)if(o[n]===e)return!0;return!1}Object.defineProperty(o,"__esModule",{value:!0});var l="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);o.default=n,t.exports=o.default},{}],11:[function(e,t,o){"use strict";function n(e,t){if(e){if("function"!=typeof t)throw new Error("Cannot invoke `each` without a callback!");var o=0,n=e.length;if(void 0===n)for(o in e)"prototype"!==o&&e.hasOwnProperty(o)&&t(o,e[o]);else for(;o<n;o++)t(e[o])}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=n,t.exports=o.default},{}],12:[function(e,t,o){"use strict";function n(e){return e.replace(l,"")}Object.defineProperty(o,"__esModule",{value:!0});var l=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;o.default=n,t.exports=o.default},{}]},{},[2])(2)});