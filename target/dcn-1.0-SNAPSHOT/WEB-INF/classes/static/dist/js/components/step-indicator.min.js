/* sabre-spark - v2.2.0 - 2017-4-25 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.Spark||(e.Spark={})).StepIndicator=t()}}(function(){return function t(e,i,s){function n(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return n(i||t)},c,c.exports,t,e,i,s)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<s.length;r++)n(s[r]);return n}({1:[function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../helpers/util/each"),o=function(t){return t&&t.__esModule?t:{default:t}}(n),r=function(){},a=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,t),i.elRequired&&!e||(this.setParams(this.defaults||{},!0),this.setParams(i),(this._cacheElements||r).call(this,e,i),(this._parseParams||r).call(this))}return t.prototype.remove=function(t){return this._removeEventListeners&&this._removeEventListeners(),!t&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},t.prototype.update=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||r).call(this,t||this.el,e),(this._parseParams||r).call(this),this._addEventListeners&&this._addEventListeners(),this},t.prototype.setParams=function(t,e){var i=this;return(0,o.default)(t,function(t,s){(-1!==i._whitelistedParams.indexOf(t)||e)&&(i[t]=s)}),this},t.prototype.unsetParams=function(t,e){return t=t instanceof Array?t:Object.keys(t),e=e||this,(0,o.default)(t,function(t){delete e[t]}),this},t}();a.prototype._whitelistedParams=[],a.prototype.defaults={},i.default=a,e.exports=i.default},{"../helpers/util/each":6}],2:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=s(a),d=t("../helpers/dom/add-class"),c=s(d),u=t("../helpers/dom/remove-class"),p=s(u),h=t("../helpers/dom/has-class"),_=s(h),f=function(){},y=function(t){function e(i){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,e),(s=o(this,t.call(this,i,r)))?(s._bindEventListenerCallbacks(),s._addEventListeners(),s._calculateStyle(),o(s)):o(s)}return r(e,t),e.prototype.update=function(t){return this._removeEventListeners(),this._cacheElements(t||this.el),this._parseParams(),this._addEventListeners(),this._calculateStyle(),this},e.prototype._cacheElements=function(t){this.el=t,this.containerEl=this.containerEl||t.parentNode,this._body=this.el.querySelector(".spark-step-indicator__body"),this._list=this.el.querySelector(".spark-step-indicator__list"),this._items=this.el.querySelectorAll(".spark-step-indicator__item")},e.prototype._parseParams=function(){this.type=null!==this.type?this.type:this.el.attributes["data-type"]&&this.el.attributes["data-type"].value,this.header=null!==this.header?this.header:this.el.attributes["data-header"]&&!0,this.subtitle=null!==this.subtitle?this.subtitle:this.el.attributes["data-subtitle"]&&!0},e.prototype._bindEventListenerCallbacks=function(){this._onResizeBound=this._onResize.bind(this),this._onLoadBound=this._onLoad.bind(this),this._onVisibleBound=this._onVisible.bind(this),this._toggleDropdownBound=this._toggleDropdown.bind(this)},e.prototype._addEventListeners=function(){window.addEventListener("resize",this._onResizeBound),document.addEventListener("spark.visible-children",this._onVisibleBound,!0),window.addEventListener("load",this._onLoadBound)},e.prototype._removeEventListeners=function(){window.removeEventListener("resize",this._onResizeBound),document.removeEventListener("spark.visible-children",this._onVisibleBound,!0),document.removeEventListener("click",this._toggleDropdownBound),window.removeEventListener("load",this._onLoadBound)},e.prototype._resetStepState=function(t){t<0||t>=this._items.length||(0,p.default)(this._items[t],["spark-step-indicator__item--completed","spark-step-indicator__item--current","spark-step-indicator__item--disabled"])},e.prototype.setStepState=function(t,e){if(t<0||t>=this._items.length)return this;switch(e){case"completed":this._resetStepState(t),(0,c.default)(this._items[t],"spark-step-indicator__item--completed");break;case"current":var i=this._list.querySelector(".spark-step-indicator__item--current");(0,p.default)(i,"spark-step-indicator__item--current"),(0,c.default)(this._items[t],"spark-step-indicator__item--current");break;case"disabled":this._resetStepState(t),(0,c.default)(this._items[t],"spark-step-indicator__item--disabled");break;case"incomplete":this._resetStepState(t)}return this._calculateStyle(),this},e.prototype.bindStepClickCallback=function(t,e){e=e||f;for(var i=0;i<t.length;i++)this._items[t[i]].addEventListener("click",e);return this},e.prototype.removeStepClickCallback=function(t,e){e=e||f;for(var i=0;i<t.length;i++)this._items[t[i]].removeEventListener("click",e);return this},e.prototype._isOverWidth=function(){for(var t=this._list.offsetWidth,e=this._listPaddingTotal,i=0;i<this._items.length;i++)e+=this._items[i].offsetWidth;return t+2<e},e.prototype._calculateStyle=function(){if(!this.header){this.el.querySelector(".spark-step-indicator__title").style.display="none",(0,c.default)(this._body,"spark-step-indicator__body--no-border")}if(!this.subtitle){this.el.querySelector(".spark-step-indicator__subtitle").style.display="none"}switch(this._switchFromDropdown(),this.type){case"standard-dropdown":this._calculateRespStyle();break;case"large":this._calculateLargeStyle();break;case"condensed":this._calculateCondensedStyle();break;case"dropdown":this._calculateDropdownStyle();break;default:this._calculateStandardStyle()}!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/))&&this._addItemWidth()},e.prototype._addItemWidth=function(){if((0,_.default)(this._list,"spark-step-indicator__list--condensed")||(0,_.default)(this._body,"spark-step-indicator__body--dropdown"))this._switchWidthForIe11(0,!1);else{for(var t=this._list.offsetWidth,e=this._listPaddingTotal,i=0;i<this._items.length;i++)e+=this._items[i].offsetWidth;t-e>2?this._switchWidthForIe11(0,!0):this._switchWidthForIe11(0,!1)}},e.prototype._switchWidthForIe11=function(t,e){for(var i=t;i<this._items.length;i++)this._items[i].style.width=e?"100%":""},e.prototype._calculateLargeStyle=function(){this._list.style["flex-wrap"]="wrap";for(var t=this._list.offsetWidth,e=this._listPaddingTotal,i=0;i<this._items.length;i++)(0,p.default)(this._items[i],"noline"),e+=this._items[i].offsetWidth,t+2<e&&i>0&&((0,c.default)(this._items[i-1],"noline"),e=this._items[i].offsetWidth+this._listPaddingTotal)},e.prototype._calculateCondensedStyle=function(){(0,c.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()},e.prototype._calculateDropdownStyle=function(){this._switchToDropdown()},e.prototype._calculateStandardStyle=function(){this._list.style.visibility="hidden";for(var t=0;t<this._items.length;t++)(0,p.default)(this._items[t],"noline");(0,p.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,c.default)(this._list,"spark-step-indicator__list--condensed"),this._calculateLargeStyle()),this._list.style.visibility="visible"},e.prototype._calculateRespStyle=function(){this._list.style.visibility="hidden",(0,p.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,c.default)(this._list,"spark-step-indicator__list--condensed"),this._isOverWidth()&&((0,p.default)(this._list,"spark-step-indicator__list--condensed"),this._switchToDropdown())),this._list.style.visibility="visible"},e.prototype._createDropdownHeader=function(){var t=document.createElement("a"),e=this._list.querySelector(".spark-step-indicator__item--current");e||(e=this._items[0]),t.innerHTML=e.innerHTML,t.innerHTML+='<span class="spark-step-indicator__notice">Select a Step</span>';var i=document.createElement("span"),s=Array.prototype.indexOf.call(this._items,e);i.innerHTML=s+1+" of "+this._items.length,i.className="spark-step-indicator__label--dropdown",t.appendChild(i),t.className=e.className,(0,c.default)(t,"spark-step-indicator__item--dropdown__header"),this._dropdownHeader=t},e.prototype._switchToDropdown=function(){(0,c.default)(this._body,"spark-step-indicator__body--dropdown"),this._createDropdownHeader(),this._list.parentNode.insertBefore(this._dropdownHeader,this._list),document.removeEventListener("click",this._toggleDropdownBound),document.addEventListener("click",this._toggleDropdownBound),(0,c.default)(this._list,"collapse")},e.prototype._switchFromDropdown=function(){(0,p.default)(this._body,"spark-step-indicator__body--dropdown");var t=this._list.parentNode.querySelector(".spark-step-indicator__item--dropdown__header");document.removeEventListener("click",this._toggleDropdownBound),t&&this._list.parentNode.removeChild(t),(0,p.default)(this._list,"collapse")},e.prototype._toggleDropdown=function(t){var e=t.target||t.srcElement;if(this._dropdownHeader.contains(e)?this._dropdownExpand?((0,c.default)(this._list,"collapse"),(0,p.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1):((0,p.default)(this._list,"collapse"),(0,c.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!0):((0,c.default)(this._list,"collapse"),(0,p.default)(this._dropdownHeader,"expand"),this._dropdownExpand=!1),this._list.offsetHeight>0)for(var i=0,s=0;s<this._items.length;s++){if((0,_.default)(this._items[s],"spark-step-indicator__item--current")){this._list.scrollTop=i;break}i+=this._items[s].offsetHeight}},e.prototype._onLoad=function(){var t=getComputedStyle(this._list),e=parseInt(t.getPropertyValue("padding-left"),10),i=parseInt(t.getPropertyValue("padding-right"),10);this._listPaddingTotal=e+i,this._calculateStyle()},e.prototype._onResize=function(){this._calculateStyle()},e.prototype._onVisible=function(t){t.target.contains(this.el)&&window.setTimeout(function(){this._calculateStyle()}.bind(this),0)},e}(l.default);y.prototype._whitelistedParams=["type","header","subtitle"],y.prototype.defaults={el:null,containerEl:null,header:null,subtitle:null,type:null,_body:null,_list:null,_listPaddingTotal:0,_dropdownExpand:!1,_dropdownHeader:null,_items:null,_onResizeBound:null,_onVisibleBound:null},i.default=y,e.exports=i.default},{"../helpers/dom/add-class":3,"../helpers/dom/has-class":4,"../helpers/dom/remove-class":5,"./base":1}],3:[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(e=2===arguments.length&&"string"==typeof e?(0,r.default)(e).split(d):e instanceof Array?e:Array.prototype.slice.call(arguments,1),1===e.length&&t.classList)return e[0]&&t.classList.add(e[0]),t;for(var i=[],s=0,n=e.length,o=void 0,a="string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"";s<n;s++)(o=e[s])&&!(0,l.default)(a,o)&&i.push(o);return i.length&&("string"==typeof t.className?t.className=(0,r.default)((a+" "+i.join(" ")).replace(c," ")):t.setAttribute&&t.setAttribute("class",(0,r.default)((a+" "+i.join(" ")).replace(c," ")))),t}Object.defineProperty(i,"__esModule",{value:!0});var o=t("../util/trim"),r=s(o),a=t("./has-class"),l=s(a),d=/\s+/,c=/\s{2,}/g;i.default=n,e.exports=i.default},{"../util/trim":7,"./has-class":4}],4:[function(t,e,i){"use strict";function s(t,e){return-1!==(" "+("object"===(void 0===t?"undefined":n(t))?t.className||t.getAttribute&&t.getAttribute("class")||"":t||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+e+" ")}Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.default=s,e.exports=i.default},{}],5:[function(t,e,i){"use strict";function s(t,e){if(e=2===arguments.length&&"string"==typeof e?(0,o.default)(e).split(r):e instanceof Array?e:Array.prototype.slice.call(arguments,1),1===e.length&&t.classList)return e[0]&&t.classList.remove(e[0]),t;for(var i=" "+("string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"")+" ",s=i,n=void 0,l=void 0,d=0,c=e.length;d<c;d++)n=e[d],-1!==(l=n?s.indexOf(" "+n+" "):-1)&&(l+=1,s=s.slice(0,l)+s.slice(l+n.length));return i!==s&&("string"==typeof t.className?t.className=(0,o.default)(s.replace(a," ")):t.setAttribute&&t.setAttribute("class",(0,o.default)(s.replace(a," ")))),t}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../util/trim"),o=function(t){return t&&t.__esModule?t:{default:t}}(n),r=/\s+/,a=/\s{2,}/g;i.default=s,e.exports=i.default},{"../util/trim":7}],6:[function(t,e,i){"use strict";function s(t,e){if(t){if("function"!=typeof e)throw new Error("Cannot invoke `each` without a callback!");var i=0,s=t.length;if(void 0===s)for(i in t)"prototype"!==i&&t.hasOwnProperty(i)&&e(i,t[i]);else for(;i<s;i++)e(t[i])}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,e.exports=i.default},{}],7:[function(t,e,i){"use strict";function s(t){return t.replace(n,"")}Object.defineProperty(i,"__esModule",{value:!0});var n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;i.default=s,e.exports=i.default},{}]},{},[2])(2)});