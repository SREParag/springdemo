/* sabre-spark - v2.2.0 - 2017-4-25 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.Spark||(t.Spark={})).Table=e()}}(function(){return function e(t,o,n){function i(l,r){if(!o[l]){if(!t[l]){var a="function"==typeof require&&require;if(!r&&a)return a(l,!0);if(s)return s(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var d=o[l]={exports:{}};t[l][0].call(d.exports,function(e){var o=t[l][1][e];return i(o||e)},d,d.exports,e,t,o,n)}return o[l].exports}for(var s="function"==typeof require&&require,l=0;l<n.length;l++)i(n[l]);return i}({1:[function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var i=e("../helpers/util/each"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(){},r=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),o.elRequired&&!t||(this.setParams(this.defaults||{},!0),this.setParams(o),(this._cacheElements||l).call(this,t,o),(this._parseParams||l).call(this))}return e.prototype.remove=function(e){return this._removeEventListeners&&this._removeEventListeners(),!e&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},e.prototype.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||l).call(this,e||this.el,t),(this._parseParams||l).call(this),this._addEventListeners&&this._addEventListeners(),this},e.prototype.setParams=function(e,t){var o=this;return(0,s.default)(e,function(e,n){(-1!==o._whitelistedParams.indexOf(e)||t)&&(o[e]=n)}),this},e.prototype.unsetParams=function(e,t){return e=e instanceof Array?e:Object.keys(e),t=t||this,(0,s.default)(e,function(e){delete t[e]}),this},e}();r.prototype._whitelistedParams=[],r.prototype.defaults={},o.default=r,t.exports=o.default},{"../helpers/util/each":17}],2:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var r=e("./base"),a=n(r),u=e("../helpers/animation/height"),d=n(u),c=e("../helpers/dom/toggle-class"),h=n(c),p=e("../helpers/dom/has-class"),f=n(p),_=e("../helpers/traversal/get-parent"),v=n(_),y=function(){},b=function(e){function t(o){var n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,t),l.elRequired=!0,(n=s(this,e.call(this,o,l)))?(n._bindEventListenerCallbacks(),n._addEventListeners(),s(n)):s(n)}return l(t,e),t.prototype.expand=function(){(this.onBeforeExpand||y)(),(0,d.default)({el:this.el,toggleClass:"expanded",toggleEl:".spark-expand__content, .spark-panel__content"}),this.isExpanded=!0,this._updateClasses();var e=document.createEvent("Event");return e.initEvent("spark.visible-children",!0,!0),this.el.dispatchEvent(e),this.el.querySelector("input")&&this.el.querySelector("input").focus(),(this.onAfterExpand||y)(),this},t.prototype.collapse=function(){return(this.onBeforeCollapse||y)(),(0,d.default)({el:this.el,toggleEl:".spark-expand__content, .spark-panel__content",toggleValue:"none",action:"collapse"}),this.isExpanded=!1,this._updateClasses(),(this.onAfterCollapse||y)(),this},t.prototype.toggle=function(){return this[this.isExpanded?"collapse":"expand"]()},t.prototype._cacheElements=function(e){this.el=e,this.isExpanded=(0,f.default)(this.el,"expanded")},t.prototype._updateClasses=function(){(0,h.default)(this.el,"expanded",this.isExpanded)},t.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onKeydownBound=this._onKeydown.bind(this)},t.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound),this.el.addEventListener("keydown",this._onKeydownBound)},t.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("keydown",this._onKeydownBound)},t.prototype._onClick=function(e){(0,v.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)&&(e.preventDefault(),this.toggle())},t.prototype._onKeydown=function(e){if((0,v.default)(e.target,'.spark-expand__toggle, [data-role="toggle"], [role="heading"]',this.el)){var t=e.keyCode||e.which;32!==t&&13!==t||(e.preventDefault(),this.toggle())}},t}(a.default);b.prototype._whitelistedParams=["onBeforeExpand","onAfterExpand","onBeforeCollapse","onAfterCollapse"],b.prototype.defaults={el:null,isExpanded:!1,onBeforeExpand:null,onAfterExpand:null,onBeforeCollapse:null,onAfterCollapse:null,_onClickBound:null,_onKeydownBound:null},o.default=b,t.exports=o.default},{"../helpers/animation/height":4,"../helpers/dom/has-class":6,"../helpers/dom/toggle-class":9,"../helpers/traversal/get-parent":13,"./base":1}],3:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(o,"__esModule",{value:!0});var r=e("./base"),a=n(r),u=e("./expand"),d=n(u),c=e("../helpers/form/set-caret"),h=n(c),p=e("../helpers/form/form-data"),f=e("../helpers/util/each"),_=n(f),v=e("../helpers/dom/has-class"),y=n(v),b=e("../helpers/dom/toggle-class"),m=n(b),g=e("../helpers/dom/add-class"),E=n(g),w=e("../helpers/dom/remove-class"),k=n(w),C=e("../helpers/traversal/get-parent"),x=n(C),S=e("../helpers/traversal/get-index"),R=n(S),A=e("../helpers/traversal/get-sibling-before"),B=n(A),L=e("../helpers/traversal/get-sibling-after"),M=n(L),T=e("../helpers/traversal/matches"),z=n(T),O=function(){},P=function(e){function t(o){var n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,t),l.elRequired=!0,(n=s(this,e.call(this,o,l)))?(n._bindEventListenerCallbacks(),n._addEventListeners(),n._initRows(),(n.isSpreadsheet||n.isEditRows)&&n._deactivateAllInputs(),n.isResizable&&n._initResize(),n._disableRowsColumnsCells(),n._initExpands(),s(n)):s(n)}return l(t,e),t.prototype.disableCell=function(e){return e.disabled=!0,(0,E.default)((0,x.default)(e,"td"),"spark-table__disabled-cell"),this},t.prototype.enableCell=function(e){return e.disabled=!1,(0,k.default)((0,x.default)(e,"td"),"spark-table__disabled-cell"),this},t.prototype.disableRow=function(e){return(0,E.default)(e,"spark-table__disabled-row"),(0,_.default)(e.querySelectorAll("input, button, a"),function(e){e.disabled=!0}),this},t.prototype.enableRow=function(e){return(0,k.default)(e,"spark-table__disabled-row"),(0,_.default)(e.querySelectorAll("input, button, a"),function(e){e.disabled=!1}),this},t.prototype.disableColumn=function(e){var t=(0,R.default)(e.parentNode.children,e);return(0,_.default)(this.tableEl.querySelectorAll("tbody tr"),function(e){this.disableCell(e.children[t].querySelector("input"))}.bind(this)),(0,E.default)(e,"spark-table__disabled-column"),this},t.prototype.enableColumn=function(e){var t=(0,R.default)(e.parentNode.children,e);return(0,_.default)(this.tableEl.querySelectorAll("tbody tr"),function(e){this.enableCell(e.children[t].querySelector("input"))}.bind(this)),(0,k.default)(e,"spark-table__disabled-column"),this},t.prototype.remove=function(t){return(0,_.default)(this._expands,function(e){e.remove(t)}),e.prototype.remove.call(this,t)},t.prototype.activateRow=function(e){return e="number"==typeof e?this.tableEl.querySelectorAll("tbody tr")[e]:e,e&&this._makeRowActive(e),this},t.prototype.activateRows=function(e){return(0,_.default)(e,this.activateRow.bind(this)),this},t.prototype.deactivateRow=function(e){return e="number"==typeof e?this.tableEl.querySelectorAll("tbody tr")[e]:e,e&&this._makeRowInActive(e),this},t.prototype.deactivateRows=function(e){return(0,_.default)(e,this.deactivateRow.bind(this)),this},t.prototype.getActiveRows=function(){var e=[];return(0,_.default)(this.el.querySelectorAll("tbody tr.active"),function(t){e.push(t)}),e},t.prototype.update=function(e){return this._removeEventListeners(),this._cacheElements(e||this.el),this._parseParams(),this._addEventListeners(),this._initRows(),(this.isSpreadsheet||this.isEditRows)&&this._deactivateAllInputs(),this.isResizable&&this._initResize(),this._disableRowsColumnsCells(),this._initExpands(),this},t.prototype._cacheElements=function(e){this.el=e,this.tableEl=e.querySelector("table")},t.prototype._parseParams=function(){this.tableEl&&(this.isSpreadsheet=null!==this.isSpreadsheet?this.isSpreadsheet:!!(0,y.default)(this.el,"spark-table--spreadsheet"),this.isEditRows=null!==this.isEditRows?this.isEditRows:!!(0,y.default)(this.el,"spark-table--edit-rows"),this.isResizable=null!==this.isResizable?this.isResizable:!!(0,y.default)(this.el,"spark-table--resizable"))},t.prototype._bindEventListenerCallbacks=function(){this._onClickBound=this._onClick.bind(this),this._onChangeBound=this._onChange.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onTouchstartBound=this._onTouchstart.bind(this),this._onTouchendBound=this._onTouchend.bind(this),this._onKeydownBound=this._onKeydown.bind(this),this._onMouseDownBound=this._onMouseDown.bind(this),this._onMouseMoveBound=this._onMouseMove.bind(this),this._onMouseUpBound=this._onMouseUp.bind(this)},t.prototype._addEventListeners=function(){this.el.addEventListener("click",this._onClickBound,!1),this.el.addEventListener("change",this._onChangeBound,!1),this.el.addEventListener("focus",this._onFocusBound,!0),this.el.addEventListener("blur",this._onBlurBound,!0),this.isSpreadsheet&&(this.el.addEventListener("touchstart",this._onTouchstartBound,!1),this.el.addEventListener("touchend",this._onTouchendBound,!1),this.el.addEventListener("keydown",this._onKeydownBound,!1)),this.isResizable&&this.tableEl.addEventListener("mousedown",this._onMouseDownBound,!1)},t.prototype._removeEventListeners=function(){this.el.removeEventListener("click",this._onClickBound),this.el.removeEventListener("change",this._onChangeBound),this.el.removeEventListener("focus",this._onFocusBound),this.el.removeEventListener("blur",this._onBlurBound),this.el.removeEventListener("touchstart",this._onTouchstartBound),this.el.removeEventListener("touchend",this._onTouchendBound),this.el.removeEventListener("keydown",this._onKeydownBound),this.tableEl.removeEventListener("mousedown",this._onMouseDownBound),this._removeResizeListeners()},t.prototype._addResizeListeners=function(){window.addEventListener("mousemove",this._onMouseMoveBound,!1),window.addEventListener("mouseup",this._onMouseUpBound,!1)},t.prototype._removeResizeListeners=function(){window.removeEventListener("mousemove",this._onMouseMoveBound),window.removeEventListener("mouseup",this._onMouseUpBound)},t.prototype._toggleRowActive=function(e){(0,y.default)(e,"active")?(this._makeRowInActive(e),this._uncheckSelectAll()):this._makeRowActive(e)},t.prototype._makeRowActive=function(e){(0,E.default)(e,"active"),(e.querySelector('input[type="checkbox"]:not([disabled])')||{}).checked=!0},t.prototype._makeRowInActive=function(e){(0,k.default)(e,"active"),(e.querySelector('input[type="checkbox"]:not([disabled])')||{}).checked=!1},t.prototype._toggleRowsActive=function(e,t){for(var o=t?"_makeRowActive":"_makeRowInActive",n=0,i=e.length;n<i;n++)this[o](e[n])},t.prototype._toggleSelectAll=function(e){var t=e.querySelector('input[type="checkbox"]');t&&(this._toggleRowsActive(this.el.querySelectorAll("tbody tr"),!t.checked),t.checked=!t.checked)},t.prototype._uncheckSelectAll=function(){for(var e=this.el.querySelectorAll('.spark-table__select-all input[type="checkbox"]'),t=0,o=e.length;t<o;t++)e[t].checked=!1},t.prototype._deactivateAllInputs=function(){this.tableEl&&this._deactivateInputs(this.tableEl)},t.prototype._deactivateInputs=function(e){for(var t=e.querySelectorAll('input:not([type="checkbox"])'),o=0,n=t.length;o<n;o++)this._deactivateInput(t[o])},t.prototype._deactivateInput=function(e){e.setAttribute("readonly",""),(0,k.default)(e.parentNode,"editing")},t.prototype._activateInputs=function(e){for(var t=e.querySelectorAll('input:not([type="checkbox"])'),o=0,n=t.length;o<n;o++)this._activateInput(t[o])},t.prototype._activateInput=function(e){e.removeAttribute("readonly"),(0,E.default)(e.parentNode,"editing"),"checkbox"!==e.type&&"radio"!==e.type&&(0,h.default)(e,-1)},t.prototype._activateInputOrFocusDown=function(e){if(""===e.getAttribute("readonly"))return void this._activateInput(e);this._focusDown(e,!0)},t.prototype._disableRowsColumnsCells=function(){(0,_.default)(this.tableEl.querySelectorAll("td input[disabled]"),this.disableCell.bind(this)),(0,_.default)(this.tableEl.querySelectorAll(".spark-table__disabled-row"),this.disableRow.bind(this)),(0,_.default)(this.tableEl.querySelectorAll(".spark-table__disabled-column"),this.disableColumn.bind(this))},t.prototype._focusUp=function(e,t){return this._focusUpDown(e,"up",t)},t.prototype._focusDown=function(e,t){return this._focusUpDown(e,"down",t)},t.prototype._focusUpDown=function(e,t,o){if(o||null!==e.getAttribute("readonly")){this._deactivateInput(e);var n=(0,x.default)(e,"td",this.el);if(n){var i=(0,R.default)(n.parentNode.children,n),s=("up"===t?B.default:M.default)(n.parentNode,"tr");if(s){var l=s.children[i];if(l){var r=l.querySelector('input:not([type="checkbox"]), select');r&&(r.disabled?this._focusUpDown(r,t,o):r.focus())}}}}},t.prototype._focusLeft=function(e,t){return this._focusLeftRight(e,"left",t)},t.prototype._focusRight=function(e,t){return this._focusLeftRight(e,"right",t)},t.prototype._focusLeftRight=function(e,t,o){if(o||null!==e.getAttribute("readonly")){this._deactivateInput(e);var n=(0,x.default)(e,"td",this.el);if(n){var i=("left"===t?B.default:M.default)(n,"td");if(i){var s=i.querySelector('input:not([type="checkbox"]), select');s&&(s.disabled?this._focusLeftRight(s,t,o):s.focus())}}}},t.prototype._checkDoubleClick=function(e){var t=Date.now(),o=this._lastClickTime,n=this._lastClickEl;return this._lastClickTime=t,this._lastClickEl=e,e===n&&t-500<o},t.prototype._clearClicked=function(){this._lastClickEl=null},t.prototype._editRow=function(e){e&&(this._editingCount++,this._activateInputs(e),(0,p.store)(e),(0,E.default)(e,"editing"),this._updateBindings())},t.prototype._cancelRow=function(e){e&&(this._editingCount--,this._deactivateInputs(e),(0,p.restore)(e),(0,k.default)(e,"editing"),this._updateBindings())},t.prototype._saveRow=function(e){e&&(this._editingCount--,this._deactivateInputs(e),(0,p.clear)(e),(0,k.default)(e,"editing"),this._updateBindings(),(this.onRowSave||O)((0,R.default)(e.parentNode.children,e),e))},t.prototype._deleteRow=function(e){e&&((this.onRowDelete||O)((0,R.default)(e.parentNode.children,e),e),e.parentNode.removeChild(e))},t.prototype._confirmDelete=function(e){this.confirmDelete&&"function"==typeof this.confirmDelete?this.confirmDelete(e,this._deleteRow):this._deleteRow(e)},t.prototype._updateBindings=function(){(0,m.default)(this.el,"editing",this._editingCount)},t.prototype._initResize=function(){this._resizeEls=[];var e=this.tableEl.querySelectorAll("thead th");(0,_.default)(e,function(e){e.innerHTML='<span class="spark-table__resize spark-table__resize--left"></span>'+e.innerHTML+'<span class="spark-table__resize spark-table__resize--right"></span>',this._resizeEls.push(e)}.bind(this))},t.prototype._initRows=function(){(0,_.default)(this.tableEl.querySelectorAll("td.spark-table__checkbox input:checked"),function(e){this._makeRowActive((0,x.default)(e,"tr"))}.bind(this))},t.prototype._sizeColumns=function(e,t){if(e=e||"%",!this._sizeColumnsRun||t){var o=this.tableEl.offsetWidth;(0,_.default)(this.tableEl.querySelectorAll("thead th"),function(t){t.style.width="%"===e?Math.round(t.offsetWidth/o*1e5)/1e5*100+"%":t.offsetWidth+"px"}.bind(this)),this._sizeColumnsRun=!0}},t.prototype._initExpands=function(){var e=this.tableEl.querySelectorAll(".spark-table-expand");this._expands=[],(0,_.default)(e,function(e){this._expands.push(new d.default(e,{onBeforeExpand:this._onBeforeExpand.bind(this)}))}.bind(this))},t.prototype._onBeforeExpand=function(){this._sizeColumns()},t.prototype._onClick=function(e){var t,o,n=e.target||e.srcElement,i=!1,s=!0;(o=(0,x.default)(n,".spark-table__select-all",this.el))&&!(0,z.default)(n,'input[type="checkbox"]')?(this._toggleSelectAll(o),i=!0):(0,z.default)(n,'input:not([type="checkbox"]), select')?n.disabled||(this.isSpreadsheet&&(s=!1,this._checkDoubleClick(n)&&(s=!0,this._activateInput(n))),i=!0):(0,z.default)(n,".spark-table__edit-row")?(this._editRow((0,x.default)(n,"tr",this.el)),i=!0):(0,z.default)(n,".spark-table__delete-row")?(this._confirmDelete((0,x.default)(n,"tr",this.el)),i=!0):(0,z.default)(n,".spark-table__edit-row-save")?(this._saveRow((0,x.default)(n,"tr",this.el)),i=!0):(0,z.default)(n,".spark-table__edit-row-cancel")?(this._cancelRow((0,x.default)(n,"tr",this.el)),i=!0):(0,x.default)(n,"button, a",this.el)||(0,z.default)(n,'input[type="checkbox"]')||!(t=(0,x.default)(n,"tbody tr",this.el))||(t.querySelector('input[type="checkbox"]')||{}).disabled||(this._toggleRowActive(t),i=!0),s&&this._clearClicked(),i&&e.preventDefault()},t.prototype._onChange=function(e){var t,o,n=e.target||e.srcElement;(o=(0,x.default)(n,".spark-table__select-all",this.el))?(n.checked=!n.checked,this._toggleSelectAll(o)):(0,z.default)(n,'input[type="checkbox"]')&&(t=(0,x.default)(n,"tbody tr",this.el))&&this._toggleRowActive(t)},t.prototype._onFocus=function(e){var t=e.target||e.srcElement;if(this.isSpreadsheet&&(0,z.default)(t,'input:not([type="checkbox"]), select')){var o=(0,x.default)(t,"td",this.el);(0,E.default)(o,"focus")}},t.prototype._onBlur=function(e){if(this.isSpreadsheet){var t=e.target||e.srcElement,o=(0,x.default)(t,"td",this.el);(0,k.default)(o,"focus"),this._deactivateInput(t)}},t.prototype._onKeydown=function(e){var t=e.target||e.srcElement;if(this.isSpreadsheet&&(0,z.default)(t,'input:not([type="checkbox"]), select')){switch(e.keyCode||e.which){case this._keyCodes.ENTER:this._activateInputOrFocusDown(t);break;case this._keyCodes.ESCAPE:this._deactivateInput(t);break;case this._keyCodes.DOWN:this._focusDown(t);break;case this._keyCodes.UP:this._focusUp(t);break;case this._keyCodes.LEFT:this._focusLeft(t);break;case this._keyCodes.RIGHT:this._focusRight(t)}}},t.prototype._onTouchstart=function(e){var t=e.target||e.srcElement;this.isSpreadsheet&&(0,z.default)(t,'input:not([type="checkbox"])')&&(this._touchStartEl=t,this._touchStartTime=Date.now(),this._touchStartTimer=setTimeout(this._onTouchHold.bind(this),1e3))},t.prototype._onTouchend=function(e){var t=e.target||e.srcElement;this._touchStartEl&&t===this._touchStartEl&&(this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer))},t.prototype._onTouchHold=function(){this._activateInput(this._touchStartEl),this._touchStartEl=null,this._touchStartTime=null,clearTimeout(this._touchStartTimer)},t.prototype._onMouseDown=function(e){var t=e.target||e.srcElement;if(this.isResizable&&(0,z.default)(t,".spark-table__resize")){e.preventDefault(),this._lastScreenX=e.screenX,this._sizeColumns("px",!0),this._resizingEl=t.parentNode;var o=this._resizeEls.indexOf(this._resizingEl);(0,y.default)(t,"spark-table__resize--left")&&(this._resizingEl=this._resizeEls[o-1]),this._resizingEl&&this._addResizeListeners()}},t.prototype._onMouseMove=function(e){var t=e.screenX,o=t-this._lastScreenX;if(o){e.preventDefault();var n=this._resizingEl.offsetWidth,i=this.tableEl.offsetWidth,s=n+o,l=i+o;this._resizingEl.style.width=s+"px",this.tableEl.style.width=l+"px",(this._resizingEl.offsetWidth===n||this.tableEl.offsetWidth<this.tableEl.parentNode.offsetWidth)&&(this._resizingEl.style.width=n+"px",this.tableEl.style.width=i+"px"),this._lastScreenX=t}},t.prototype._onMouseUp=function(){this._sizeColumns("%",!0),this.tableEl.style.width=this.tableEl.offsetWidth/this.tableEl.parentNode.offsetWidth*100+"%",this._removeResizeListeners()},t}(a.default);P.prototype._whitelistedParams=["isSpreadsheet","isEditRows","isResizable","confirmDelete","onRowSave","onRowDelete"],P.prototype.defaults={el:null,tableEl:null,isSpreadsheet:null,isEditRows:null,isResizable:null,onRowSave:null,onRowDelete:null,confirmDelete:null,_expands:null,_keyCodes:{ENTER:13,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESCAPE:27},_editingCount:0,_lastClickTime:0,_lastClickEl:null,_lastScreenX:0,_touchStartTime:0,_touchStartEl:null,_resizeEls:null,_resizingEl:null,_sizeColumnsRun:!1,_onClickBound:null,_onChangeBound:null,_onFocusBound:null,_onBlurBound:null,_onKeydownBound:null,_onTouchstartBound:null,_onTouchendBound:null,_onMouseDownBound:null,_onMouseMoveBound:null,_onMouseUpBound:null},o.default=P,t.exports=o.default},{"../helpers/dom/add-class":5,"../helpers/dom/has-class":6,"../helpers/dom/remove-class":8,"../helpers/dom/toggle-class":9,"../helpers/form/form-data":10,"../helpers/form/set-caret":11,"../helpers/traversal/get-index":12,"../helpers/traversal/get-parent":13,"../helpers/traversal/get-sibling-after":14,"../helpers/traversal/get-sibling-before":15,"../helpers/traversal/matches":16,"../helpers/util/each":17,"./base":1,"./expand":2}],4:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,o){switch(t){case"overflow":case"visibility":return"visible"===o?"hidden":"visible";default:return"block"===o||"inline-block"===o?"none":"block"}}function s(e){e.toggleClassName?(0,v.default)(e.el,e.toggleClassName,!e.collapse):e.toggleEl.style[e.toggleProperty]="",e.el.style.height="",e.toggleEl.style.height="",e.toggleEl.style.marginBottom="",e.toggleEl.style.marginTop="",(0,h.default)(e.el,e.heightAnimationClass),(0,h.default)(e.toggleEl,e.heightAnimationClass),e.onComplete();var t=b.els.indexOf(e.el);b.els.splice(t,1),b.completeCallbacks.splice(t,1)}function l(e){function t(){var t=(0,a.default)(o),i=void 0,f=void 0;n?(u?(0,h.default)(o,u):r.style[c]=_,f=(0,a.default)(r,p),i=0):(i=(0,a.default)(r,p),f=0),o.style.height=w+"px",r.style.height=f+"px",r.style.marginBottom="0px",r.style.marginTop="0px",(0,d.default)(o,l),(0,d.default)(r,l),b.els.push(o),setTimeout(function(){o.style.height=t+"px",r.style.height=i+"px",b.completeCallbacks.push(setTimeout(function(){s({el:o,toggleEl:r,onComplete:e.onComplete||y,collapse:n,toggleProperty:c,toggleClassName:u,toggleValue:m,heightAnimationClass:l})},void 0!==e.animationDuration?e.animationDuration:201))},0)}e=e||{};var o=e.el;if(o){var n=e.action&&"collapse"===e.action,l=e.heightAnimationClass||"spark-animate-height",r="string"==typeof e.toggleEl?o.querySelector(e.toggleEl):e.toggleEl;if(r&&!(0,f.default)(o,"spark-no-animate")){var u=e.toggleClass,c=e.toggleProperty||"display",p=window.getComputedStyle(r),_=p[c],m=e.toggleValue||i(c,_),g=b.els.indexOf(o);if(-1!==g){var E=b.completeCallbacks[g];E&&clearTimeout(E),s({el:o,toggleEl:r,onComplete:e.onComplete||y,collapse:n,toggleProperty:c,toggleClassName:u,toggleValue:m,heightAnimationClass:l})}var w=(0,a.default)(o);u?(0,v.default)(o,u,!n):r.style[c]=m,n?setTimeout(t,0):t()}}}Object.defineProperty(o,"__esModule",{value:!0});var r=e("../dom/outer-height"),a=n(r),u=e("../dom/add-class"),d=n(u),c=e("../dom/remove-class"),h=n(c),p=e("../dom/has-class"),f=n(p),_=e("../dom/toggle-class"),v=n(_),y=function(){},b={els:[],completeCallbacks:[]};o.default=l,t.exports=o.default},{"../dom/add-class":5,"../dom/has-class":6,"../dom/outer-height":7,"../dom/remove-class":8,"../dom/toggle-class":9}],5:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t=2===arguments.length&&"string"==typeof t?(0,l.default)(t).split(u):t instanceof Array?t:Array.prototype.slice.call(arguments,1),1===t.length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var o=[],n=0,i=t.length,s=void 0,r="string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"";n<i;n++)(s=t[n])&&!(0,a.default)(r,s)&&o.push(s);return o.length&&("string"==typeof e.className?e.className=(0,l.default)((r+" "+o.join(" ")).replace(d," ")):e.setAttribute&&e.setAttribute("class",(0,l.default)((r+" "+o.join(" ")).replace(d," ")))),e}Object.defineProperty(o,"__esModule",{value:!0});var s=e("../util/trim"),l=n(s),r=e("./has-class"),a=n(r),u=/\s+/,d=/\s{2,}/g;o.default=i,t.exports=o.default},{"../util/trim":18,"./has-class":6}],6:[function(e,t,o){"use strict";function n(e,t){return-1!==(" "+("object"===(void 0===e?"undefined":i(e))?e.className||e.getAttribute&&e.getAttribute("class")||"":e||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+t+" ")}Object.defineProperty(o,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o.default=n,t.exports=o.default},{}],7:[function(e,t,o){"use strict";function n(e,t){t=t||window.getComputedStyle(e);var o=e.clientHeight;return(0,s.default)(l,function(e){o+=parseInt(t[e]||0,10)}),o}Object.defineProperty(o,"__esModule",{value:!0});var i=e("../util/each"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),l=["marginTop","marginBottom","borderTop","borderBottom"];o.default=n,t.exports=o.default},{"../util/each":17}],8:[function(e,t,o){"use strict";function n(e,t){if(t=2===arguments.length&&"string"==typeof t?(0,s.default)(t).split(l):t instanceof Array?t:Array.prototype.slice.call(arguments,1),1===t.length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var o=" "+("string"==typeof e.className?e.className:e.getAttribute?e.getAttribute("class"):"")+" ",n=o,i=void 0,a=void 0,u=0,d=t.length;u<d;u++)i=t[u],-1!==(a=i?n.indexOf(" "+i+" "):-1)&&(a+=1,n=n.slice(0,a)+n.slice(a+i.length));return o!==n&&("string"==typeof e.className?e.className=(0,s.default)(n.replace(r," ")):e.setAttribute&&e.setAttribute("class",(0,s.default)(n.replace(r," ")))),e}Object.defineProperty(o,"__esModule",{value:!0});var i=e("../util/trim"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),l=/\s+/,r=/\s{2,}/g;o.default=n,t.exports=o.default},{"../util/trim":18}],9:[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,o){if(e){if(!(e instanceof NodeList||e instanceof Array)){var n=void 0;return void 0!==o?(o="function"==typeof o?o.call(null,e):o,n=o?"add":"remove"):n=(0,l.default)(e,t)?"remove":"add",("add"===n?a.default:d.default)(e,t)}for(var s=0,r=e.length;s<r;s++)i(e[s],t,o)}}Object.defineProperty(o,"__esModule",{value:!0});var s=e("./has-class"),l=n(s),r=e("./add-class"),a=n(r),u=e("./remove-class"),d=n(u);o.default=i,t.exports=o.default},{"./add-class":5,"./has-class":6,"./remove-class":8}],10:[function(e,t,o){"use strict";function n(e,t){(0,a.default)(e.querySelectorAll("input, select, textarea"),function(e){t(e)})}function i(e){n(e,function(e){var t=e.nodeName.toLowerCase(),o=void 0;switch(t){case"select":o=e.selectedIndex;break;default:o=encodeURI(e.value)}e.setAttribute("data-stored-value",o)})}function s(e){n(e,function(e){var t=e.nodeName.toLowerCase(),o=e.getAttribute("data-stored-value");if(o||""===o){switch(t){case"select":e.options[o].selected=!0;break;default:e.value=decodeURI(o)}e.removeAttribute("data-stored-value")}})}function l(e){n(e,function(e){e.removeAttribute("data-stored-value")})}Object.defineProperty(o,"__esModule",{value:!0}),o.clear=o.restore=o.store=void 0;var r=e("../util/each"),a=function(e){return e&&e.__esModule?e:{default:e}}(r);o.store=i,o.restore=s,o.clear=l},{"../util/each":17}],11:[function(e,t,o){"use strict";function n(e,t,o){var n=document.activeElement;if(t=t<0?e.value.length+t+1:t,o=o<0?e.value.length+o+1:o,document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),i.moveStart("character",t),i.moveEnd("character",void 0!==o?o:t),i.select()}else(e.selectionStart||0===e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=void 0!==o?o:t);return n!==e&&(e.blur(),n.focus()),{start:t,end:o}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=n,t.exports=o.default},{}],12:[function(e,t,o){"use strict";function n(e,t){return Array.prototype.indexOf.call(e,t)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=n,t.exports=o.default},{}],13:[function(e,t,o){"use strict";function n(e,t,o){for(o=o instanceof Array?o:[o||document.body];e;){if((0,s.default)(e,t))return e;if(-1!==o.indexOf(e))return!1;e=e.parentNode}return!1}Object.defineProperty(o,"__esModule",{value:!0});var i=e("./matches"),s=function(e){return e&&e.__esModule?e:{default:e}}(i);o.default=n,t.exports=o.default},{"./matches":16}],14:[function(e,t,o){"use strict";function n(e,t){for(;e=e.nextElementSibling;)if((0,s.default)(e,t))return e;return null}Object.defineProperty(o,"__esModule",{value:!0});var i=e("./matches"),s=function(e){return e&&e.__esModule?e:{default:e}}(i);o.default=n,t.exports=o.default},{"./matches":16}],15:[function(e,t,o){"use strict";function n(e,t){for(;e=e.previousElementSibling;)if((0,s.default)(e,t))return e;return null}Object.defineProperty(o,"__esModule",{value:!0});var i=e("./matches"),s=function(e){return e&&e.__esModule?e:{default:e}}(i);o.default=n,t.exports=o.default},{"./matches":16}],16:[function(e,t,o){"use strict";function n(e,t){if(i)return i.call(e,t);for(var o=e.parentNode?e.parentNode.querySelectorAll(t):[],n=0;n<o.length;n++)if(o[n]===e)return!0;return!1}Object.defineProperty(o,"__esModule",{value:!0});var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector);o.default=n,t.exports=o.default},{}],17:[function(e,t,o){"use strict";function n(e,t){if(e){if("function"!=typeof t)throw new Error("Cannot invoke `each` without a callback!");var o=0,n=e.length;if(void 0===n)for(o in e)"prototype"!==o&&e.hasOwnProperty(o)&&t(o,e[o]);else for(;o<n;o++)t(e[o])}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=n,t.exports=o.default},{}],18:[function(e,t,o){"use strict";function n(e){return e.replace(i,"")}Object.defineProperty(o,"__esModule",{value:!0});var i=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;o.default=n,t.exports=o.default},{}]},{},[3])(3)});