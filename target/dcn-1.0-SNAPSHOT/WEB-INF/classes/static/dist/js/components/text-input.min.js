/* sabre-spark - v2.2.0 - 2017-4-25 DO NOT MODIFY THIS FILE DIRECTLY OR YOU WILL NOT BE ABLE TO UPDATE YOUR VERSION OF SPARK. */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.Spark||(e.Spark={})).TextInput=t()}}(function(){return function t(e,i,n){function s(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){var i=e[o][1][t];return s(i||t)},h,h.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=t("../helpers/util/each"),r=function(t){return t&&t.__esModule?t:{default:t}}(s),o=function(){},a=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),i.elRequired&&!e||(this.setParams(this.defaults||{},!0),this.setParams(i),(this._cacheElements||o).call(this,e,i),(this._parseParams||o).call(this))}return t.prototype.remove=function(t){return this._removeEventListeners&&this._removeEventListeners(),!t&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.unsetParams(this.defaults),this},t.prototype.update=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._removeEventListeners&&this._removeEventListeners(),(this._cacheElements||o).call(this,t||this.el,e),(this._parseParams||o).call(this),this._addEventListeners&&this._addEventListeners(),this},t.prototype.setParams=function(t,e){var i=this;return(0,r.default)(t,function(t,n){(-1!==i._whitelistedParams.indexOf(t)||e)&&(i[t]=n)}),this},t.prototype.unsetParams=function(t,e){return t=t instanceof Array?t:Object.keys(t),e=e||this,(0,r.default)(t,function(t){delete e[t]}),this},t}();a.prototype._whitelistedParams=[],a.prototype.defaults={},i.default=a,e.exports=i.default},{"../helpers/util/each":13}],2:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=n(a),u=t("./typeahead"),h=n(u),c=t("../helpers/dom/toggle-class"),d=n(c),p=t("../helpers/util/mixin"),f=n(p),g=t("../mixins/messaging"),m=n(g),v=t("../mixins/validation"),_=n(v),y=t("../helpers/dom/make-element"),E=n(y),b=function(){},C=function(t){function e(i){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,e),o.elRequired=!0,(n=r(this,t.call(this,i,o)))?(n._bindEventListenerCallbacks(),n._addEventListeners(),n._createTypeahead(),n.inputEl.value&&(n.show(),n._onInput()),r(n)):r(n)}return o(e,t),e.prototype.show=function(){return this.isActive=!0,this._updateClass(),this},e.prototype.hide=function(){return this.isActive=!1,this._updateClass(),this},e.prototype.setValue=function(t){return this.typeahead?this.typeahead.setValue(t):(this.inputEl.value=t,t?this.show():this.hide()),this},e.prototype.getValue=function(){return this.inputEl.value},e.prototype.clearValue=function(){return this.typeahead?this.typeahead.clear():this.inputEl.value="",this},e.prototype.disable=function(){return this.typeahead?this.typeahead.disable():this.inputEl.setAttribute("disabled",""),this},e.prototype.enable=function(){return this.typeahead?this.typeahead.enable():this.inputEl.removeAttribute("disabled"),this},e.prototype.remove=function(e){return this.typeahead&&this.typeahead.remove(e),t.prototype.remove.call(this,e)},e.prototype.update=function(e){return this.typeahead&&this.typeahead.remove(),t.prototype.update.call(this,e)},e.prototype._createTypeahead=function(){!0!==this.typeahead&&null===this.inputEl.getAttribute("data-typeahead")||(this.typeahead=new h.default(this.el,{onBlur:this._onBlurBound}))},e.prototype._cacheElements=function(t){if(this.el=t,this.inputEl=this.el.querySelector("input, textarea"),this.passwordToggleEl=this.el.querySelector(".spark-input__password-toggle"),!this.inputEl)throw new Error("No <input> or <textarea> element present in input container!",this.el);this.messageEl=this.el.querySelector(".spark-input__message")||(0,E.default)('<span class="spark-input__message"></span>'),this.clearEl=this.el.querySelector(".spark-input__clear")},e.prototype._parseParams=function(){this.validatePattern=this.validatePattern||this.inputEl.getAttribute("data-validate"),this.type=this.inputEl.getAttribute("type")||"text",this.showCharacters=null!==this.el.getAttribute("data-characters"),this.showCharactersRemaining=null!==this.el.getAttribute("data-characters-remaining"),this.maxlength=this.inputEl.getAttribute("maxlength")||this.inputEl.getAttribute("data-maxlength-soft")||null,this.isTextarea="textarea"===this.inputEl.nodeName.toLowerCase(),this.isActive=!!this.inputEl.value},e.prototype._setCharactersCount=function(){if(this.showCharacters)this.el.setAttribute("data-characters",this.inputEl.value.length);else if(this.showCharactersRemaining){var t=this.maxlength-this.inputEl.value.length;this.el.setAttribute("data-characters-remaining",t),t<1?this.el.setAttribute("data-characters-remaining-danger",!0):this.el.removeAttribute("data-characters-remaining-danger")}},e.prototype._setTextareaHeight=function(){var t=window.getComputedStyle(this.inputEl),e=parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10);this.inputEl.style.height=null;var i,n=this.inputEl.scrollHeight;n||(i=this.inputEl.innerHTML.split("\n"),n=Math.max(parseFloat(t.lineHeight))*i.length+parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)),this.inputEl.style.height=n+e+"px"},e.prototype._bindEventListenerCallbacks=function(){this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onInputBound=this._onInput.bind(this),this._onTogglePasswordViewHideBound=this._onTogglePasswordViewHide.bind(this),this._onClearClickBound=this._onClearClick.bind(this)},e.prototype._addEventListeners=function(){this.inputEl.addEventListener("focus",this._onFocusBound),this.inputEl.addEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("input",this._onInputBound),this.passwordToggleEl&&this.passwordToggleEl.addEventListener("click",this._onTogglePasswordViewHideBound),this.clearEl&&this.clearEl.addEventListener("click",this._onClearClickBound)},e.prototype._removeEventListeners=function(){this.inputEl.removeEventListener("focus",this._onFocusBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("input",this._onInputBound),this.passwordToggleEl&&this.passwordToggleEl.removeEventListener("click",this._onTogglePasswordViewHideBound),this.clearEl&&this.clearEl.removeEventListener("click",this._onClearClickBound)},e.prototype._updateClass=function(){(0,d.default)(this.el,"active",this.isActive)},e.prototype._onFocus=function(){this.show(),this._setCharactersCount(),(0,d.default)(this.el,"focus"),(this.onFocus||b)(this.inputEl.value,this)},e.prototype._onBlur=function(){this.inputEl.value||this.hide(),(0,d.default)(this.el,"focus"),(this.onBlur||b)(this.inputEl.value,this)},e.prototype._onInput=function(){this.validate(),this._setCharactersCount(),this.isTextarea&&this._setTextareaHeight(),(this.onChange||b)(this.inputEl.value,this)},e.prototype._onClearClick=function(){this.inputEl.value="",this.hide(),(this.onChange||b)(this.inputEl.value,this)},e.prototype._onTogglePasswordViewHide=function(t){t.preventDefault(),this.inputEl.setAttribute("type","password"===this.inputEl.getAttribute("type")?"text":"password")},e}(l.default);C.prototype._whitelistedParams=["validate","validatePattern","onValidate","onChange","onFocus","onBlur"],C.prototype.defaults={el:null,messageEl:null,inputEl:null,passwordToggleEl:null,clearEl:null,isActive:!1,isTextarea:!1,validatePattern:!1,type:null,showCharacters:!1,showCharactersRemaining:!1,maxlength:null,typeahead:null,onValidate:b,onChange:b,onFocus:b,onBlur:b,_onFocusBound:null,_onBlurBound:null,_onInputBound:null,_onTogglePasswordViewHideBound:null,_onClearClickBound:null},(0,f.default)(C.prototype,m.default,_.default),i.default=C,e.exports=i.default},{"../helpers/dom/make-element":7,"../helpers/dom/toggle-class":11,"../helpers/util/mixin":14,"../mixins/messaging":16,"../mixins/validation":17,"./base":1,"./typeahead":3}],3:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=t("./base"),l=n(a),u=t("../helpers/dom/trigger-event"),h=n(u),c=t("../helpers/dom/parse-attribute"),d=function(){},p=function(t){function e(i){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,e),o.elRequired=!0,(n=r(this,t.call(this,i,o)))?(n._maintainFocus(function(){this._parseParams(),this._bindEventListenerCallbacks(),this._addEventListeners()}),r(n)):r(n)}return o(e,t),e.prototype.run=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isRunning)return this;this.isRunning=!0;for(var i=this.inputEl.value,n="",s="",r=0,o=this.format.length,a=0,l=!1;r<o;r++)"\\d"===this.format[r]?(this.characters[r-a]?n+=this.characters[r-a]:l=!0,s+=l?this.placeholder[r]:"&nbsp;"):(l||(n+=this.format[r]),s+=this.format[r],a++);return this.isFocused&&(t=void 0===t?this._getCaretEnd():t),this.isFocused&&!this.characters.length&&(t=n.length),!this.characters.length&&e.notOnlyPlaceholders&&(n=""),this.inputEl.value=n,this.placeholderEl.innerHTML=s,this._updateWidth(),this.isFocused&&this._setCaretPositionTranslated(t),n!==i&&(0,h.default)(this.inputEl,"input"),this.isRunning=!1,n!==i&&(this.onChange||d)(n,i,this),!this._atEnd&&this.isFocused&&this.characters.length===this.maxLength&&this._caretIsAtEnd()?(this._atEnd=!0,(this.onEnd||d)(this)):this._atEnd=!1,this},e.prototype.addCharacterAtIndex=function(t,e,i,n){if(this.maxLength&&e>=this.maxLength)return this;if(!n){var s;try{s=new RegExp(this.format[e])}catch(t){}if(!s||!s.exec(t))return this}return this.characters.splice(e,i-e,t),this.maxLength&&this.characters.length>this.maxLength&&this.characters.splice(this.maxLength,this.characters.length),this.run(e+1),this},e.prototype.addCharacterAtCaret=function(t){var e,i=this._getCaretStart();if(void 0===this.format[i])return(this.onEnd||d)(this,t),this;try{e=new RegExp(this.format[i])}catch(t){}return e&&e.exec(t)?(this.addCharacterAtIndex(t,this._getCaretStartTranslated(),this._getCaretEndTranslated(),!0),this):(this._moveCaret("right")&&this.addCharacterAtCaret(t),this)},e.prototype.removeCharacterAtIndex=function(t,e,i){return t+i<0?this:(e=void 0!==e?e:1,this.characters.splice(t+i,e),this.run(t+(i||1)),this)},e.prototype.removeCharacterAtCaret=function(t){var e,i=this._getCaretStartTranslated(),n=this._getCaretEndTranslated(),s=1;return i!==n&&(n<i&&(e=i,i=n,n=e),s=n-i,i++),this.removeCharacterAtIndex(i,s,t),this},e.prototype.removeCharactersInRange=function(){return this.removeCharacterAtIndex(this._getCaretStartTranslated(),this._getCaretEndTranslated()),this},e.prototype.setValue=function(t){return this.settingValue=!0,this.pause(),this.characters=(t+"").split(""),this.run(),this.isFocused&&this._setCaretPosition(this._getCaretStart()),this.resume(),this.settingValue=!1,this},e.prototype.getValue=function(t){return t&&this.inputEl.value?parseInt(this.inputEl.value,10):this.inputEl.value},e.prototype.clearValue=function(){return this.pause(),this.characters=[],this.run(0,{notOnlyPlaceholders:!0}),this.resume()},e.prototype.updateValue=function(){return this.setValue(this.inputEl.value)},e.prototype.moveCaret=function(t){return this._setCaretPositionTranslated(t),this},e.prototype.moveCaretToEnd=function(){return this.moveCaret(this.characters.length)},e.prototype.moveCaretToStart=function(){return this.moveCaret(0)},e.prototype.pause=function(){return this.pauseBlurFocus++,this},e.prototype.resume=function(){return this.pauseBlurFocus--,this},e.prototype.disable=function(){return this.inputEl.setAttribute("disabled",""),this},e.prototype.enable=function(){return this.inputEl.removeAttribute("disabled"),this},e.prototype.clear=function(){return this.clearValue()},e.prototype.remove=function(e){return t.prototype.remove.call(this,e),this},e.prototype._cacheElements=function(t){this.el=t,this.inputEl=this.el.querySelector('[type="text"], [type="email"], [type="phone"], textarea')||this._createDefaultInputElement(),this.placeholderEl=this.el.querySelector(".spark-input__placeholder")||this._createDefaultPlaceholderElement()},e.prototype._parseParams=function(){this.characters=this._parseCharacters(this.inputEl.value),this.format=this._parseFormat(this.format?this.format:this.inputEl.getAttribute("data-typeahead-format")),this.placeholder=this.placeholder?this.placeholder:this.inputEl.getAttribute("placeholder").split(""),this.maxLength=this._getCharactersAllowedCount(this.format),this.matchPlaceholderSize=null!==this.matchPlaceholderSize?this.matchPlaceholderSize:(0,c.boolean)(this.inputEl,"data-match-placeholder-size",!1)},e.prototype._parseFormat=function(t){for(var e=0,i=t.length,n=[],s=!1;e<i;e++)"\\"!==t[e]||s?(n.push((s?"\\":"")+t[e]),s=!1):s=!0;return n},e.prototype._parseCharacters=function(t){for(var e=t.split(""),i=0,n=t.length,s=[],r=[];i<n;i++){try{s[i]="\\"===this.format[i][0]?new RegExp(this.format[i]):null}catch(t){}s[i]&&s[i].exec(e[i])&&r.push(e[i])}return r},e.prototype._createDefaultInputElement=function(){var t=document.createElement("input");return t.className="spark-input__field",t.setAttribute("data-typeahead",""),t.setAttribute("type","tel"),this.el.appendChild(t),t},e.prototype._createDefaultPlaceholderElement=function(){var t=document.createElement("span");return t.className="spark-input__placeholder",this.el.appendChild(t),t},e.prototype._getCharactersAllowedCount=function(t){for(var e=0,i=t.length,n=0;e<i;e++)"\\d"===t[e]&&n++;return n},e.prototype._bindEventListenerCallbacks=function(){this._onKeydownBound=this._onKeydown.bind(this),this._onInputBound=this._onInput.bind(this),this._onFocusBound=this._onFocus.bind(this),this._onBlurBound=this._onBlur.bind(this),this._onPlaceholderClickBound=this._onPlaceholderClick.bind(this)},e.prototype._addEventListeners=function(){this.inputEl.addEventListener("keydown",this._onKeydownBound,!1),this.inputEl.addEventListener("input",this._onInputBound,!1),this.inputEl.addEventListener("focus",this._onFocusBound,!1),this.placeholderEl.addEventListener("click",this._onPlaceholderClickBound,!1)},e.prototype._removeEventListeners=function(){this.inputEl.removeEventListener("keydown",this._onKeydownBound),this.inputEl.removeEventListener("input",this._onInputBound),this.inputEl.removeEventListener("focus",this._onFocusBound),this.placeholderEl.removeEventListener("click",this._onPlaceholderClickBound),window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound)},e.prototype._getCaretStart=function(){return this._maintainFocus(function(){var t;if(document.selection){this.inputEl.focus();var e=document.selection.createRange();e.moveStart("character",-this.inputEl.value.length),t=e.text.length}else(this.inputEl.selectionStart||0===this.inputEl.selectionStart)&&(t=this.inputEl.selectionStart);return t})},e.prototype._getCaretEnd=function(){return this._maintainFocus(function(){var t;if(document.selection){this.inputEl.focus();var e=document.selection.createRange();e.moveStart("character",-this.inputEl.value.length),t=e.text.length}else(this.inputEl.selectionEnd||0===this.inputEl.selectionEnd)&&(t=this.inputEl.selectionEnd);return t})},e.prototype._caretIsAtEnd=function(){return this._getCaretStart()===this.maxLength},e.prototype._setCaretPosition=function(t){return this._maintainFocus(function(){if(document.selection){this.inputEl.focus();var e=document.selection.createRange();e.moveStart("character",-this.inputEl.value.length),e.moveStart("character",t),e.moveEnd("character",0),e.select()}else(this.inputEl.selectionStart||0===this.inputEl.selectionStart)&&(this.inputEl.selectionStart=t,this.inputEl.selectionEnd=t)})},e.prototype._getCaretPositionTranslated=function(t){for(var e=0,i=0;e<t;e++)"\\d"!==this.format[e]&&i++;return t-i},e.prototype._getCaretStartTranslated=function(){return this._getCaretPositionTranslated(this._getCaretStart())},e.prototype._getCaretEndTranslated=function(){return this._getCaretPositionTranslated(this._getCaretEnd())},e.prototype._setCaretPositionTranslated=function(t){for(var e=0,i=0;e<t+i;e++)void 0!==this.format[e]&&"\\d"!==this.format[e]&&i++;this._setCaretPosition(t+i)},e.prototype._moveCaret=function(t){var e=this._getCaretStart();return"left"===t?this._setCaretPosition(e-1):"right"===t&&this._setCaretPosition(e+1),e!==this._getCaretStart()},e.prototype._emptyWhenOnlyPlaceholders=function(){this.characters.length||this.clear()},e.prototype._maintainFocus=function(t){this.pause();var e=document.activeElement;e||(e=document.body);var i=(t||d).call(this);return e!==this.inputEl&&(this.inputEl.blur(),e.focus()),this.resume(),i},e.prototype._updateWidth=function(){this.matchPlaceholderSize&&(this.placeholderEl.style.width="auto",this.inputEl.style.width="auto",this.inputEl.style.width=this.placeholderEl.offsetWidth+2+"px",this.placeholderEl.style.width="")},e.prototype._onKeydown=function(t){var e=t.keyCode||t.which;e===this.pasteCode&&(t.metaKey||t.ctrlKey)||(e===this.actionCodes.BACKSPACE?(this.removeCharacterAtCaret(-1),this._onBackspace(),t.preventDefault()):e===this.actionCodes.DELETE?(this.removeCharacterAtCaret(0),t.preventDefault()):e===this.actionCodes.LEFT?this._getCaretStart()||(this.onBackspace||d)():e===this.actionCodes.RIGHT?this._getCaretStart()===this.characters.length&&(this.onEnd||d)():-1===this.ignoreCodes.indexOf(e)&&(t.preventDefault(),this.addCharacterAtCaret(String.fromCharCode(e))))},e.prototype._onInput=function(t){t.preventDefault(),this.characters=this._parseCharacters(this.inputEl.value),this.run(),(this.onInput||d)(this.getValue(),this)},e.prototype._onFocus=function(){window.removeEventListener("blur",this._onBlurBound),window.addEventListener("blur",this._onBlurBound,!1),this.inputEl.removeEventListener("blur",this._onBlurBound),this.inputEl.addEventListener("blur",this._onBlurBound,!1),this.isFocused||this.pauseBlurFocus||this.isRunning||(this.run(),(this.onFocus||d)(this.getValue(),this),this.isFocused=!0,this._oldVal=this.inputEl.value)},e.prototype._onBlur=function(){window.removeEventListener("blur",this._onBlurBound),this.inputEl.removeEventListener("blur",this._onBlurBound),this.isFocused=!1,this.pauseBlurFocus||this.isRunning||(this._emptyWhenOnlyPlaceholders(),this._oldVal!==this.inputEl.value&&(0,h.default)(this.inputEl,"change"),(this.onBlur||d)(this.getValue(),this))},e.prototype._onPlaceholderClick=function(t){t.preventDefault(),t.stopPropagation(),this.inputEl.focus()},e.prototype._onBackspace=function(){this._getCaretStart()||(this.onBackspace||d)()},e}(l.default);p.prototype._whitelistedParams=["format","placeholder","matchPlaceholderSize","onChange","onFocus","onBlur","onInput","onBackspace","onEnd"],p.prototype.defaults={el:null,inputEl:null,placeholderEl:null,placeholder:null,characters:null,format:null,ignoreCodes:[9,16,17,18,20,91,93,112,113,114,115,116,117,118,119,120,121,122,123],actionCodes:{BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39},pasteCode:86,pauseBlurFocus:0,matchPlaceholderSize:null,maxLength:null,isFocused:!1,isRunning:!1,onChange:null,onFocus:null,onBlur:null,onInput:null,onBackspace:null,onEnd:null,_atEnd:!1,_oldVal:null,_onInputBound:null,_onKeydownBound:null,_onFocusBound:null,_onBlurBound:null,_onPlaceholderClickBound:null},i.default=p,e.exports=i.default},{"../helpers/dom/parse-attribute":9,"../helpers/dom/trigger-event":12,"./base":1}],4:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){switch(e){case"overflow":case"visibility":return"visible"===i?"hidden":"visible";default:return"block"===i||"inline-block"===i?"none":"block"}}function r(t){t.toggleClassName?(0,m.default)(t.el,t.toggleClassName,!t.collapse):t.toggleEl.style[t.toggleProperty]="",t.el.style.height="",t.toggleEl.style.height="",t.toggleEl.style.marginBottom="",t.toggleEl.style.marginTop="",(0,d.default)(t.el,t.heightAnimationClass),(0,d.default)(t.toggleEl,t.heightAnimationClass),t.onComplete();var e=_.els.indexOf(t.el);_.els.splice(e,1),_.completeCallbacks.splice(e,1)}function o(t){function e(){var e=(0,l.default)(i),s=void 0,f=void 0;n?(u?(0,d.default)(i,u):a.style[c]=g,f=(0,l.default)(a,p),s=0):(s=(0,l.default)(a,p),f=0),i.style.height=C+"px",a.style.height=f+"px",a.style.marginBottom="0px",a.style.marginTop="0px",(0,h.default)(i,o),(0,h.default)(a,o),_.els.push(i),setTimeout(function(){i.style.height=e+"px",a.style.height=s+"px",_.completeCallbacks.push(setTimeout(function(){r({el:i,toggleEl:a,onComplete:t.onComplete||v,collapse:n,toggleProperty:c,toggleClassName:u,toggleValue:y,heightAnimationClass:o})},void 0!==t.animationDuration?t.animationDuration:201))},0)}t=t||{};var i=t.el;if(i){var n=t.action&&"collapse"===t.action,o=t.heightAnimationClass||"spark-animate-height",a="string"==typeof t.toggleEl?i.querySelector(t.toggleEl):t.toggleEl;if(a&&!(0,f.default)(i,"spark-no-animate")){var u=t.toggleClass,c=t.toggleProperty||"display",p=window.getComputedStyle(a),g=p[c],y=t.toggleValue||s(c,g),E=_.els.indexOf(i);if(-1!==E){var b=_.completeCallbacks[E];b&&clearTimeout(b),r({el:i,toggleEl:a,onComplete:t.onComplete||v,collapse:n,toggleProperty:c,toggleClassName:u,toggleValue:y,heightAnimationClass:o})}var C=(0,l.default)(i);u?(0,m.default)(i,u,!n):a.style[c]=y,n?setTimeout(e,0):e()}}}Object.defineProperty(i,"__esModule",{value:!0});var a=t("../dom/outer-height"),l=n(a),u=t("../dom/add-class"),h=n(u),c=t("../dom/remove-class"),d=n(c),p=t("../dom/has-class"),f=n(p),g=t("../dom/toggle-class"),m=n(g),v=function(){},_={els:[],completeCallbacks:[]};i.default=o,e.exports=i.default},{"../dom/add-class":5,"../dom/has-class":6,"../dom/outer-height":8,"../dom/remove-class":10,"../dom/toggle-class":11}],5:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(e=2===arguments.length&&"string"==typeof e?(0,o.default)(e).split(u):e instanceof Array?e:Array.prototype.slice.call(arguments,1),1===e.length&&t.classList)return e[0]&&t.classList.add(e[0]),t;for(var i=[],n=0,s=e.length,r=void 0,a="string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"";n<s;n++)(r=e[n])&&!(0,l.default)(a,r)&&i.push(r);return i.length&&("string"==typeof t.className?t.className=(0,o.default)((a+" "+i.join(" ")).replace(h," ")):t.setAttribute&&t.setAttribute("class",(0,o.default)((a+" "+i.join(" ")).replace(h," ")))),t}Object.defineProperty(i,"__esModule",{value:!0});var r=t("../util/trim"),o=n(r),a=t("./has-class"),l=n(a),u=/\s+/,h=/\s{2,}/g;i.default=s,e.exports=i.default},{"../util/trim":15,"./has-class":6}],6:[function(t,e,i){"use strict";function n(t,e){return-1!==(" "+("object"===(void 0===t?"undefined":s(t))?t.className||t.getAttribute&&t.getAttribute("class")||"":t||"").replace(/[\t\r\n\f]/g," ")+" ").indexOf(" "+e+" ")}Object.defineProperty(i,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.default=n,e.exports=i.default},{}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){if(!t)throw new Error("Cannot create element with no HTML!");var e=document.createElement("div");e.innerHTML=t;var i=e.children[0];return i.parentNode.removeChild(i),i},e.exports=i.default},{}],8:[function(t,e,i){"use strict";function n(t,e){e=e||window.getComputedStyle(t);var i=t.clientHeight;return(0,r.default)(o,function(t){i+=parseInt(e[t]||0,10)}),i}Object.defineProperty(i,"__esModule",{value:!0});var s=t("../util/each"),r=function(t){return t&&t.__esModule?t:{default:t}}(s),o=["marginTop","marginBottom","borderTop","borderBottom"];i.default=n,e.exports=i.default},{"../util/each":13}],9:[function(t,e,i){"use strict";function n(t,e,i){var n=t.getAttribute(e);return null===n?i:"true"===n||""===n}function s(t,e,i){var n=t.getAttribute(e);return null===n?i:parseInt(n,10)}function r(t,e,i){var n=t.getAttribute(e);return null===n?i:n}Object.defineProperty(i,"__esModule",{value:!0}),i.boolean=n,i.number=s,i.string=r},{}],10:[function(t,e,i){"use strict";function n(t,e){if(e=2===arguments.length&&"string"==typeof e?(0,r.default)(e).split(o):e instanceof Array?e:Array.prototype.slice.call(arguments,1),1===e.length&&t.classList)return e[0]&&t.classList.remove(e[0]),t;for(var i=" "+("string"==typeof t.className?t.className:t.getAttribute?t.getAttribute("class"):"")+" ",n=i,s=void 0,l=void 0,u=0,h=e.length;u<h;u++)s=e[u],-1!==(l=s?n.indexOf(" "+s+" "):-1)&&(l+=1,n=n.slice(0,l)+n.slice(l+s.length));return i!==n&&("string"==typeof t.className?t.className=(0,r.default)(n.replace(a," ")):t.setAttribute&&t.setAttribute("class",(0,r.default)(n.replace(a," ")))),t}Object.defineProperty(i,"__esModule",{value:!0});var s=t("../util/trim"),r=function(t){return t&&t.__esModule?t:{default:t}}(s),o=/\s+/,a=/\s{2,}/g;i.default=n,e.exports=i.default},{"../util/trim":15}],11:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){if(t){if(!(t instanceof NodeList||t instanceof Array)){var n=void 0;return void 0!==i?(i="function"==typeof i?i.call(null,t):i,n=i?"add":"remove"):n=(0,o.default)(t,e)?"remove":"add",("add"===n?l.default:h.default)(t,e)}for(var r=0,a=t.length;r<a;r++)s(t[r],e,i)}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("./has-class"),o=n(r),a=t("./add-class"),l=n(a),u=t("./remove-class"),h=n(u);i.default=s,e.exports=i.default},{"./add-class":5,"./has-class":6,"./remove-class":10}],12:[function(t,e,i){"use strict";function n(t,e){var i=void 0;document.createEvent?(i=document.createEvent("HTMLEvents"),i.initEvent(e,!0,!0),i.eventName=e,t.dispatchEvent(i)):(i=document.createEventObject(),i.eventType=e,i.eventName=e,t.fireEvent("on"+i.eventType,i))}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n,e.exports=i.default},{}],13:[function(t,e,i){"use strict";function n(t,e){if(t){if("function"!=typeof e)throw new Error("Cannot invoke `each` without a callback!");var i=0,n=t.length;if(void 0===n)for(i in t)"prototype"!==i&&t.hasOwnProperty(i)&&e(i,t[i]);else for(;i<n;i++)e(t[i])}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n,e.exports=i.default},{}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];(0,s.default)(i,function(e){for(var i in e)e.hasOwnProperty(i)&&!t[i]&&(t[i]=e[i])})};var n=t("./each"),s=function(t){return t&&t.__esModule?t:{default:t}}(n);e.exports=i.default},{"./each":13}],15:[function(t,e,i){"use strict";function n(t){return t.replace(s,"")}Object.defineProperty(i,"__esModule",{value:!0});var s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;i.default=n,e.exports=i.default},{}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("../helpers/animation/height"),s=function(t){return t&&t.__esModule?t:{default:t}}(n);i.default={setError:function(t){return this._isMessageVisible()||this._showMessage(),this.clearWarning(),this.clearSuccess(),this.el.setAttribute("data-error",!0),t&&this.setMessage(t),this},clearError:function(){return this.el.removeAttribute("data-error",!0),this},setWarning:function(t){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearSuccess(),this.el.setAttribute("data-warning",!0),t&&this.setMessage(t),this},clearWarning:function(){return this.el.removeAttribute("data-warning",!0),this},setSuccess:function(t){return this._isMessageVisible()||this._showMessage(),this.clearError(),this.clearWarning(),this.el.setAttribute("data-success",!0),t&&this.setMessage(t),this},clearSuccess:function(){return this.el.removeAttribute("data-success",!0),this},clearMessages:function(){return this._hideMessage(function(){this.clearError(),this.clearWarning(),this.clearSuccess()}.bind(this)),this},setMessage:function(t){return this.messageEl.innerHTML=t,this},_showMessage:function(){this.messageEl.parentNode||this.el.appendChild(this.messageEl),(0,s.default)({el:this.el,toggleEl:this.messageEl})},_hideMessage:function(t){(0,s.default)({el:this.el,toggleEl:this.messageEl,toggleValue:"none",action:"collapse",onComplete:t})},_isMessageVisible:function(){return this.el.getAttribute("data-error")||this.el.getAttribute("data-warning")||this.el.getAttribute("data-success")}},e.exports=i.default},{"../helpers/animation/height":4}],17:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={validate:function(){var t=this.validatePattern;if(!this.onValidate||!t)return this;var e=new RegExp(t);return this.onValidate(e.test(this.getValue()),this.getValue(),this),this}},e.exports=i.default},{}]},{},[2])(2)});